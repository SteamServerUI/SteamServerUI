(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const _n="5";var _s;typeof window<"u"&&((_s=window.__svelte??(window.__svelte={})).v??(_s.v=new Set)).add(_n);let Ot=!1,gn=!1;function bn(){Ot=!0}bn();const Br=1,Pr=2,gs=4,mn=8,kn=16,yn=1,wn=2,Sn=4,xn=8,Cn=16,En=1,An=2,Tn=4,bs=1,qn=2,qe=Symbol(),Dn="http://www.w3.org/1999/xhtml",Kr=!1;function ms(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var or=Array.isArray,In=Array.prototype.indexOf,zr=Array.from,ks=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,ys=Object.getOwnPropertyDescriptors,Nn=Object.prototype,On=Array.prototype,Mr=Object.getPrototypeOf,Zr=Object.isExtensible;function Rn(e){return typeof e=="function"}const He=()=>{};function Ln(e){return e()}function Cr(e){for(var t=0;t<e.length;t++)e[t]()}const Je=2,ws=4,cr=8,vr=16,it=32,Rt=64,Xt=128,Re=256,er=512,Ee=1024,Qe=2048,pt=4096,st=8192,ur=16384,Ss=32768,fr=65536,Bn=1<<17,Pn=1<<19,xs=1<<20,Er=1<<21,nt=Symbol("$state"),zn=Symbol("legacy props"),Mn=Symbol("");function Un(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function jn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Fn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Vn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Gn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Hn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $n(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Wn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Jn=!1;function _t(e){if(typeof e!="object"||e===null||nt in e)return e;const t=Mr(e);if(t!==Nn&&t!==On)return e;var r=new Map,n=or(e),a=ot(0),i=ue,l=c=>{var o=ue;Ue(i);var v=c();return Ue(o),v};return n&&r.set("length",ot(e.length)),new Proxy(e,{defineProperty(c,o,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Hn();var g=r.get(o);return g===void 0?(g=l(()=>ot(v.value)),r.set(o,g)):f(g,l(()=>_t(v.value))),!0},deleteProperty(c,o){var v=r.get(o);if(v===void 0)o in c&&(r.set(o,l(()=>ot(qe))),kr(a));else{if(n&&typeof o=="string"){var g=r.get("length"),d=Number(o);Number.isInteger(d)&&d<g.v&&f(g,d)}f(v,qe),kr(a)}return!0},get(c,o,v){var h;if(o===nt)return e;var g=r.get(o),d=o in c;if(g===void 0&&(!d||(h=qt(c,o))!=null&&h.writable)&&(g=l(()=>ot(_t(d?c[o]:qe))),r.set(o,g)),g!==void 0){var u=s(g);return u===qe?void 0:u}return Reflect.get(c,o,v)},getOwnPropertyDescriptor(c,o){var v=Reflect.getOwnPropertyDescriptor(c,o);if(v&&"value"in v){var g=r.get(o);g&&(v.value=s(g))}else if(v===void 0){var d=r.get(o),u=d==null?void 0:d.v;if(d!==void 0&&u!==qe)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return v},has(c,o){var u;if(o===nt)return!0;var v=r.get(o),g=v!==void 0&&v.v!==qe||Reflect.has(c,o);if(v!==void 0||ce!==null&&(!g||(u=qt(c,o))!=null&&u.writable)){v===void 0&&(v=l(()=>ot(g?_t(c[o]):qe)),r.set(o,v));var d=s(v);if(d===qe)return!1}return g},set(c,o,v,g){var x;var d=r.get(o),u=o in c;if(n&&o==="length")for(var h=v;h<d.v;h+=1){var p=r.get(h+"");p!==void 0?f(p,qe):h in c&&(p=l(()=>ot(qe)),r.set(h+"",p))}d===void 0?(!u||(x=qt(c,o))!=null&&x.writable)&&(d=l(()=>ot(void 0)),f(d,l(()=>_t(v))),r.set(o,d)):(u=d.v!==qe,f(d,l(()=>_t(v))));var T=Reflect.getOwnPropertyDescriptor(c,o);if(T!=null&&T.set&&T.set.call(g,v),!u){if(n&&typeof o=="string"){var E=r.get("length"),m=Number(o);Number.isInteger(m)&&m>=E.v&&f(E,m+1)}kr(a)}return!0},ownKeys(c){s(a);var o=Reflect.ownKeys(c).filter(d=>{var u=r.get(d);return u===void 0||u.v!==qe});for(var[v,g]of r)g.v!==qe&&!(v in c)&&o.push(v);return o},setPrototypeOf(){$n()}})}function kr(e,t=1){f(e,e.v+t)}function Qr(e){try{if(e!==null&&typeof e=="object"&&nt in e)return e[nt]}catch{}return e}function Yn(e,t){return Object.is(Qr(e),Qr(t))}var Xr,Cs,Es,As;function Kn(){if(Xr===void 0){Xr=window,Cs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Es=qt(t,"firstChild").get,As=qt(t,"nextSibling").get,Zr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Zr(r)&&(r.__t=void 0)}}function dr(e=""){return document.createTextNode(e)}function tt(e){return Es.call(e)}function pr(e){return As.call(e)}function _(e,t){return tt(e)}function at(e,t){{var r=tt(e);return r instanceof Comment&&r.data===""?pr(r):r}}function w(e,t=1,r=!1){let n=e;for(;t--;)n=pr(n);return n}function Zn(e){e.textContent=""}function Ts(e){return e===this.v}function qs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ur(e){return!qs(e,this.v)}function Ut(e){var t=Je|Qe,r=ue!==null&&(ue.f&Je)!==0?ue:null;return ce===null||r!==null&&(r.f&Re)!==0?t|=Re:ce.f|=xs,{ctx:fe,deps:null,effects:null,equals:Ts,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??ce}}function We(e){const t=Ut(e);return t.equals=Ur,t}function Ds(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)dt(t[r])}}function Qn(e){for(var t=e.parent;t!==null;){if((t.f&Je)===0)return t;t=t.parent}return null}function Is(e){var t,r=ce;Xe(Qn(e));try{Ds(e),t=Fs(e)}finally{Xe(r)}return t}function Ns(e){var t=Is(e),r=(ft||(e.f&Re)!==0)&&e.deps!==null?pt:Ee;je(e,r),e.equals(t)||(e.v=t,e.wv=Us())}function Os(e){ce===null&&ue===null&&Fn(),ue!==null&&(ue.f&Re)!==0&&ce===null&&jn(),Gt&&Un()}function Xn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Lt(e,t,r,n=!0){var a=ce,i={ctx:fe,deps:null,nodes_start:null,nodes_end:null,f:e|Qe,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(r)try{br(i),i.f|=Ss}catch(o){throw dt(i),o}else t!==null&&mr(i);var l=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(xs|Xt))===0;if(!l&&n&&(a!==null&&Xn(i,a),ue!==null&&(ue.f&Je)!==0)){var c=ue;(c.effects??(c.effects=[])).push(i)}return i}function hr(e){const t=Lt(cr,null,!1);return je(t,Ee),t.teardown=e,t}function Ar(e){Os();var t=ce!==null&&(ce.f&it)!==0&&fe!==null&&!fe.m;if(t){var r=fe;(r.e??(r.e=[])).push({fn:e,effect:ce,reaction:ue})}else{var n=_r(e);return n}}function ea(e){return Os(),Bt(e)}function ta(e){const t=Lt(Rt,e,!0);return(r={})=>new Promise(n=>{r.outro?tr(t,()=>{dt(t),n(void 0)}):(dt(t),n(void 0))})}function _r(e){return Lt(ws,e,!1)}function ut(e,t){var r=fe,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Bt(()=>{e(),!n.ran&&(n.ran=!0,f(r.l.r2,!0),Ye(t))})}function jr(){var e=fe;Bt(()=>{if(s(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&Ee)!==0&&je(r,pt),Pt(r)&&br(r),t.ran=!1}e.l.r2.v=!1}})}function Bt(e){return Lt(cr,e,!0)}function K(e,t=[],r=Ut){const n=t.map(r);return Fr(()=>e(...n.map(s)))}function Fr(e,t=0){return Lt(cr|vr|t,e,!0)}function jt(e,t=!0){return Lt(cr|it,e,!0,t)}function Rs(e){var t=e.teardown;if(t!==null){const r=Gt,n=ue;es(!0),Ue(null);try{t.call(null)}finally{es(r),Ue(n)}}}function Ls(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Rt)!==0?r.parent=null:dt(r,t),r=n}}function ra(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&it)===0&&dt(t),t=r}}function dt(e,t=!0){var r=!1;(t||(e.f&Pn)!==0)&&e.nodes_start!==null&&(sa(e.nodes_start,e.nodes_end),r=!0),Ls(e,t&&!r),ir(e,0),je(e,ur);var n=e.transitions;if(n!==null)for(const i of n)i.stop();Rs(e);var a=e.parent;a!==null&&a.first!==null&&Bs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function sa(e,t){for(;e!==null;){var r=e===t?null:pr(e);e.remove(),e=r}}function Bs(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function tr(e,t){var r=[];Vr(e,r,!0),Ps(r,()=>{dt(e),t&&t()})}function Ps(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function Vr(e,t,r){if((e.f&st)===0){if(e.f^=st,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var a=n.next,i=(n.f&fr)!==0||(n.f&it)!==0;Vr(n,t,i?r:!1),n=a}}}function rr(e){zs(e,!0)}function zs(e,t){if((e.f&st)!==0){e.f^=st,(e.f&Ee)===0&&(e.f^=Ee),Pt(e)&&(je(e,Qe),mr(e));for(var r=e.first;r!==null;){var n=r.next,a=(r.f&fr)!==0||(r.f&it)!==0;zs(r,a?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let sr=[];function na(){var e=sr;sr=[],Cr(e)}function Dt(e){sr.length===0&&queueMicrotask(na),sr.push(e)}let Zt=!1,Tr=!1,nr=null,gt=!1,Gt=!1;function es(e){Gt=e}let Qt=[];let ue=null,Ze=!1;function Ue(e){ue=e}let ce=null;function Xe(e){ce=e}let Ce=null;function aa(e){ue!==null&&ue.f&Er&&(Ce===null?Ce=[e]:Ce.push(e))}let xe=null,Ne=0,Be=null;function ia(e){Be=e}let Ms=1,ar=0,ft=!1;function Us(){return++Ms}function Pt(e){var d;var t=e.f;if((t&Qe)!==0)return!0;if((t&pt)!==0){var r=e.deps,n=(t&Re)!==0;if(r!==null){var a,i,l=(t&er)!==0,c=n&&ce!==null&&!ft,o=r.length;if(l||c){var v=e,g=v.parent;for(a=0;a<o;a++)i=r[a],(l||!((d=i==null?void 0:i.reactions)!=null&&d.includes(v)))&&(i.reactions??(i.reactions=[])).push(v);l&&(v.f^=er),c&&g!==null&&(g.f&Re)===0&&(v.f^=Re)}for(a=0;a<o;a++)if(i=r[a],Pt(i)&&Ns(i),i.wv>e.wv)return!0}(!n||ce!==null&&!ft)&&je(e,Ee)}return!1}function la(e,t){for(var r=t;r!==null;){if((r.f&Xt)!==0)try{r.fn(e);return}catch{r.f^=Xt}r=r.parent}throw Zt=!1,e}function ts(e){return(e.f&ur)===0&&(e.parent===null||(e.parent.f&Xt)===0)}function gr(e,t,r,n){if(Zt){if(r===null&&(Zt=!1),ts(t))throw e;return}if(r!==null&&(Zt=!0),la(e,t),ts(t))throw e}function js(e,t,r=!0){var n=e.reactions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];Ce!=null&&Ce.includes(e)||((i.f&Je)!==0?js(i,t,!1):t===i&&(r?je(i,Qe):(i.f&Ee)!==0&&je(i,pt),mr(i)))}}function Fs(e){var h;var t=xe,r=Ne,n=Be,a=ue,i=ft,l=Ce,c=fe,o=Ze,v=e.f;xe=null,Ne=0,Be=null,ft=(v&Re)!==0&&(Ze||!gt||ue===null),ue=(v&(it|Rt))===0?e:null,Ce=null,rs(e.ctx),Ze=!1,ar++,e.f|=Er;try{var g=(0,e.fn)(),d=e.deps;if(xe!==null){var u;if(ir(e,Ne),d!==null&&Ne>0)for(d.length=Ne+xe.length,u=0;u<xe.length;u++)d[Ne+u]=xe[u];else e.deps=d=xe;if(!ft)for(u=Ne;u<d.length;u++)((h=d[u]).reactions??(h.reactions=[])).push(e)}else d!==null&&Ne<d.length&&(ir(e,Ne),d.length=Ne);if(Ht()&&Be!==null&&!Ze&&d!==null&&(e.f&(Je|pt|Qe))===0)for(u=0;u<Be.length;u++)js(Be[u],e);return a!==null&&a!==e&&(ar++,Be!==null&&(n===null?n=Be:n.push(...Be))),g}finally{xe=t,Ne=r,Be=n,ue=a,ft=i,Ce=l,rs(c),Ze=o,e.f^=Er}}function oa(e,t){let r=t.reactions;if(r!==null){var n=In.call(r,e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(t.f&Je)!==0&&(xe===null||!xe.includes(t))&&(je(t,pt),(t.f&(Re|er))===0&&(t.f^=er),Ds(t),ir(t,0))}function ir(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)oa(e,r[n])}function br(e){var t=e.f;if((t&ur)===0){je(e,Ee);var r=ce,n=fe,a=gt;ce=e,gt=!0;try{(t&vr)!==0?ra(e):Ls(e),Rs(e);var i=Fs(e);e.teardown=typeof i=="function"?i:null,e.wv=Ms;var l=e.deps,c;Kr&&gn&&e.f&Qe}catch(o){gr(o,e,r,n||e.ctx)}finally{gt=a,ce=r}}}function ca(){try{Vn()}catch(e){if(nr!==null)gr(e,nr,null);else throw e}}function va(){var e=gt;try{var t=0;for(gt=!0;Qt.length>0;){t++>1e3&&ca();var r=Qt,n=r.length;Qt=[];for(var a=0;a<n;a++){var i=fa(r[a]);ua(i)}Ft.clear()}}finally{Tr=!1,gt=e,nr=null}}function ua(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(ur|st))===0)try{Pt(n)&&(br(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Bs(n):n.fn=null))}catch(a){gr(a,n,null,n.ctx)}}}function mr(e){Tr||(Tr=!0,queueMicrotask(va));for(var t=nr=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Rt|it))!==0){if((r&Ee)===0)return;t.f^=Ee}}Qt.push(t)}function fa(e){for(var t=[],r=e;r!==null;){var n=r.f,a=(n&(it|Rt))!==0,i=a&&(n&Ee)!==0;if(!i&&(n&st)===0){if((n&ws)!==0)t.push(r);else if(a)r.f^=Ee;else try{Pt(r)&&br(r)}catch(o){gr(o,r,null,r.ctx)}var l=r.first;if(l!==null){r=l;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)r=c.next,c=c.parent}return t}function s(e){var t=e.f,r=(t&Je)!==0;if(ue!==null&&!Ze){if(!(Ce!=null&&Ce.includes(e))){var n=ue.deps;e.rv<ar&&(e.rv=ar,xe===null&&n!==null&&n[Ne]===e?Ne++:xe===null?xe=[e]:(!ft||!xe.includes(e))&&xe.push(e))}}else if(r&&e.deps===null&&e.effects===null){var a=e,i=a.parent;i!==null&&(i.f&Re)===0&&(a.f^=Re)}return r&&(a=e,Pt(a)&&Ns(a)),Gt&&Ft.has(e)?Ft.get(e):e.v}function Ye(e){var t=Ze;try{return Ze=!0,e()}finally{Ze=t}}const da=-7169;function je(e,t){e.f=e.f&da|t}function pa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(nt in e)qr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&nt in r&&qr(r)}}}function qr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{qr(e[n],t)}catch{}const r=Mr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=ys(r);for(let a in n){const i=n[a].get;if(i)try{i.call(e)}catch{}}}}}const Ft=new Map;function Vt(e,t){var r={f:0,v:e,reactions:null,equals:Ts,rv:0,wv:0};return r}function ot(e,t){const r=Vt(e);return aa(r),r}function N(e,t=!1){var n;const r=Vt(e);return t||(r.equals=Ur),Ot&&fe!==null&&fe.l!==null&&((n=fe.l).s??(n.s=[])).push(r),r}function ct(e,t){return f(e,Ye(()=>s(e))),t}function f(e,t,r=!1){ue!==null&&!Ze&&Ht()&&(ue.f&(Je|vr))!==0&&!(Ce!=null&&Ce.includes(e))&&Wn();let n=r?_t(t):t;return Dr(e,n)}function Dr(e,t){if(!e.equals(t)){var r=e.v;Gt?Ft.set(e,t):Ft.set(e,r),e.v=t,(e.f&Je)!==0&&((e.f&Qe)!==0&&Is(e),je(e,(e.f&Re)===0?Ee:pt)),e.wv=Us(),Vs(e,Qe),Ht()&&ce!==null&&(ce.f&Ee)!==0&&(ce.f&(it|Rt))===0&&(Be===null?ia([e]):Be.push(e))}return t}function Vs(e,t){var r=e.reactions;if(r!==null)for(var n=Ht(),a=r.length,i=0;i<a;i++){var l=r[i],c=l.f;(c&Qe)===0&&(!n&&l===ce||(je(l,t),(c&(Ee|Re))!==0&&((c&Je)!==0?Vs(l,pt):mr(l))))}}let fe=null;function rs(e){fe=e}function Fe(e,t=!1,r){var n=fe={p:fe,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Ot&&!t&&(fe.l={s:null,u:null,r1:[],r2:Vt(!1)}),hr(()=>{n.d=!0})}function Ve(e){const t=fe;if(t!==null){const l=t.e;if(l!==null){var r=ce,n=ue;t.e=null;try{for(var a=0;a<l.length;a++){var i=l[a];Xe(i.effect),Ue(i.reaction),_r(i.fn)}}finally{Xe(r),Ue(n)}}fe=t.p,t.m=!0}return{}}function Ht(){return!Ot||fe!==null&&fe.l===null}const ha=["touchstart","touchmove"];function _a(e){return ha.includes(e)}let ss=!1;function ga(){ss||(ss=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Gr(e){var t=ue,r=ce;Ue(null),Xe(null);try{return e()}finally{Ue(t),Xe(r)}}function Gs(e,t,r,n=r){e.addEventListener(t,()=>Gr(r));const a=e.__on_r;a?e.__on_r=()=>{a(),n(!0)}:e.__on_r=()=>n(!0),ga()}const ba=new Set,ns=new Set;function ma(e,t,r,n={}){function a(i){if(n.capture||Mt.call(t,i),!i.cancelBubble)return Gr(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Dt(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function W(e,t,r,n,a){var i={capture:n,passive:a},l=ma(e,t,r,i);(t===document.body||t===window||t===document)&&hr(()=>{t.removeEventListener(e,l,i)})}function Mt(e){var x;var t=this,r=t.ownerDocument,n=e.type,a=((x=e.composedPath)==null?void 0:x.call(e))||[],i=a[0]||e.target,l=0,c=e.__root;if(c){var o=a.indexOf(c);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var v=a.indexOf(t);if(v===-1)return;o<=v&&(l=o)}if(i=a[l]||e.target,i!==t){ks(e,"currentTarget",{configurable:!0,get(){return i||r}});var g=ue,d=ce;Ue(null),Xe(null);try{for(var u,h=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var T=i["__"+n];if(T!=null&&(!i.disabled||e.target===i))if(or(T)){var[E,...m]=T;E.apply(i,[e,...m])}else T.call(i,e)}catch(C){u?h.push(C):u=C}if(e.cancelBubble||p===t||p===null)break;i=p}if(u){for(let C of h)queueMicrotask(()=>{throw C});throw u}}finally{e.__root=t,delete e.currentTarget,Ue(g),Xe(d)}}}function Hs(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function It(e,t){var r=ce;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function L(e,t){var r=(t&bs)!==0,n=(t&qn)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=Hs(i?e:"<!>"+e),r||(a=tt(a)));var l=n||Cs?document.importNode(a,!0):a.cloneNode(!0);if(r){var c=tt(l),o=l.lastChild;It(c,o)}else It(l,l);return l}}function Hr(e,t,r="svg"){var n=!e.startsWith("<!>"),a=(t&bs)!==0,i=`<${r}>${n?e:"<!>"+e}</${r}>`,l;return()=>{if(!l){var c=Hs(i),o=tt(c);if(a)for(l=document.createDocumentFragment();tt(o);)l.appendChild(tt(o));else l=tt(o)}var v=l.cloneNode(!0);if(a){var g=tt(v),d=v.lastChild;It(g,d)}else It(v,v);return v}}function te(e=""){{var t=dr(e+"");return It(t,t),t}}function Nt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=dr();return e.append(t,r),It(t,r),e}function k(e,t){e!==null&&e.before(t)}let Ir=!0;function J(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function ka(e,t){return ya(e,t)}const Ct=new Map;function ya(e,{target:t,anchor:r,props:n={},events:a,context:i,intro:l=!0}){Kn();var c=new Set,o=d=>{for(var u=0;u<d.length;u++){var h=d[u];if(!c.has(h)){c.add(h);var p=_a(h);t.addEventListener(h,Mt,{passive:p});var T=Ct.get(h);T===void 0?(document.addEventListener(h,Mt,{passive:p}),Ct.set(h,1)):Ct.set(h,T+1)}}};o(zr(ba)),ns.add(o);var v=void 0,g=ta(()=>{var d=r??t.appendChild(dr());return jt(()=>{if(i){Fe({});var u=fe;u.c=i}a&&(n.$$events=a),Ir=l,v=e(d,n)||{},Ir=!0,i&&Ve()}),()=>{var p;for(var u of c){t.removeEventListener(u,Mt);var h=Ct.get(u);--h===0?(document.removeEventListener(u,Mt),Ct.delete(u)):Ct.set(u,h)}ns.delete(o),d!==r&&((p=d.parentNode)==null||p.removeChild(d))}});return wa.set(v,g),v}let wa=new WeakMap;function O(e,t,[r,n]=[0,0]){var a=e,i=null,l=null,c=qe,o=r>0?fr:0,v=!1;const g=(u,h=!0)=>{v=!0,d(h,u)},d=(u,h)=>{c!==(c=u)&&(c?(i?rr(i):h&&(i=jt(()=>h(a))),l&&tr(l,()=>{l=null})):(l?rr(l):h&&(l=jt(()=>h(a,[r+1,n]))),i&&tr(i,()=>{i=null})))};Fr(()=>{v=!1,t(g),v||d(null,null)},o)}function Pe(e,t){return t}function Sa(e,t,r,n){for(var a=[],i=t.length,l=0;l<i;l++)Vr(t[l].e,a,!0);var c=i>0&&a.length===0&&r!==null;if(c){var o=r.parentNode;Zn(o),o.append(r),n.clear(),vt(e,t[0].prev,t[i-1].next)}Ps(a,()=>{for(var v=0;v<i;v++){var g=t[v];c||(n.delete(g.k),vt(e,g.prev,g.next)),dt(g.e,!c)}})}function ze(e,t,r,n,a,i=null){var l=e,c={flags:t,items:new Map,first:null},o=(t&gs)!==0;if(o){var v=e;l=v.appendChild(dr())}var g=null,d=!1,u=We(()=>{var h=r();return or(h)?h:h==null?[]:zr(h)});Fr(()=>{var h=s(u),p=h.length;d&&p===0||(d=p===0,xa(h,c,l,a,t,n,r),i!==null&&(p===0?g?rr(g):g=jt(()=>i(l)):g!==null&&tr(g,()=>{g=null})),s(u))})}function xa(e,t,r,n,a,i,l){var X,V,ee,I;var c=(a&mn)!==0,o=(a&(Br|Pr))!==0,v=e.length,g=t.items,d=t.first,u=d,h,p=null,T,E=[],m=[],x,C,S,b;if(c)for(b=0;b<v;b+=1)x=e[b],C=i(x,b),S=g.get(C),S!==void 0&&((X=S.a)==null||X.measure(),(T??(T=new Set)).add(S));for(b=0;b<v;b+=1){if(x=e[b],C=i(x,b),S=g.get(C),S===void 0){var A=u?u.e.nodes_start:r;p=Ea(A,t,p,p===null?t.first:p.next,x,C,b,n,a,l),g.set(C,p),E=[],m=[],u=p.next;continue}if(o&&Ca(S,x,b,a),(S.e.f&st)!==0&&(rr(S.e),c&&((V=S.a)==null||V.unfix(),(T??(T=new Set)).delete(S))),S!==u){if(h!==void 0&&h.has(S)){if(E.length<m.length){var q=m[0],B;p=q.prev;var P=E[0],se=E[E.length-1];for(B=0;B<E.length;B+=1)as(E[B],q,r);for(B=0;B<m.length;B+=1)h.delete(m[B]);vt(t,P.prev,se.next),vt(t,p,P),vt(t,se,q),u=q,p=se,b-=1,E=[],m=[]}else h.delete(S),as(S,u,r),vt(t,S.prev,S.next),vt(t,S,p===null?t.first:p.next),vt(t,p,S),p=S;continue}for(E=[],m=[];u!==null&&u.k!==C;)(u.e.f&st)===0&&(h??(h=new Set)).add(u),m.push(u),u=u.next;if(u===null)continue;S=u}E.push(S),p=S,u=S.next}if(u!==null||h!==void 0){for(var ne=h===void 0?[]:zr(h);u!==null;)(u.e.f&st)===0&&ne.push(u),u=u.next;var ae=ne.length;if(ae>0){var ie=(a&gs)!==0&&v===0?r:null;if(c){for(b=0;b<ae;b+=1)(ee=ne[b].a)==null||ee.measure();for(b=0;b<ae;b+=1)(I=ne[b].a)==null||I.fix()}Sa(t,ne,ie,g)}}c&&Dt(()=>{var G;if(T!==void 0)for(S of T)(G=S.a)==null||G.apply()}),ce.first=t.first&&t.first.e,ce.last=p&&p.e}function Ca(e,t,r,n){(n&Br)!==0&&Dr(e.v,t),(n&Pr)!==0?Dr(e.i,r):e.i=r}function Ea(e,t,r,n,a,i,l,c,o,v){var g=(o&Br)!==0,d=(o&kn)===0,u=g?d?N(a):Vt(a):a,h=(o&Pr)===0?l:Vt(l),p={i:h,v:u,k:i,a:null,e:null,prev:r,next:n};try{return p.e=jt(()=>c(e,u,h,v),Jn),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?t.first=p:(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function as(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var l=pr(i);a.before(i),i=l}}function vt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function $s(e,t,r,n,a){var c;var i=(c=t.$$slots)==null?void 0:c[r],l=!1;i===!0&&(i=t.children,l=!0),i===void 0||i(e,l?()=>n:n)}function Ws(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Ws(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Aa(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Ws(e))&&(n&&(n+=" "),n+=t);return n}function Ta(e){return typeof e=="object"?Aa(e):e??""}const is=[...` 	
\r\f \v\uFEFF`];function qa(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,l=0;(l=n.indexOf(a,l))>=0;){var c=l+i;(l===0||is.includes(n[l-1]))&&(c===n.length||is.includes(n[c]))?n=(l===0?"":n.substring(0,l))+n.substring(c+1):l=c}}return n===""?null:n}function Da(e,t){return e==null?null:String(e)}function _e(e,t,r,n,a,i){var l=e.__className;if(l!==r||l===void 0){var c=qa(r,n,i);c==null?e.removeAttribute("class"):e.className=c,e.__className=r}else if(i&&a!==i)for(var o in i){var v=!!i[o];(a==null||v!==!!a[o])&&e.classList.toggle(o,v)}return i}function Js(e,t,r,n){var a=e.__style;if(a!==t){var i=Da(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return n}const Ia=Symbol("is custom element"),Na=Symbol("is html");function At(e,t){var r=$r(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Ys(e,t){var r=$r(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function De(e,t,r,n){var a=$r(e);a[t]!==(a[t]=r)&&(t==="loading"&&(e[Mn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Oa(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function $r(e){return e.__attributes??(e.__attributes={[Ia]:e.nodeName.includes("-"),[Na]:e.namespaceURI===Dn})}var ls=new Map;function Oa(e){var t=ls.get(e.nodeName);if(t)return t;ls.set(e.nodeName,t=[]);for(var r,n=e,a=Element.prototype;a!==n;){r=ys(n);for(var i in r)r[i].set&&t.push(i);n=Mr(n)}return t}const Ra=()=>performance.now(),rt={tick:e=>requestAnimationFrame(e),now:()=>Ra(),tasks:new Set};function Ks(){const e=rt.now();rt.tasks.forEach(t=>{t.c(e)||(rt.tasks.delete(t),t.f())}),rt.tasks.size!==0&&rt.tick(Ks)}function La(e){let t;return rt.tasks.size===0&&rt.tick(Ks),{promise:new Promise(r=>{rt.tasks.add(t={c:e,f:r})}),abort(){rt.tasks.delete(t)}}}function Jt(e,t){Gr(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ba(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function os(e){const t={},r=e.split(";");for(const n of r){const[a,i]=n.split(":");if(!a||i===void 0)break;const l=Ba(a.trim());t[l]=i.trim()}return t}const Pa=e=>e;function Yt(e,t,r,n){var a=(e&En)!==0,i=(e&An)!==0,l=a&&i,c=(e&Tn)!==0,o=l?"both":a?"in":"out",v,g=t.inert,d=t.style.overflow,u,h;function p(){var C=ue,S=ce;Ue(null),Xe(null);try{return v??(v=r()(t,(n==null?void 0:n())??{},{direction:o}))}finally{Ue(C),Xe(S)}}var T={is_global:c,in(){var C;if(t.inert=g,!a){h==null||h.abort(),(C=h==null?void 0:h.reset)==null||C.call(h);return}i||u==null||u.abort(),Jt(t,"introstart"),u=Nr(t,p(),h,1,()=>{Jt(t,"introend"),u==null||u.abort(),u=v=void 0,t.style.overflow=d})},out(C){if(!i){C==null||C(),v=void 0;return}t.inert=!0,Jt(t,"outrostart"),h=Nr(t,p(),u,0,()=>{Jt(t,"outroend"),C==null||C()})},stop:()=>{u==null||u.abort(),h==null||h.abort()}},E=ce;if((E.transitions??(E.transitions=[])).push(T),a&&Ir){var m=c;if(!m){for(var x=E.parent;x&&(x.f&fr)!==0;)for(;(x=x.parent)&&(x.f&vr)===0;);m=!x||(x.f&Ss)!==0}m&&_r(()=>{Ye(()=>T.in())})}}function Nr(e,t,r,n,a){var i=n===1;if(Rn(t)){var l,c=!1;return Dt(()=>{if(!c){var E=t({direction:i?"in":"out"});l=Nr(e,E,r,n,a)}}),{abort:()=>{c=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return a(),{abort:He,deactivate:He,reset:He,t:()=>n};const{delay:o=0,css:v,tick:g,easing:d=Pa}=t;var u=[];if(i&&r===void 0&&(g&&g(0,1),v)){var h=os(v(0,1));u.push(h,h)}var p=()=>1-n,T=e.animate(u,{duration:o});return T.onfinish=()=>{var E=(r==null?void 0:r.t())??1-n;r==null||r.abort();var m=n-E,x=t.duration*Math.abs(m),C=[];if(x>0){var S=!1;if(v)for(var b=Math.ceil(x/16.666666666666668),A=0;A<=b;A+=1){var q=E+m*d(A/b),B=os(v(q,1-q));C.push(B),S||(S=B.overflow==="hidden")}S&&(e.style.overflow="hidden"),p=()=>{var P=T.currentTime;return E+m*d(P/x)},g&&La(()=>{if(T.playState!=="running")return!1;var P=p();return g(P,1-P),!0})}T=e.animate(C,{duration:x,fill:"forwards"}),T.onfinish=()=>{p=()=>n,g==null||g(n,1-n),a()}},{abort:()=>{T&&(T.cancel(),T.effect=null,T.onfinish=He)},deactivate:()=>{a=He},reset:()=>{n===0&&(g==null||g(1,0))},t:()=>p()}}function Tt(e,t,r=t){var n=Ht();Gs(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=wr(e)?Sr(i):i,r(i),n&&i!==(i=t())){var l=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(c,e.value.length))}}),Ye(t)==null&&e.value&&r(wr(e)?Sr(e.value):e.value),Bt(()=>{var a=t();wr(e)&&a===Sr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}const yr=new Set;function Zs(e,t,r,n,a=n){var i=r.getAttribute("type")==="checkbox",l=e;if(t!==null)for(var c of t)l=l[c]??(l[c]=[]);l.push(r),Gs(r,"change",()=>{var o=r.__value;i&&(o=za(l,o,r.checked)),a(o)},()=>a(i?[]:null)),Bt(()=>{var o=n();i?(o=o||[],r.checked=o.includes(r.__value)):r.checked=Yn(r.__value,o)}),hr(()=>{var o=l.indexOf(r);o!==-1&&l.splice(o,1)}),yr.has(l)||(yr.add(l),Dt(()=>{l.sort((o,v)=>o.compareDocumentPosition(v)===4?-1:1),yr.delete(l)})),Dt(()=>{})}function za(e,t,r){for(var n=new Set,a=0;a<e.length;a+=1)e[a].checked&&n.add(e[a].__value);return r||n.delete(t),Array.from(n)}function wr(e){var t=e.type;return t==="number"||t==="range"}function Sr(e){return e===""?null:+e}function cs(e,t){return e===t||(e==null?void 0:e[nt])===t}function vs(e={},t,r,n){return _r(()=>{var a,i;return Bt(()=>{a=i,i=[],Ye(()=>{e!==r(...i)&&(t(e,...i),a&&cs(r(...a),e)&&t(null,...a))})}),()=>{Dt(()=>{i&&cs(r(...i),e)&&t(null,...i)})}}),e}function us(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Ma(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function Ke(e=!1){const t=fe,r=t.l.u;if(!r)return;let n=()=>pa(t.s);if(e){let a=0,i={};const l=Ut(()=>{let c=!1;const o=t.s;for(const v in o)o[v]!==i[v]&&(i[v]=o[v],c=!0);return c&&a++,a});n=()=>s(l)}r.b.length&&ea(()=>{fs(t,n),Cr(r.b)}),Ar(()=>{const a=Ye(()=>r.m.map(Ln));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Ar(()=>{fs(t,n),Cr(r.a)})}function fs(e,t){if(e.l.s)for(const r of e.l.s)s(r);t()}function ds(e,t){var i;var r=(i=e.$$events)==null?void 0:i[t.type],n=or(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,t)}function lt(e){fe===null&&ms(),Ot&&fe.l!==null?Ua(fe).m.push(e):Ar(()=>{const t=Ye(e);if(typeof t=="function")return t})}function Wr(e){fe===null&&ms(),lt(()=>()=>Ye(e))}function Ua(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function Qs(e,t,r){if(e==null)return t(void 0),He;const n=Ye(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Et=[];function Xs(e,t=He){let r=null;const n=new Set;function a(c){if(qs(e,c)&&(e=c,r)){const o=!Et.length;for(const v of n)v[1](),Et.push(v,e);if(o){for(let v=0;v<Et.length;v+=2)Et[v][0](Et[v+1]);Et.length=0}}}function i(c){a(c(e))}function l(c,o=He){const v=[c,o];return n.add(v),n.size===1&&(r=t(a,i)||He),c(e),()=>{n.delete(v),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:l}}function ht(e){let t;return Qs(e,r=>t=r)(),t}let Kt=!1,Or=Symbol();function en(e,t,r){const n=r[t]??(r[t]={store:null,source:N(void 0),unsubscribe:He});if(n.store!==e&&!(Or in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=He;else{var a=!0;n.unsubscribe=Qs(e,i=>{a?n.source.v=i:f(n.source,i)}),a=!1}return e&&Or in r?ht(e):s(n.source)}function tn(){const e={};function t(){hr(()=>{for(var r in e)e[r].unsubscribe();ks(e,Or,{enumerable:!1,value:!0})})}return[e,t]}function ja(e){var t=Kt;try{return Kt=!1,[e(),Kt]}finally{Kt=t}}function ps(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Me(e,t,r,n){var A;var a=(r&yn)!==0,i=!Ot||(r&wn)!==0,l=(r&xn)!==0,c=(r&Cn)!==0,o=!1,v;l?[v,o]=ja(()=>e[t]):v=e[t];var g=nt in e||zn in e,d=l&&(((A=qt(e,t))==null?void 0:A.set)??(g&&t in e&&(q=>e[t]=q)))||void 0,u=n,h=!0,p=!1,T=()=>(p=!0,h&&(h=!1,c?u=Ye(n):u=n),u);v===void 0&&n!==void 0&&(d&&i&&Gn(),v=T(),d&&d(v));var E;if(i)E=()=>{var q=e[t];return q===void 0?T():(h=!0,p=!1,q)};else{var m=(a?Ut:We)(()=>e[t]);m.f|=Bn,E=()=>{var q=s(m);return q!==void 0&&(u=void 0),q===void 0?u:q}}if((r&Sn)===0)return E;if(d){var x=e.$$legacy;return function(q,B){return arguments.length>0?((!i||!B||x||o)&&d(B?E():q),q):E()}}var C=!1,S=N(v),b=Ut(()=>{var q=E(),B=s(S);return C?(C=!1,B):S.v=q});return l&&s(b),a||(b.equals=Ur),function(q,B){if(arguments.length>0){const P=B?s(b):i&&l?_t(q):q;if(!b.equals(P)){if(C=!0,f(S,P),p&&u!==void 0&&(u=P),ps(b))return q;Ye(()=>s(b))}return q}return ps(b)?b.v:s(b)}}const ye=Xs({active:"default",backends:{default:{url:"/",token:null}}}),Oe=Xs({isAuthenticated:!1,isAuthenticating:!1,authError:null});let xr=!1;function Jr(){const e=ht(ye);return e.backends[e.active]||e.backends.default}function Rr(){const e=Jr();return e.url==="/"?"":e.url}function Lr(){return Jr().token}function rn(e,t){ye.update(r=>{var a;const n=((a=r.backends[e])==null?void 0:a.token)||null;return r.backends[e]={url:t,token:n},r})}async function lr(e){let t=!1;if(ht(ye).active!==e){ye.update(n=>(n.backends[e]&&(n.active=e),n));try{await $t(),t=!0}catch(n){console.error("Error syncing auth state after backend change:",n)}}else t=!0;return t}function Fa(e,t){ye.update(r=>(r.backends[e]&&(r.backends[e].token=t),r)),e===ht(ye).active&&Oe.update(r=>({...r,isAuthenticated:!!t,authError:null}))}async function $e(e,t={}){const r=Rr(),n=Lr(),a=e.startsWith("/")||e===""?e:`/${e}`,i=`${r}${a}`;return t.headers=t.headers||{},t.credentials="include",n&&!e.includes("/auth/login")&&(document.cookie.includes("AuthToken=")||(t.headers.Cookie=`AuthToken=${n}`),t.headers.Authorization=`Bearer ${n}`),fetch(i,t)}function hs(e,t,r=console.error){const n=Rr(),a=Lr(),i=e.startsWith("/")||e===""?e:`/${e}`,l=n||window.location.origin,c=new URL(`${l}${i}`);a&&c.searchParams.set("token",a);let o=null,v=!0,g=ht(ye).active;try{const d={withCredentials:!0};o=new EventSource(c.toString(),d),o.onmessage=h=>{try{const p=JSON.parse(h.data);t(p)}catch{t(h.data)}},o.onerror=h=>{o.readyState===EventSource.CLOSED&&$t().catch(console.error),r(h),v&&!o&&setTimeout(()=>{if(v&&document.visibilityState!=="hidden")try{o=new EventSource(c.toString(),d)}catch(p){r(p)}},2e3)};const u=ye.subscribe(h=>{v&&h.active!==g&&(console.log("The Backend changed, I am reconnecting a SSE connection"),g=h.active,o&&(o.close(),o=null),setTimeout(()=>{if(v)try{const p=Rr(),T=Lr(),E=new URL(`${p||window.location.origin}${i}`);T&&E.searchParams.set("token",T),o=new EventSource(E.toString(),d),o.onmessage=o.onmessage,o.onerror=o.onerror}catch(p){r(p)}},100))});return{close:()=>{o&&(o.close(),o=null),v=!1,u()}}}catch(d){return r(d),v=!1,{close:()=>{}}}}async function Va(e,t){Oe.update(r=>({...r,isAuthenticating:!0,authError:null}));try{const r=await $e("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:t})});if(!r.ok){const a=await r.json();throw new Error(a.error||"Authentication failed")}const n=await r.json();return Fa(ht(ye).active,n.token),document.cookie=`AuthToken=${n.token}; path=/; max-age=${60*60*24}`,Oe.update(a=>({...a,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0}catch(r){return Oe.update(n=>({...n,isAuthenticated:!1,isAuthenticating:!1,authError:r.message})),!1}}async function $t(){ht(ye).active,Jr(),Oe.update(e=>({...e,isAuthenticating:!0}));try{const e=await $e("/api/v2/auth/check",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});return e.status===401?(Oe.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"Authentication required"})),!1):e.status===404?(Oe.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"endpoint not found"})),!1):e.ok?(Oe.update(t=>({...t,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0):(Oe.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:`API error: ${e.status} ${e.statusText}`})),!1)}catch(e){return console.warn("Auth check failed:",e),Oe.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:e.message||"Connection error"})),!1}}function sn(){var e,t,r;if(!xr)try{const n=localStorage.getItem("ssui-backend-config");if(n){const i=JSON.parse(n),l={active:i.active&&((e=i.backends)!=null&&e[i.active])?i.active:"default",backends:{default:{url:"/",token:((r=(t=i.backends)==null?void 0:t.default)==null?void 0:r.token)||null}}};if(i.backends)for(const[c,o]of Object.entries(i.backends))c!=="default"&&(l.backends[c]={url:o.url,token:o.token||null});ye.set(l)}const a=ye.subscribe(i=>{try{localStorage.setItem("ssui-backend-config",JSON.stringify(i))}catch(l){console.error("Error saving backend config:",l)}});return xr=!0,$t().catch(console.error),a}catch(n){console.error("Error initializing API service:",n),xr=!0}}var Ga=L("<button> </button>"),Ha=L('<span class="active-marker svelte-lgbyu8">✓</span>'),$a=L('<div><div class="backend-info svelte-lgbyu8"><span class="status-dot svelte-lgbyu8"></span> <span class="backend-name svelte-lgbyu8"> </span></div> <!></div>'),Wa=L('<div class="backend-dropdown svelte-lgbyu8"><div class="dropdown-header svelte-lgbyu8"><h3 class="svelte-lgbyu8">Select Backend</h3></div> <div class="dropdown-content svelte-lgbyu8"></div></div>'),Ja=L('<div class="user-dropdown svelte-lgbyu8"><div class="user-dropdown-header svelte-lgbyu8"><div class="user-info svelte-lgbyu8"><div class="user-avatar large svelte-lgbyu8">SA</div> <div class="user-details svelte-lgbyu8"><div class="user-name svelte-lgbyu8">Admin</div> <div class="user-email svelte-lgbyu8">Superadmin</div></div></div></div> <div class="dropdown-content svelte-lgbyu8"><div class="dropdown-item svelte-lgbyu8"><span class="item-icon svelte-lgbyu8">🌙</span> <span>Theme</span></div> <div class="divider svelte-lgbyu8"></div> <div class="dropdown-item logout svelte-lgbyu8"><span class="item-icon svelte-lgbyu8">🚪</span> <span>Logout</span></div></div></div>'),Ya=L('<nav class="top-nav svelte-lgbyu8"><div class="nav-left svelte-lgbyu8"><div class="logo svelte-lgbyu8"><span class="logo-icon svelte-lgbyu8">⚙️</span> <span class="logo-text svelte-lgbyu8">SSUI</span></div> <div class="nav-buttons svelte-lgbyu8"></div></div> <div class="nav-right svelte-lgbyu8"><div class="backend-selector svelte-lgbyu8"><button class="backend-toggle svelte-lgbyu8"><span class="status-indicator svelte-lgbyu8"> </span> <span class="backend-label"> </span> <span class="dropdown-arrow svelte-lgbyu8"> </span></button> <!></div> <div class="datetime svelte-lgbyu8"><span class="date svelte-lgbyu8"> </span> <span class="time svelte-lgbyu8"> </span></div> <div class="user-menu-container svelte-lgbyu8"><button class="user-button svelte-lgbyu8"><span class="user-avatar svelte-lgbyu8">SA</span></button> <!></div></div></nav>');function Ka(e,t){Fe(t,!1);const r=N(),n=N();let a=Me(t,"views",24,()=>[]),i=Me(t,"activeView",8,"dashboard"),l=Me(t,"setActiveView",8),c=N(new Date),o=N(!1),v=N(!1),g=N([]),d=N(""),u=N({}),h,p,T;const E=ye.subscribe(y=>{const U=Object.keys(y.backends),j=y.active,M=j!==s(d);f(g,U),f(d,j);const F={...s(u)};s(g).forEach(ve=>{ve in F||(F[ve]={status:"unknown",lastChecked:null})}),f(u,F),M&&s(d)&&(m(s(d)),x())});function m(y){if(!y||!s(g).includes(y))return;const U={...s(u)};U[y]={...U[y],status:"connecting"},f(u,U),clearTimeout(h),h=setTimeout(async()=>{try{const j=await $e("/api/v2/server/status"),M={...s(u)};j?M[y]={status:"connected",lastChecked:new Date,details:j}:M[y]={status:"error",lastChecked:new Date,details:j},f(u,M)}catch(j){const M={...s(u)};M[y]={status:"error",lastChecked:new Date,errorMessage:j.message},f(u,M)}},800)}function x(){p&&clearInterval(p),p=setInterval(()=>{if(s(d)){const y=s(d);m(y)}},1e4)}function C(){T=y=>{const U=document.querySelector(".backend-selector"),j=document.querySelector(".user-menu-container");U&&!U.contains(y.target)&&f(o,!1),j&&!j.contains(y.target)&&f(v,!1)},document.addEventListener("click",T)}lt(()=>{C();const y=setInterval(()=>{f(c,new Date)},6e4);return s(d)&&m(s(d)),x(),()=>{clearInterval(y),clearInterval(p),clearTimeout(h),E(),document.removeEventListener("click",T)}}),Wr(()=>{clearInterval(p),clearTimeout(h)});function S(y){y.stopPropagation(),f(o,!s(o)),s(o)&&f(v,!1)}function b(y){y.stopPropagation(),f(v,!s(v)),s(v)&&f(o,!1)}function A(y){if(y===s(d)){m(y),f(o,!1);return}lr(y),f(d,y),m(y),x(),f(o,!1)}async function q(){try{localStorage.removeItem("ssui-backend-config"),document.cookie="AuthToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",window.location.href="/login"}catch(y){console.error("Logout failed:",y),f(v,!1)}}function B(y){var j;switch(((j=s(u)[y])==null?void 0:j.status)||"unknown"){case"connected":return"🟢";case"connecting":return"🟠";case"error":return"🔴";default:return"⚪"}}function P(y,{duration:U=300}){return{duration:U,css:j=>`
        transform: translateY(${(1-j)*-10}px);
        opacity: ${j};
      `}}ut(()=>s(c),()=>{f(r,s(c).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}),ut(()=>s(c),()=>{f(n,s(c).toLocaleDateString([],{month:"short",day:"numeric"}))}),jr(),Ke();var se=Ya(),ne=_(se),ae=_(ne),ie=w(ae,2);ze(ie,5,a,Pe,(y,U)=>{var j=Ga(),M=_(j);K(()=>{_e(j,1,Ta(i()===s(U).id?"active":""),"svelte-lgbyu8"),J(M,s(U).name)}),W("click",j,()=>l()(s(U).id)),k(y,j)});var X=w(ne,2),V=_(X),ee=_(V),I=_(ee),G=_(I),H=w(I,2),D=_(H),$=w(H,2),Y=_($),z=w(ee,2);{var de=y=>{var U=Wa(),j=w(_(U),2);ze(j,5,()=>s(g),Pe,(M,F)=>{var ve=$a(),me=_(ve),le=_(me),oe=w(le,2),re=_(oe),he=w(me,2);{var Q=Z=>{var be=Ha();k(Z,be)};O(he,Z=>{s(F)===s(d)&&Z(Q)})}K(()=>{var Z,be,Le;_e(ve,1,`dropdown-item ${s(F)===s(d)?"active":""}`,"svelte-lgbyu8"),Js(le,`background-color: ${((Z=s(u)[s(F)])==null?void 0:Z.status)==="connected"?"var(--accent-primary)":((be=s(u)[s(F)])==null?void 0:be.status)==="connecting"?"var(--text-warning)":((Le=s(u)[s(F)])==null?void 0:Le.status)==="error"?"var(--text-danger)":"var(--text-secondary)"}`),J(re,s(F))}),W("click",ve,()=>A(s(F))),k(M,ve)}),Yt(1,U,()=>P,()=>({duration:150})),Yt(2,U,()=>P,()=>({duration:150})),k(y,U)};O(z,y=>{s(o)&&y(de)})}var pe=w(V,2),we=_(pe),Se=_(we),ge=w(we,2),Ae=_(ge),Te=w(pe,2),Ie=_(Te),et=w(Ie,2);{var R=y=>{var U=Ja(),j=w(_(U),2),M=w(_(j),4);W("click",M,q),Yt(1,U,()=>P,()=>({duration:150})),Yt(2,U,()=>P,()=>({duration:150})),k(y,U)};O(et,y=>{s(v)&&y(R)})}K(y=>{J(G,y),J(D,s(d)),J(Y,s(o)?"▲":"▼"),J(Se,s(n)),J(Ae,s(r))},[()=>B(s(d))],We),W("click",ae,()=>l()("dashboard")),W("click",ee,S),W("click",V,us(function(y){ds.call(this,t,y)})),W("click",Ie,b),W("click",Te,us(function(y){ds.call(this,t,y)})),k(e,se),Ve()}var Za=L('<button><span class="sidebar-icon svelte-14awm4t"><!></span> <span class="sidebar-text svelte-14awm4t"> </span></button>'),Qa=L('<aside><div class="pin-container svelte-14awm4t"><button><!></button></div> <nav class="sidebar-nav svelte-14awm4t"></nav> <div class="sidebar-footer svelte-14awm4t"><div class="server-status svelte-14awm4t"><div class="status-indicator online svelte-14awm4t"></div> <span class="status-text svelte-14awm4t">Servers: 3 Online</span></div> <div class="memory-usage svelte-14awm4t"><div class="progress-bar svelte-14awm4t"><div class="progress svelte-14awm4t" style="width: 65%"></div></div> <span class="memory-text svelte-14awm4t">Memory: 65%</span></div></div></aside>');function Xa(e,t){Fe(t,!1);const r=N();let n=Me(t,"views",24,()=>[]),a=Me(t,"activeView",8,"dashboard"),i=Me(t,"setActiveView",8),l=N(!1),c=N(!1);function o(){f(c,!s(c))}function v(){f(l,!0)}function g(){f(l,!1)}ut(()=>(s(l),s(c)),()=>{f(r,s(l)||s(c))}),jr(),Ke();var d=Qa();let u;var h=_(d),p=_(h);let T;var E=_(p);{var m=S=>{var b=te("📌");k(S,b)},x=S=>{var b=te("📍");k(S,b)};O(E,S=>{s(c)?S(m):S(x,!1)})}var C=w(h,2);ze(C,5,n,Pe,(S,b)=>{var A=Za();let q;var B=_(A),P=_(B);{var se=X=>{var V=te("📊");k(X,V)},ne=(X,V)=>{{var ee=G=>{var H=te("⚙️");k(G,H)},I=(G,H)=>{{var D=Y=>{var z=te("📝");k(Y,z)},$=(Y,z)=>{{var de=pe=>{var we=te(">");k(pe,we)};O(Y,pe=>{s(b).icon==="terminal"&&pe(de)},z)}};O(G,Y=>{s(b).icon==="file-text"?Y(D):Y($,!1)},H)}};O(X,G=>{s(b).icon==="settings"?G(ee):G(I,!1)},V)}};O(P,X=>{s(b).icon==="grid"?X(se):X(ne,!1)})}var ae=w(B,2),ie=_(ae);K(X=>{q=_e(A,1,"sidebar-button svelte-14awm4t",null,q,X),J(ie,s(b).name)},[()=>({active:a()===s(b).id})],We),W("click",A,()=>i()(s(b).id)),k(S,A)}),K((S,b)=>{u=_e(d,1,"sidebar svelte-14awm4t",null,u,S),T=_e(p,1,"pin-button svelte-14awm4t",null,T,b)},[()=>({expanded:s(r)}),()=>({active:s(c)})],We),W("click",p,o),W("mouseenter",d,v),W("mouseleave",d,g),k(e,d),Ve()}var ei=Hr('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),ti=Hr('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),ri=L('<div><div class="response-icon svelte-1b4j9ko"><!></div> <div class="response-text svelte-1b4j9ko"> </div></div>'),si=L('<div class="card server-control svelte-1b4j9ko"><div class="button-group svelte-1b4j9ko"><button> </button> <button> </button></div> <!></div>');function ni(e,t){Fe(t,!1);let r=N(!1),n=N(null),a=N(""),i=N(!1);async function l(m){f(r,!0),f(n,m),f(i,!1);try{const x=await $e(`/api/v2/server/${m}`,{method:"POST"}),C=await x.text();x.ok||f(i,!0),f(a,C)}catch(x){f(i,!0),f(a,"Failed to connect to server"),console.error("Error:",x)}finally{f(r,!1)}}Ke();var c=si(),o=_(c),v=_(o);let g;var d=_(v),u=w(v,2);let h;var p=_(u),T=w(o,2);{var E=m=>{var x=ri(),C=_(x),S=_(C);{var b=P=>{var se=ei();k(P,se)},A=P=>{var se=ti();k(P,se)};O(S,P=>{s(i)?P(b):P(A,!1)})}var q=w(C,2),B=_(q);K(()=>{_e(x,1,`response-message ${s(i)?"error":"success"}`,"svelte-1b4j9ko"),J(B,s(a))}),k(m,x)};O(T,m=>{s(a)&&m(E)})}K((m,x)=>{v.disabled=s(r),g=_e(v,1,"start-button svelte-1b4j9ko",null,g,m),J(d,s(r)&&s(n)==="start"?"Starting...":"Start Server"),u.disabled=s(r),h=_e(u,1,"stop-button svelte-1b4j9ko",null,h,x),J(p,s(r)&&s(n)==="stop"?"Stopping...":"Stop Server")},[()=>({active:s(n)==="start"&&!s(r)}),()=>({active:s(n)==="stop"&&!s(r)})],We),W("click",v,()=>l("start")),W("click",u,()=>l("stop")),k(e,c),Ve()}var ai=L('<div class="svelte-13trlk3"> </div>'),ii=L('<div class="console-tab active svelte-13trlk3"><div class="console svelte-13trlk3"></div></div>'),li=L('<div><span class="event-timestamp svelte-13trlk3"> </span> <span class="svelte-13trlk3"> </span></div>'),oi=L('<div class="detection-tab active svelte-13trlk3"><div class="detection-console svelte-13trlk3"></div></div>'),ci=L('<div class="console-view svelte-13trlk3"><div class="console-controls svelte-13trlk3"><div class="console-tabs svelte-13trlk3"><button>Console</button> <button>Detections</button></div> <button class="autoscroll-button svelte-13trlk3"> </button></div> <div class="tab-content svelte-13trlk3"><!></div></div>');function nn(e,t){Fe(t,!1);let r=N(),n=N(),a=null,i=null,l=N("console-tab"),c=N(!0);const o=["Calibrating quantum flux capacitors...","Initializing player happiness modules...","Checking for monsters under the server...","Brewing coffee for the CPU...","Charging laser sharks...","Teaching AI to say 'please' and 'thank you'...","Polishing pixels to a mirror shine...","Convincing electrons to flow in the right direction...","Rebooting atmospheric systems for the 17th time...","Attempting to locate your body after that last airlock malfunction...","Converting oxygen to errors at alarming efficiency...","Persuading physics engine to acknowledge gravity exists...","Calculating ways your base will catastrophically depressurize...","Optimizing unity garbage collection (good luck with that)...","Aligning planetary rotation with server tick rate...","Patching holes in space-time continuum and your habitat...","Convincing solar panels that 'sun' is not just a theoretical concept...","Negotiating peace treaty between logic circuits and the laws of thermodynamics...","Compressing atmosphere until your CPU begs for mercy...","Measuring distance between you and nearest fatal bug...","Attempting to explain 'pipe networks' to confused server hamsters...","Calculating probability of survival (spoiler: it's low)...","Wrangling rogue Unity instances back into containment...","Sacrificing RAM to the gods of stable framerates..."];let v=N([]),g=N([]),d=N(!1);function u(I){f(l,I),I==="detection-tab"&&f(d,!1)}lt(async()=>{await h("Interface initializing...");const I=Math.floor(Math.random()*o.length);p(o[I],"#0af","italic");let G;do G=Math.floor(Math.random()*o.length);while(G===I);p(o[G],"#0af","italic"),x(),C(),Math.random()<.05?(p("ERROR: Nuclear parts in airflow detected! Initiating repair sequence...","red"),setTimeout(()=>{p("Repair complete. Continuing initialization...","green"),m()},1e3)):m()}),Wr(()=>{a&&(a.close(),a=null),i&&(i.close(),i=null)});async function h(I,G=30){let H=0;return new Promise(D=>{const $=setInterval(()=>{H<I.length?(f(v,[...s(v),{text:I.substring(0,++H),color:"white",style:"normal",isTyping:!0}]),f(v,s(v).slice(-1))):(clearInterval($),f(v,s(v).filter(Y=>!Y.isTyping)),D())},G)})}function p(I,G="white",H="normal"){f(v,[...s(v),{text:I,color:G,style:H}]),s(c)&&setTimeout(()=>T(),50)}function T(){s(r)&&s(c)&&ct(r,s(r).scrollTop=s(r).scrollHeight)}function E(){s(n)&&s(c)&&ct(n,s(n).scrollTop=s(n).scrollHeight)}function m(){setTimeout(()=>{p("Interface ready.🎮 Happy gaming! 🎮","#0f0"),s(c)&&setTimeout(T,50)},500)}function x(){a&&(a.close(),a=null),a=hs("/console",I=>{p(I)},I=>{console.error("Console stream error:",I),a=null,p("Warning: Console stream unavailable. Retrying...","#ff0"),setTimeout(()=>{!a&&document.visibilityState!=="hidden"&&x()},2e3)})}function C(){i&&(i.close(),i=null),i=hs("/events",I=>{const G=S(I),H=new Date().toLocaleTimeString();f(g,[...s(g),{timestamp:H,message:I,className:G}]),s(g).length>500&&f(g,s(g).slice(-500)),s(c)&&setTimeout(E,50),s(l)!=="detection-tab"&&f(d,!0)},I=>{console.error("Detection events stream error:",I),i=null,setTimeout(()=>{!i&&document.visibilityState!=="hidden"&&C()},2e3)})}function S(I){return I.includes("ERROR")||I.includes("FATAL")?"error":I.includes("WARNING")?"warning":I.includes("SUCCESS")?"success":"info"}function b(){f(c,!s(c)),s(c)&&(T(),E())}Ke();var A=ci(),q=_(A),B=_(q),P=_(B),se=w(P,2),ne=w(B,2),ae=_(ne),ie=w(q,2),X=_(ie);{var V=I=>{var G=ii(),H=_(G);ze(H,5,()=>s(v),Pe,(D,$)=>{var Y=ai(),z=_(Y);K(()=>{Js(Y,`color: ${s($).color??""}; font-style: ${s($).style??""}`),J(z,s($).text)}),k(D,Y)}),vs(H,D=>f(r,D),()=>s(r)),k(I,G)},ee=I=>{var G=oi(),H=_(G);ze(H,5,()=>s(g),Pe,(D,$)=>{var Y=li(),z=_(Y),de=_(z),pe=w(z,2),we=_(pe);K(()=>{_e(Y,1,`detection-event ${s($).className??""}`,"svelte-13trlk3"),J(de,`${s($).timestamp??""}:`),J(we,s($).message)}),k(D,Y)}),vs(H,D=>f(n,D),()=>s(n)),k(I,G)};O(X,I=>{s(l)==="console-tab"?I(V):I(ee,!1)})}K(()=>{_e(P,1,`tab-button ${s(l)==="console-tab"?"active":""}`,"svelte-13trlk3"),_e(se,1,`tab-button ${s(l)==="detection-tab"?"active":""} ${s(d)?"notification":""}`,"svelte-13trlk3"),De(ne,"title",s(c)?"Disable Auto-scroll":"Enable Auto-scroll"),J(ae,s(c)?"⏬ Auto-scroll: ON":"⏫ Auto-scroll: OFF")}),W("click",P,()=>u("console-tab")),W("click",se,()=>u("detection-tab")),W("click",ne,b),k(e,A),Ve()}var vi=L('<div class="dashboard-grid svelte-1ikae2s"><div class="card svelte-1ikae2s"><h3 class="svelte-1ikae2s">Quick Actions</h3> <!></div> <div class="card svelte-1ikae2s"><!></div> <div class="card svelte-1ikae2s"><h3 class="svelte-1ikae2s">Cluster Status</h3> <div class="status-pills svelte-1ikae2s"><span class="status-pill online svelte-1ikae2s">Online: 3</span> <span class="status-pill offline svelte-1ikae2s">Offline: 1</span> <span class="status-pill updating svelte-1ikae2s">Updating: 0</span></div> <div class="placeholder-content svelte-1ikae2s"><div class="placeholder-line svelte-1ikae2s"></div> <div class="placeholder-line svelte-1ikae2s"></div> <div class="placeholder-line short svelte-1ikae2s"></div></div></div> <div class="card svelte-1ikae2s"><h3 class="svelte-1ikae2s">Resource Usage</h3> <div class="placeholder-chart svelte-1ikae2s"></div> <div class="placeholder-content svelte-1ikae2s"><div class="placeholder-line svelte-1ikae2s"></div> <div class="placeholder-line short svelte-1ikae2s"></div></div></div></div>');function ui(e){var t=vi(),r=_(t),n=w(_(r),2);ni(n,{});var a=w(r,2),i=_(a);nn(i,{}),k(e,t)}var fi=L("<button> </button>"),di=L('<input type="checkbox" class="svelte-1iyqb86">'),pi=L('<input type="number" class="svelte-1iyqb86">'),hi=L('<input type="text" class="svelte-1iyqb86">'),_i=L('<textarea class="svelte-1iyqb86"></textarea>'),gi=L('<input type="text" class="svelte-1iyqb86">'),bi=L('<div class="setting-item svelte-1iyqb86"><label class="svelte-1iyqb86"><span> </span> <!></label> <div class="input-info svelte-1iyqb86"> </div></div>'),mi=L('<div class="settings-group svelte-1iyqb86"><h3 class="svelte-1iyqb86"> </h3> <div class="channel-grid svelte-1iyqb86"></div></div>'),ki=L('<div><span class="status-icon svelte-1iyqb86"> </span> <span> </span> <button class="close-status svelte-1iyqb86">×</button></div>'),yi=L('<div class="settings-group-nav svelte-1iyqb86"></div> <!> <!>',1),wi=L('<div class="loading-container svelte-1iyqb86"><div class="loading-spinner svelte-1iyqb86"></div> <p>Loading settings...</p></div>'),Si=L('<div class="settings-container svelte-1iyqb86"><h2 class="svelte-1iyqb86">General Settings</h2> <p class="settings-intro svelte-1iyqb86">Configure general application settings. Changes will be applied immediately.</p> <!></div>');function xi(e,t){Fe(t,!1);let r=Me(t,"activeSidebarTab",8),n=N([]),a=N([]),i=N(""),l=N(""),c=N(!1),o;lt(async()=>{await v()});async function v(){try{const m=await $e("/api/v2/settings"),{data:x,error:C}=await m.json();if(C){h(`Failed to load settings: ${C}`,!0);return}f(n,x),f(a,[...new Set(s(n).map(S=>S.group))]),s(a).length>0&&f(i,s(a)[0])}catch(m){h(`Error fetching settings: ${m.message}`,!0)}}function g(m){f(i,m)}async function d(m,x){try{const C=await $e("/api/v2/settings/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[m]:x})}),{status:S,message:b}=await C.json();if(S==="error"){h(`Failed to update ${m}: ${b}`,!0);return}h(`Updated ${m} successfully`,!1)}catch(C){h(`Error updating ${m}: ${C.message}`,!0)}}function u(m,x){const C=x.target;let S;if(m.type==="bool")S=C.checked;else if(m.type==="int"){if(S=C.value?parseInt(C.value):null,m.required&&!S){h(`Value for ${m.name} is required`,!0);return}}else if(m.type==="array")S=C.value?C.value.split(",").map(b=>b.trim()):[];else if(m.type==="map")try{S=JSON.parse(C.value)}catch(b){h(`Invalid JSON for ${m.name}: ${b.message}`,!0);return}else S=C.value;d(m.name,S)}function h(m,x){f(l,m),f(c,x),o&&clearTimeout(o),o=setTimeout(()=>{f(l,"")},3e4)}Ke();var p=Nt(),T=at(p);{var E=m=>{var x=Si(),C=w(_(x),4);{var S=A=>{var q=yi(),B=at(q);ze(B,5,()=>s(a),Pe,(ae,ie)=>{var X=fi(),V=_(X);K(()=>{_e(X,1,`section-nav-button ${s(i)===s(ie)?"active":""}`,"svelte-1iyqb86"),J(V,s(ie))}),W("click",X,()=>g(s(ie))),k(ae,X)});var P=w(B,2);ze(P,1,()=>s(a),Pe,(ae,ie)=>{var X=Nt(),V=at(X);{var ee=I=>{var G=mi(),H=_(G),D=_(H),$=w(H,2);ze($,5,()=>s(n).filter(Y=>Y.group===s(ie)),Pe,(Y,z)=>{var de=bi(),pe=_(de),we=_(pe),Se=_(we),ge=w(we,2);{var Ae=R=>{var y=di();K(()=>{De(y,"id",s(z).name),Ys(y,s(z).value===!0)}),W("change",y,U=>u(s(z),U)),k(R,y)},Te=(R,y)=>{{var U=M=>{var F=pi();K(()=>{De(F,"id",s(z).name),At(F,s(z).value??""),De(F,"min",s(z).min),De(F,"max",s(z).max),F.required=s(z).required}),W("change",F,ve=>u(s(z),ve)),k(M,F)},j=(M,F)=>{{var ve=le=>{var oe=hi();K(re=>{De(oe,"id",s(z).name),At(oe,re)},[()=>{var re;return((re=s(z).value)==null?void 0:re.join(","))||""}],We),W("change",oe,re=>u(s(z),re)),k(le,oe)},me=(le,oe)=>{{var re=Q=>{var Z=_i();K(be=>{De(Z,"id",s(z).name),At(Z,be)},[()=>JSON.stringify(s(z).value,null,2)||"{}"],We),W("change",Z,be=>u(s(z),be)),k(Q,Z)},he=Q=>{var Z=gi();K(()=>{De(Z,"id",s(z).name),At(Z,s(z).value||""),Z.required=s(z).required}),W("change",Z,be=>u(s(z),be)),k(Q,Z)};O(le,Q=>{s(z).type==="map"?Q(re):Q(he,!1)},oe)}};O(M,le=>{s(z).type==="array"?le(ve):le(me,!1)},F)}};O(R,M=>{s(z).type==="int"?M(U):M(j,!1)},y)}};O(ge,R=>{s(z).type==="bool"?R(Ae):R(Te,!1)})}var Ie=w(pe,2),et=_(Ie);K(()=>{J(Se,s(z).description),J(et,s(z).description)}),k(Y,de)}),K(()=>J(D,s(ie))),k(I,G)};O(V,I=>{s(i)===s(ie)&&I(ee)})}k(ae,X)});var se=w(P,2);{var ne=ae=>{var ie=ki();let X;var V=_(ie),ee=_(V),I=w(V,2),G=_(I),H=w(I,2);K(D=>{X=_e(ie,1,"status-message svelte-1iyqb86",null,X,D),J(ee,s(c)?"⚠️":"✓"),J(G,s(l))},[()=>({error:s(c)})],We),W("click",H,()=>f(l,"")),k(ae,ie)};O(se,ae=>{s(l)&&ae(ne)})}k(A,q)},b=A=>{var q=wi();k(A,q)};O(C,A=>{s(a).length>0?A(S):A(b,!1)})}k(m,x)};O(T,m=>{r()==="General"&&m(E)})}k(e,p),Ve()}var Ci=L('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p>Loading runfile configuration...</p></div>'),Ei=L('<div class="empty-state svelte-f1rydd"><h3 class="svelte-f1rydd">No Runfile Groups Available</h3> <p>No configuration groups were found for this server type.</p></div>'),Ai=L("<button> </button>"),Ti=L('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p> </p></div>'),qi=L('<div class="empty-state svelte-f1rydd"><p>No configurable arguments found for this group.</p></div>'),Di=L('<input type="checkbox" class="svelte-f1rydd">'),Ii=L('<input type="number" class="svelte-f1rydd">'),Ni=L('<input type="text" class="svelte-f1rydd">'),Oi=L('<div class="setting-item svelte-f1rydd"><label class="svelte-f1rydd"><span> </span> <!></label> <div class="input-info svelte-f1rydd"> </div></div>'),Ri=L('<div class="channel-grid svelte-f1rydd"></div> <div class="form-actions svelte-f1rydd"><button class="save-button svelte-f1rydd"> </button></div>',1),Li=L('<div class="runfile-section svelte-f1rydd"><h3 class="svelte-f1rydd"> </h3> <!></div>'),Bi=L('<div><span class="status-icon svelte-f1rydd"> </span> <span> </span> <button class="close-status svelte-f1rydd">×</button></div>'),Pi=L('<div class="runfile-container svelte-f1rydd"><div class="runfile-group-nav svelte-f1rydd"></div> <!> <!></div>'),zi=L(`<div class="runfile-settings svelte-f1rydd"><h2 class="svelte-f1rydd">Runfile Configuration</h2> <p class="settings-intro svelte-f1rydd">Configure command line arguments that will be used when launching the game server.
      These settings are saved to a runfile that is used when the server is started.</p> <!></div>`);function Mi(e,t){Fe(t,!1);let r=N([]),n=N(""),a=N(""),i=N(!1),l,c=N([]),o=N(!0),v=N(!1);lt(async()=>{await g()});async function g(){f(o,!0);try{const b=await $e("/api/v2/runfile/groups"),{data:A,error:q}=await b.json();if(q){E(`Failed to load groups: ${q}`,!0);return}f(r,A),s(r).length>0&&await d(s(r)[0])}catch(b){E(`Error fetching runfile groups: ${b.message}`,!0)}finally{f(o,!1)}}async function d(b){f(o,!0),f(n,b),await u(b),f(o,!1)}async function u(b){try{const A=await $e(`/api/v2/runfile/args?group=${encodeURIComponent(b)}`),{data:q,error:B}=await A.json();if(B){E(`Failed to load args: ${B}`,!0);return}f(c,q)}catch(A){E(`Error fetching runfile args: ${A.message}`,!0)}}async function h(b,A){try{const q=await $e("/api/v2/runfile/args/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flag:b,value:A})}),{error:B}=await q.json();if(B){E(`Failed to update ${b}: ${B}`,!0);return}E(`Updated ${b} successfully`,!1)}catch(q){E(`Error updating ${b}: ${q.message}`,!0)}}function p(b,A){const q=A.target;let B;b.type==="bool"?B=q.checked.toString():B=q.value,h(b.flag,B)}async function T(){f(v,!0);try{const b=await $e("/api/v2/runfile/save",{method:"POST"}),{error:A}=await b.json();if(A){E(`Failed to save runfile: ${A}`,!0);return}E("Runfile saved successfully",!1)}catch(b){E(`Error saving runfile: ${b.message}`,!0)}finally{f(v,!1)}}function E(b,A){f(a,b),f(i,A),l&&clearTimeout(l),l=setTimeout(()=>{f(a,"")},3e4)}Ke();var m=zi(),x=w(_(m),4);{var C=b=>{var A=Ci();k(b,A)},S=(b,A)=>{{var q=P=>{var se=Ei();k(P,se)},B=P=>{var se=Pi(),ne=_(se);ze(ne,5,()=>s(r),Pe,(I,G)=>{var H=Ai(),D=_(H);K(()=>{_e(H,1,`section-nav-button ${s(n)===s(G)?"active":""}`,"svelte-f1rydd"),J(D,s(G))}),W("click",H,()=>d(s(G))),k(I,H)});var ae=w(ne,2);{var ie=I=>{var G=Ti(),H=w(_(G),2),D=_(H);K(()=>J(D,`Loading ${s(n)??""} settings...`)),k(I,G)},X=(I,G)=>{{var H=D=>{var $=Li(),Y=_($),z=_(Y),de=w(Y,2);{var pe=Se=>{var ge=qi();k(Se,ge)},we=Se=>{var ge=Ri(),Ae=at(ge);ze(Ae,5,()=>s(c),Pe,(R,y)=>{var U=Oi(),j=_(U),M=_(j),F=_(M),ve=w(M,2);{var me=he=>{var Q=Di();K(()=>{De(Q,"id",s(y).flag),Ys(Q,s(y).runtime_value==="true"),Q.disabled=s(y).disabled}),W("change",Q,Z=>p(s(y),Z)),k(he,Q)},le=(he,Q)=>{{var Z=Le=>{var ke=Ii();K(()=>{De(ke,"id",s(y).flag),At(ke,s(y).runtime_value||""),De(ke,"min",s(y).min),De(ke,"max",s(y).max),ke.required=s(y).required,ke.disabled=s(y).disabled}),W("change",ke,zt=>p(s(y),zt)),k(Le,ke)},be=Le=>{var ke=Ni();K(()=>{De(ke,"id",s(y).flag),At(ke,s(y).runtime_value||""),ke.required=s(y).required,ke.disabled=s(y).disabled}),W("change",ke,zt=>p(s(y),zt)),k(Le,ke)};O(he,Le=>{s(y).type==="int"?Le(Z):Le(be,!1)},Q)}};O(ve,he=>{s(y).type==="bool"?he(me):he(le,!1)})}var oe=w(j,2),re=_(oe);K(()=>{J(F,s(y).ui_label||s(y).flag),J(re,s(y).description||"No description available")}),k(R,U)});var Te=w(Ae,2),Ie=_(Te),et=_(Ie);K(()=>{Ie.disabled=s(v),J(et,s(v)?"Saving...":"Save All Changes")}),W("click",Ie,T),k(Se,ge)};O(de,Se=>{s(c).length===0?Se(pe):Se(we,!1)})}K(()=>J(z,`${s(n)??""} GameServer Settings`)),k(D,$)};O(I,D=>{s(n)&&D(H)},G)}};O(ae,I=>{s(o)&&s(n)?I(ie):I(X,!1)})}var V=w(ae,2);{var ee=I=>{var G=Bi();let H;var D=_(G),$=_(D),Y=w(D,2),z=_(Y),de=w(Y,2);K(pe=>{H=_e(G,1,"status-message svelte-f1rydd",null,H,pe),J($,s(i)?"⚠️":"✓"),J(z,s(a))},[()=>({error:s(i)})],We),W("click",de,()=>f(a,"")),k(I,G)};O(V,I=>{s(a)&&I(ee)})}k(P,se)};O(b,P=>{s(r).length===0?P(q):P(B,!1)},A)}};O(x,b=>{s(o)&&s(r).length===0?b(C):b(S,!1)})}k(e,m),Ve()}var Ui=L('<div class="discord-settings svelte-19hkzgm"><h2 class="svelte-19hkzgm">Discord Settings (not implemented)</h2> <p class="settings-intro svelte-19hkzgm">This is a placeholder for future Discord settings.</p> <div class="form-group svelte-19hkzgm"><label for="discordToken" class="svelte-19hkzgm">Discord Bot Token</label> <input type="text" id="discordToken" placeholder="Discord Bot Token" disabled class="svelte-19hkzgm"></div> <div class="form-group svelte-19hkzgm"><label for="controlChannelID" class="svelte-19hkzgm">Control Channel ID</label> <input type="text" id="controlChannelID" placeholder="Control Channel ID" disabled class="svelte-19hkzgm"></div> <div class="form-group svelte-19hkzgm"><label for="statusChannelID" class="svelte-19hkzgm">Status Channel ID</label> <input type="text" id="statusChannelID" placeholder="Status Channel ID" disabled class="svelte-19hkzgm"></div> <div class="form-group svelte-19hkzgm"><label for="connectionListChannelID" class="svelte-19hkzgm">Connection List Channel ID</label> <input type="text" id="connectionListChannelID" placeholder="Connection List Channel ID" disabled class="svelte-19hkzgm"></div> <div class="form-group svelte-19hkzgm"><label for="logChannelID" class="svelte-19hkzgm">Log Channel ID</label> <input type="text" id="logChannelID" placeholder="Log Channel ID" disabled class="svelte-19hkzgm"></div> <div class="form-group svelte-19hkzgm"><label for="saveChannelID" class="svelte-19hkzgm">Save Channel ID</label> <input type="text" id="saveChannelID" placeholder="Save Channel ID" disabled class="svelte-19hkzgm"></div> <div class="form-group svelte-19hkzgm"><label for="controlPanelChannelID" class="svelte-19hkzgm">Control Panel Channel ID</label> <input type="text" id="controlPanelChannelID" placeholder="Control Panel Channel ID" disabled class="svelte-19hkzgm"></div> <div class="form-actions svelte-19hkzgm"><button class="save-button svelte-19hkzgm" disabled>Save All Changes</button></div></div>');function ji(e){var t=Ui();k(e,t)}var Fi=L('<span class="status-timestamp svelte-okzcno"> </span>'),Vi=L('<button class="action-button danger svelte-okzcno">Remove</button>'),Gi=L('<div class="backend-item svelte-okzcno"><div class="backend-info svelte-okzcno"><h3 class="svelte-okzcno"> </h3> <p class="svelte-okzcno"> </p></div> <div class="backend-status svelte-okzcno"><label class="status-toggle svelte-okzcno"><input type="radio" name="activeBackend"> <span class="status-label svelte-okzcno"> </span></label></div> <div class="backend-actions svelte-okzcno"><!></div></div>'),Hi=L('<div class="backend-settings svelte-okzcno"><div class="section-header svelte-okzcno"><h2 class="svelte-okzcno">Backend Connections</h2></div> <div class="current-backends"><div class="backend-controls svelte-okzcno"><h3>Configured Backends</h3> <div class="active-status svelte-okzcno"><!> <!></div> <button class="action-button test-all svelte-okzcno"> </button></div> <div class="backend-list svelte-okzcno"></div></div> <div class="add-backend"><div class="section-header svelte-okzcno"><h3 class="svelte-okzcno">Add New Backend</h3></div> <div class="form-container svelte-okzcno"><div class="form-group svelte-okzcno"><label for="backend-id" class="svelte-okzcno">Backend ID</label> <input type="text" id="backend-id" placeholder="e.g., production" class="svelte-okzcno"></div> <div class="form-group svelte-okzcno"><label for="backend-url" class="svelte-okzcno">Backend URL</label> <input type="text" id="backend-url" placeholder="e.g., https://api.example.com" class="svelte-okzcno"></div> <button class="primary-button svelte-okzcno">+ Add Backend</button></div></div></div>');function $i(e,t){Fe(t,!1);const r=[];let n=N(),a=N(""),i=N(""),l=N(""),c=N([]),o={},v=N(!1),g=N({status:"unknown",lastChecked:null});const d=ye.subscribe(D=>{f(n,D),f(l,D.active),f(c,Object.keys(D.backends)),s(c).forEach($=>{$ in o||(o[$]={status:"unknown",lastChecked:null})})});lt(()=>{sn();const D=setInterval(h,1e4);return h(),()=>{d(),clearInterval(D)}});async function u(D,$=!1){if(!s(v)){f(v,!0),s(n).backends[D].url;try{const z={status:(await $e("/api/v2/server/status",{method:"GET",headers:{"Content-Type":"application/json"}})).ok?"online":"offline",lastChecked:new Date};o[D]=z,D===s(l)&&f(g,z)}catch{const z={status:"error",lastChecked:new Date};o[D]=z,D===s(l)&&f(g,z)}finally{f(v,!1),o={...o},f(g,{...s(g)})}}}async function h(){for(const D of s(c))await u(D,!0)}function p(){!s(a)||!s(i)||(rn(s(a),s(i)),f(a,""),f(i,""))}function T(){lr(s(l)),u(s(l))}function E(D){if(D==="default"){alert("Cannot remove the default backend");return}ye.update($=>($.active===D&&($.active="default",f(l,"default"),f(g,o.default||{status:"unknown",lastChecked:null})),delete $.backends[D],delete o[D],$))}Ke();var m=Hi(),x=w(_(m),2),C=_(x),S=w(_(C),2),b=_(S);{var A=D=>{var $=te("🟢 Online");k(D,$)},q=(D,$)=>{{var Y=de=>{var pe=te("🔴 Offline");k(de,pe)},z=(de,pe)=>{{var we=ge=>{var Ae=te("⚠️ Error");k(ge,Ae)},Se=ge=>{var Ae=te("⚪ Unknown");k(ge,Ae)};O(de,ge=>{s(g).status==="error"?ge(we):ge(Se,!1)},pe)}};O(D,de=>{s(g).status==="offline"?de(Y):de(z,!1)},$)}};O(b,D=>{s(g).status==="online"?D(A):D(q,!1)})}var B=w(b,2);{var P=D=>{var $=Fi(),Y=_($);K(z=>J(Y,`(Last checked: ${z??""})`),[()=>new Date(s(g).lastChecked).toLocaleTimeString()],We),k(D,$)};O(B,D=>{s(g).lastChecked&&D(P)})}var se=w(S,2),ne=_(se),ae=w(C,2);ze(ae,5,()=>s(c),Pe,(D,$)=>{var Y=Gi(),z=_(Y),de=_(z),pe=_(de),we=w(de,2),Se=_(we),ge=w(z,2),Ae=_(ge),Te=_(Ae),Ie,et=w(Te,2),R=_(et),y=w(ge,2),U=_(y);{var j=M=>{var F=Vi();W("click",F,()=>E(s($))),k(M,F)};O(U,M=>{s($)!=="default"&&M(j)})}K(()=>{J(pe,s($)),J(Se,s(n).backends[s($)].url),Ie!==(Ie=s($))&&(Te.value=(Te.__value=s($))??""),J(R,s($)===s(l)?"Active":"Set Active")}),Zs(r,[],Te,()=>(s($),s(l)),M=>f(l,M)),W("change",Te,T),k(D,Y)});var ie=w(x,2),X=w(_(ie),2),V=_(X),ee=w(_(V),2),I=w(V,2),G=w(_(I),2),H=w(I,2);K(()=>{se.disabled=s(v),J(ne,s(v)?"Testing...":"Test Active Backend")}),W("click",se,()=>u(s(l))),Tt(ee,()=>s(a),D=>f(a,D)),Tt(G,()=>s(i),D=>f(i,D)),W("click",H,p),k(e,m),Ve()}var Wi=L('<div class="settings-container svelte-1oj27tx"><div class="settings-sidebar svelte-1oj27tx"><button>General</button> <button>Runfile Settings</button> <button>Backends</button> <button>Discord</button></div> <div class="settings-content svelte-1oj27tx"><!></div></div>');function Ji(e,t){Fe(t,!1);let r=N("General");function n(p){f(r,p)}Ke();var a=Wi(),i=_(a),l=_(i),c=w(l,2),o=w(c,2),v=w(o,2),g=w(i,2),d=_(g);{var u=p=>{xi(p,{get activeSidebarTab(){return s(r)}})},h=(p,T)=>{{var E=x=>{Mi(x,{})},m=(x,C)=>{{var S=A=>{ji(A)},b=(A,q)=>{{var B=P=>{$i(P,{})};O(A,P=>{s(r)==="Backends"&&P(B)},q)}};O(x,A=>{s(r)==="Discord"?A(S):A(b,!1)},C)}};O(p,x=>{s(r)==="Runfile"?x(E):x(m,!1)},T)}};O(d,p=>{["General","Appearance","SteamCMD","Notifications"].includes(s(r))?p(u):p(h,!1)})}K(()=>{_e(l,1,`settings-nav ${s(r)==="General"?"active":""}`,"svelte-1oj27tx"),_e(c,1,`settings-nav ${s(r)==="Runfile"?"active":""}`,"svelte-1oj27tx"),_e(o,1,`settings-nav ${s(r)==="Backends"?"active":""}`,"svelte-1oj27tx"),_e(v,1,`settings-nav ${s(r)==="Discord"?"active":""}`,"svelte-1oj27tx")}),W("click",l,()=>n("General")),W("click",c,()=>n("Runfile")),W("click",o,()=>n("Backends")),W("click",v,()=>n("Discord")),k(e,a),Ve()}var Yi=L(`<div class="logs-container svelte-tkpu1q"><div class="logs-filter svelte-tkpu1q"><div class="filter-group svelte-tkpu1q"><label class="svelte-tkpu1q">Server</label> <select class="svelte-tkpu1q"><option>All Servers</option><option>Server 1</option><option>Server 2</option><option>Server 3</option><option>Server 4</option></select></div> <div class="filter-group svelte-tkpu1q"><label class="svelte-tkpu1q">Log Level</label> <div class="checkbox-group svelte-tkpu1q"><label class="svelte-tkpu1q"><input type="checkbox" checked class="svelte-tkpu1q"> Info</label> <label class="svelte-tkpu1q"><input type="checkbox" checked class="svelte-tkpu1q"> Warning</label> <label class="svelte-tkpu1q"><input type="checkbox" checked class="svelte-tkpu1q"> Error</label> <label class="svelte-tkpu1q"><input type="checkbox" checked class="svelte-tkpu1q"> Debug</label></div></div> <div class="filter-group svelte-tkpu1q"><label class="svelte-tkpu1q">Time Range</label> <select class="svelte-tkpu1q"><option>Last Hour</option><option>Last 24 Hours</option><option>Last Week</option><option>All Time</option></select></div> <button class="refresh-button svelte-tkpu1q">Refresh</button></div> <div class="logs-viewer svelte-tkpu1q"><div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:34:56</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 1</span> <span class="message svelte-tkpu1q">Server started successfully</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:34:58</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 2</span> <span class="message svelte-tkpu1q">Player 'JohnDoe' connected</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:35:01</span> <span class="level warning svelte-tkpu1q">WARN</span> <span class="server svelte-tkpu1q">Server 3</span> <span class="message svelte-tkpu1q">High CPU usage detected (85%)</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:35:15</span> <span class="level error svelte-tkpu1q">ERROR</span> <span class="server svelte-tkpu1q">Server 4</span> <span class="message svelte-tkpu1q">Failed to write to config file: Permission denied</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:35:30</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 2</span> <span class="message svelte-tkpu1q">Player 'JaneDoe' connected</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:36:05</span> <span class="level debug svelte-tkpu1q">DEBUG</span> <span class="server svelte-tkpu1q">Server 1</span> <span class="message svelte-tkpu1q">Memory usage: 3.2GB/8GB</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:36:42</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 3</span> <span class="message svelte-tkpu1q">Map changed to 'de_dust2'</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:37:15</span> <span class="level warning svelte-tkpu1q">WARN</span> <span class="server svelte-tkpu1q">Server 2</span> <span class="message svelte-tkpu1q">Possible network lag detected</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:38:01</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 1</span> <span class="message svelte-tkpu1q">Autosave completed successfully</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:39:30</span> <span class="level error svelte-tkpu1q">ERROR</span> <span class="server svelte-tkpu1q">Server 4</span> <span class="message svelte-tkpu1q">Connection to Steam API timed out</span></div></div></div>`);function Ki(e){var t=Yi();k(e,t)}var Zi=L('<main class="main-content svelte-14im1b8"><div class="view-header svelte-14im1b8"><h1 class="svelte-14im1b8"> </h1> <p class="description svelte-14im1b8"> </p></div> <div class="view-content svelte-14im1b8"><!></div></main>');function Qi(e,t){let r=Me(t,"activeView",8,"dashboard");const n={dashboard:{title:"Dashboard",description:"Server overview and statistics"},servers:{title:"Servers",description:"Manage your game servers"},settings:{title:"Settings",description:"Configure application settings"},logs:{title:"Logs",description:"View server logs and events"},console:{title:"Console",description:"View server console output"}};var a=Zi(),i=_(a),l=_(i),c=_(l),o=w(l,2),v=_(o),g=w(i,2),d=_(g);{var u=p=>{ui(p)},h=(p,T)=>{{var E=x=>{Ji(x,{})},m=(x,C)=>{{var S=A=>{Ki(A)},b=(A,q)=>{{var B=P=>{nn(P,{})};O(A,P=>{r()==="console"&&P(B)},q)}};O(x,A=>{r()==="logs"?A(S):A(b,!1)},C)}};O(p,x=>{r()==="settings"?x(E):x(m,!1)},T)}};O(d,p=>{r()==="dashboard"?p(u):p(h,!1)})}K(()=>{J(c,n[r()].title),J(v,n[r()].description)}),k(e,a)}var Xi=L('<div class="error-message svelte-ksqk3p"> </div>'),el=L('<div class="initializing svelte-ksqk3p"><div class="loading-spinner svelte-ksqk3p"></div> <p class="svelte-ksqk3p"><!></p> <!></div>');function tl(e,t){Fe(t,!1);let r=Me(t,"onStatusChange",8,d=>{}),n=N(!1),a=N("checking"),i=N(null);AbortSignal.timeout||(AbortSignal.timeout=function(u){const h=new AbortController;return setTimeout(()=>h.abort(),u),h.signal});async function l(){try{const d=new URL(window.location.href),u=`${d.protocol}//${d.host}`,h=new AbortController,p=setTimeout(()=>h.abort(),5e3),T=await fetch(`${u}/api/v2/server/status`,{method:"GET",signal:h.signal});return clearTimeout(p),T.status===404?(f(a,"offline"),f(i,"Server endpoint not found. The server may not support this API."),!0):T.ok||T.status===401||T.status===403?(f(a,"online"),!0):(f(a,"error"),f(i,`Server error: ${T.status} ${T.statusText}`),!1)}catch(d){return d.name==="AbortError"?(f(a,"offline"),f(i,"Connection timed out. The server may be slow or unreachable.")):d.message.includes("certificate")||d.message.includes("SSL")||d.message.includes("ERR_CERT")?(f(a,"cert-error"),f(i,"Certificate error. The server may be using an invalid or self-signed certificate. Try accepting the certificate in your browser.")):d.message.includes("Failed to fetch")||d.message.includes("NetworkError")?(f(a,"unreachable"),f(i,"Server not found. The server may be down or the URL may be incorrect.")):(f(a,"offline"),f(i,d.message||"Cannot connect to server")),!1}}lt(async()=>{if(sn(),await l())try{await $t()}catch(u){console.warn("Auth check failed:",u)}r()({status:s(a),error:s(i)}),f(n,!0)}),Ke();var c=Nt(),o=at(c);{var v=d=>{var u=Nt(),h=at(u);$s(h,t,"default",{}),k(d,u)},g=d=>{var u=el(),h=w(_(u),2),p=_(h);{var T=C=>{var S=te("Connecting to server...");k(C,S)},E=(C,S)=>{{var b=q=>{var B=te("Initializing application...");k(q,B)},A=(q,B)=>{{var P=ne=>{var ae=te("Cannot connect to server");k(ne,ae)},se=(ne,ae)=>{{var ie=V=>{var ee=te("Server error");k(V,ee)},X=(V,ee)=>{{var I=H=>{var D=te("Certificate error");k(H,D)},G=(H,D)=>{{var $=Y=>{var z=te("Server not found");k(Y,z)};O(H,Y=>{s(a)==="unreachable"&&Y($)},D)}};O(V,H=>{s(a)==="cert-error"?H(I):H(G,!1)},ee)}};O(ne,V=>{s(a)==="error"?V(ie):V(X,!1)},ae)}};O(q,ne=>{s(a)==="offline"?ne(P):ne(se,!1)},B)}};O(C,q=>{s(a)==="online"?q(b):q(A,!1)},S)}};O(p,C=>{s(a)==="checking"?C(T):C(E,!1)})}var m=w(h,2);{var x=C=>{var S=Xi(),b=_(S);K(()=>J(b,s(i))),k(C,S)};O(m,C=>{s(i)&&C(x)})}k(d,u)};O(o,d=>{s(n)?d(v):d(g,!1)})}k(e,c),Ve()}var rl=L('<div class="backend-item svelte-1ygmrwf"><label class="backend-option svelte-1ygmrwf"><input type="radio" name="backend" class="svelte-1ygmrwf"> <div class="backend-details svelte-1ygmrwf"><span class="backend-name svelte-1ygmrwf"> </span> <span class="backend-url svelte-1ygmrwf"> </span></div> <span><!></span></label></div>'),sl=L('<div class="backend-dropdown svelte-1ygmrwf"><div class="dropdown-header svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Select Backend</h3> <button class="close-btn svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="backend-list svelte-1ygmrwf"></div> <div class="dropdown-actions svelte-1ygmrwf"><button class="test-btn svelte-1ygmrwf"> </button> <button class="switch-btn svelte-1ygmrwf">Switch Server</button></div></div>'),nl=L(' <a target="_blank" rel="noopener">Check Backend</a>',1),al=L('<div class="error-message svelte-1ygmrwf"><!></div>'),il=L(`<div class="new-backend-form svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Add New Server</h3> <p class="svelte-1ygmrwf">The current server doesn't have the expected login endpoint or is unreachable. Add a new server with the correct authentication endpoint.</p> <div class="form-group svelte-1ygmrwf"><label for="new-backend-id" class="svelte-1ygmrwf">Server Name</label> <input type="text" id="new-backend-id" placeholder="e.g., production" class="svelte-1ygmrwf"></div> <div class="form-group svelte-1ygmrwf"><label for="new-backend-url" class="svelte-1ygmrwf">Server URL</label> <input type="text" id="new-backend-url" placeholder="e.g., https://api.example.com" class="svelte-1ygmrwf"></div> <div class="backend-form-actions svelte-1ygmrwf"><button class="cancel-btn svelte-1ygmrwf">Cancel</button> <button class="add-backend-btn svelte-1ygmrwf">Add Server</button></div></div>`),ll=Hr('<svg class="loading-spinner svelte-1ygmrwf" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg> Logging in...',1),ol=L('<form><div class="form-group svelte-1ygmrwf"><label for="username" class="svelte-1ygmrwf">Username</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-1ygmrwf"></div></div> <div class="form-group svelte-1ygmrwf"><label for="password" class="svelte-1ygmrwf">Password</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-1ygmrwf"></div></div> <button type="submit" class="login-button svelte-1ygmrwf"><!></button></form>'),cl=L('<div class="login-page svelte-1ygmrwf"><div class="login-container svelte-1ygmrwf"><div class="login-card svelte-1ygmrwf"><div class="login-header svelte-1ygmrwf"><h2 class="svelte-1ygmrwf">Backend Login Required</h2> <div class="server-selector svelte-1ygmrwf"><div class="server-info svelte-1ygmrwf"><span class="server-label svelte-1ygmrwf">Server:</span> <span class="server-url svelte-1ygmrwf"> </span> <span><!></span> <button class="change-server-btn svelte-1ygmrwf" title="Change server"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></button></div> <!></div></div> <!> <!></div></div></div>');function vl(e,t){Fe(t,!1);const[r,n]=tn(),a=()=>en(ye,"$backendConfig",r),i=N(),l=N(),c=N(),o=N(),v=N(),g=[];let d=N(""),u=N(""),h=N(""),p=N(!1),T=N([]),E=N(""),m=N({}),x=N(!1),C=N(!1),S=N(!1),b=N(""),A=N(""),q,B;lt(()=>(q=Oe.subscribe(R=>{R.authError&&(f(h,R.authError),R.authError==="endpoint not found"&&f(S,!0)),f(p,R.isAuthenticating)}),B=ye.subscribe(R=>{f(T,Object.keys(R.backends)),f(E,R.active),s(T).forEach(y=>{y in s(m)||ct(m,s(m)[y]={status:"unknown",lastChecked:null,error:null})})}),P(s(E)),()=>{q&&q(),B&&B()}));async function P(R){f(C,!0),ct(m,s(m)[R]={status:"checking",lastChecked:new Date,error:null}),f(m,{...s(m)});try{const y=ht(ye),U=y.backends[R].url==="/"?"":y.backends[R].url,j=new AbortController,M=setTimeout(()=>j.abort(),5e3),F=await fetch(`${U}/api/v2/server/status`,{method:"GET",signal:j.signal});clearTimeout(M),F.ok?ct(m,s(m)[R]={status:"online",lastChecked:new Date,error:null}):F.status===401?ct(m,s(m)[R]={status:"online",lastChecked:new Date,authRequired:!0,error:null}):ct(m,s(m)[R]={status:"offline",lastChecked:new Date,error:`Server responded with ${F.status} ${F.statusText}`})}catch(y){let U="error",j="Failed to connect to the server",M=!1;const F=s(l).startsWith("https://");y.name==="AbortError"?j="Connection timed out. The server may be slow or unreachable.":F?(U="cert-error",M=!0,j="There was an error connecting to the remote Backend. If using a self-signed certificate, please visit the server URL to accept the certificate."):j="Server not found. The server may be down or the URL may be incorrect.",ct(m,s(m)[R]={status:U,lastChecked:new Date,error:j,certificateHint:M,backendUrl:s(l)})}finally{f(C,!1),f(m,{...s(m)})}}async function se(){if(f(h,""),f(p,!0),!s(d)||!s(u)){f(h,"Username and password are required"),f(p,!1);return}try{const R=await Va(s(d),s(u))}catch(R){f(h,R.message||"Login failed")}finally{f(p,!1)}}async function ne(){await lr(s(E)),P(s(E)),f(x,!1),f(h,""),f(S,!1)}function ae(){f(x,!s(x))}async function ie(){!s(b)||!s(A)||(rn(s(b),s(A)),f(E,s(b)),await lr(s(b)),P(s(b)),f(S,!1),f(b,""),f(A,""),f(h,""))}ut(()=>a(),()=>{f(i,a().backends[a().active])}),ut(()=>s(i),()=>{var R;f(l,((R=s(i))==null?void 0:R.url)||"/")}),ut(()=>s(l),()=>{f(c,s(l)==="/"?window.location.origin:s(l))}),ut(()=>(s(m),s(E)),()=>{var R;f(o,((R=s(m)[s(E)])==null?void 0:R.status)||"unknown")}),ut(()=>(s(m),s(E)),()=>{var R;f(v,(R=s(m)[s(E)])==null?void 0:R.error)}),jr(),Ke();var X=cl(),V=_(X),ee=_(V),I=_(ee),G=w(_(I),2),H=_(G),D=w(_(H),2),$=_(D),Y=w(D,2),z=_(Y);{var de=R=>{var y=te("🟢");k(R,y)},pe=(R,y)=>{{var U=M=>{var F=te("🔴");k(M,F)},j=(M,F)=>{{var ve=le=>{var oe=te("⚠️");k(le,oe)},me=(le,oe)=>{{var re=Q=>{var Z=te("🔒");k(Q,Z)},he=Q=>{var Z=te("⚪");k(Q,Z)};O(le,Q=>{s(o)==="cert-error"?Q(re):Q(he,!1)},oe)}};O(M,le=>{s(o)==="error"||s(o)==="unreachable"?le(ve):le(me,!1)},F)}};O(R,M=>{s(o)==="offline"?M(U):M(j,!1)},y)}};O(z,R=>{s(o)==="online"?R(de):R(pe,!1)})}var we=w(H,2);{var Se=R=>{var y=sl(),U=_(y),j=w(_(U),2),M=w(U,2);ze(M,5,()=>s(T),Pe,(oe,re)=>{var he=rl(),Q=_(he),Z=_(Q),be,Le=w(Z,2),ke=_(Le),zt=_(ke),an=w(ke,2),ln=_(an),Yr=w(Le,2),on=_(Yr);{var cn=Ge=>{var bt=te("🟢");k(Ge,bt)},vn=(Ge,bt)=>{{var un=mt=>{var kt=te("🔴");k(mt,kt)},fn=(mt,kt)=>{{var dn=yt=>{var wt=te("⚠️");k(yt,wt)},pn=(yt,wt)=>{{var Wt=St=>{var xt=te("🔒");k(St,xt)},hn=St=>{var xt=te("⚪");k(St,xt)};O(yt,St=>{var xt;((xt=s(m)[s(re)])==null?void 0:xt.status)==="cert-error"?St(Wt):St(hn,!1)},wt)}};O(mt,yt=>{var wt,Wt;((wt=s(m)[s(re)])==null?void 0:wt.status)==="error"||((Wt=s(m)[s(re)])==null?void 0:Wt.status)==="unreachable"?yt(dn):yt(pn,!1)},kt)}};O(Ge,mt=>{var kt;((kt=s(m)[s(re)])==null?void 0:kt.status)==="offline"?mt(un):mt(fn,!1)},bt)}};O(on,Ge=>{var bt;((bt=s(m)[s(re)])==null?void 0:bt.status)==="online"?Ge(cn):Ge(vn,!1)})}K(()=>{var Ge;be!==(be=s(re))&&(Z.value=(Z.__value=s(re))??""),J(zt,s(re)),J(ln,a().backends[s(re)].url),_e(Yr,1,`status-indicator ${((Ge=s(m)[s(re)])==null?void 0:Ge.status)||"unknown"}`,"svelte-1ygmrwf")}),Zs(g,[],Z,()=>(s(re),s(E)),Ge=>f(E,Ge)),k(oe,he)});var F=w(M,2),ve=_(F),me=_(ve),le=w(ve,2);K(()=>{ve.disabled=s(C),J(me,s(C)?"Testing...":"Test Connection"),le.disabled=s(E)===a().active}),W("click",j,()=>f(x,!1)),W("click",ve,()=>P(s(E))),W("click",le,ne),k(R,y)};O(we,R=>{s(x)&&R(Se)})}var ge=w(I,2);{var Ae=R=>{var y=al(),U=_(y);{var j=F=>{var ve=te("The selected server doesn't have the expected login endpoint.");k(F,ve)},M=(F,ve)=>{{var me=oe=>{var re=nl(),he=at(re),Q=w(he);K(()=>{J(he,`${s(v)??""} `),De(Q,"href",s(m)[s(E)].backendUrl)}),k(oe,re)},le=(oe,re)=>{{var he=Z=>{var be=te();K(()=>J(be,s(v))),k(Z,be)},Q=Z=>{var be=te();K(()=>J(be,s(h))),k(Z,be)};O(oe,Z=>{s(v)?Z(he):Z(Q,!1)},re)}};O(F,oe=>{s(o)==="cert-error"?oe(me):oe(le,!1)},ve)}};O(U,F=>{s(h)==="endpoint not found"?F(j):F(M,!1)})}k(R,y)};O(ge,R=>{(s(h)||s(v))&&R(Ae)})}var Te=w(ge,2);{var Ie=R=>{var y=il(),U=w(_(y),4),j=w(_(U),2),M=w(U,2),F=w(_(M),2),ve=w(M,2),me=_(ve),le=w(me,2);K(()=>{j.disabled=s(p),F.disabled=s(p),me.disabled=s(p),le.disabled=s(p)||!s(b)||!s(A)}),Tt(j,()=>s(b),oe=>f(b,oe)),Tt(F,()=>s(A),oe=>f(A,oe)),W("click",me,()=>f(S,!1)),W("click",le,ie),k(R,y)},et=R=>{var y=ol(),U=_(y),j=w(_(U),2),M=w(_(j),2),F=w(U,2),ve=w(_(F),2),me=w(_(ve),2),le=w(F,2),oe=_(le);{var re=Q=>{var Z=ll();k(Q,Z)},he=Q=>{var Z=te("Login");k(Q,Z)};O(oe,Q=>{s(p)?Q(re):Q(he,!1)})}K(()=>{M.disabled=s(p),me.disabled=s(p),le.disabled=s(p)||s(o)==="unreachable"||s(o)==="cert-error"}),Tt(M,()=>s(d),Q=>f(d,Q)),Tt(me,()=>s(u),Q=>f(u,Q)),W("submit",y,Ma(se)),k(R,y)};O(Te,R=>{s(S)?R(Ie):R(et,!1)})}K(()=>{J($,s(c)),_e(Y,1,`status-indicator ${s(o)??""}`,"svelte-1ygmrwf")}),W("click",H,ae),k(e,X),Ve(),n()}var ul=L('<div class="loading-container svelte-1fcf5wk"><div class="loading-spinner svelte-1fcf5wk"></div> <p class="svelte-1fcf5wk">Checking authentication...</p></div>'),fl=L('<div class="error-details svelte-1fcf5wk"> </div>'),dl=L('<div class="server-error-container svelte-1fcf5wk"><div><!></div> <h2 class="svelte-1fcf5wk">Server Unavailable</h2> <p class="error-message svelte-1fcf5wk"><!></p> <!> <button class="retry-button svelte-1fcf5wk">Retry Connection</button></div>');function pl(e,t){Fe(t,!1);const[r,n]=tn(),a=()=>en(Oe,"$authState",r);let i=Me(t,"checkAuth",8,!0),l=Me(t,"serverStatus",8,"online"),c=Me(t,"serverError",8,null),o=N(!0),v;lt(async()=>{if(i()&&l()==="online"){v=Oe.subscribe(p=>{f(o,p.isAuthenticating)});try{await $t()}catch(p){console.error("Auth check failed:",p),f(o,!1)}}else f(o,!1)}),Wr(()=>{v&&v()}),Ke();var g=Nt(),d=at(g);{var u=p=>{var T=ul();k(p,T)},h=(p,T)=>{{var E=x=>{var C=dl(),S=_(C),b=_(S);{var A=V=>{var ee=te("🔴");k(V,ee)},q=V=>{var ee=te("⚠️");k(V,ee)};O(b,V=>{l()==="offline"?V(A):V(q,!1)})}var B=w(S,4),P=_(B);{var se=V=>{var ee=te("Cannot connect to the server. Please check your connection or try again later.");k(V,ee)},ne=V=>{var ee=te("There was an error connecting to the server.");k(V,ee)};O(P,V=>{l()==="offline"?V(se):V(ne,!1)})}var ae=w(B,2);{var ie=V=>{var ee=fl(),I=_(ee);K(()=>J(I,c())),k(V,ee)};O(ae,V=>{c()&&V(ie)})}var X=w(ae,2);K(()=>_e(S,1,`status-icon ${l()??""}`,"svelte-1fcf5wk")),W("click",X,()=>window.location.reload()),k(x,C)},m=(x,C)=>{{var S=A=>{vl(A,{})},b=A=>{var q=Nt(),B=at(q);$s(B,t,"default",{}),k(A,q)};O(x,A=>{!a().isAuthenticated&&i()?A(S):A(b,!1)},C)}};O(p,x=>{l()==="offline"||l()==="error"?x(E):x(m,!1)},T)}};O(d,p=>{s(o)?p(u):p(h,!1)})}k(e,g),Ve(),n()}var hl=L('<div class="app-container svelte-136oog4"><!> <div class="main-container svelte-136oog4"><!> <!></div></div>');function _l(e){let t=N("dashboard");const r=[{id:"dashboard",name:"Dashboard",icon:"grid"},{id:"settings",name:"Settings",icon:"settings"},{id:"logs",name:"Logs",icon:"file-text"},{id:"console",name:"Console",icon:"terminal"}];function n(c){f(t,c)}let a=N("checking"),i=N(null);function l(c){f(a,c.status),f(i,c.error)}tl(e,{onStatusChange:l,children:(c,o)=>{pl(c,{get serverStatus(){return s(a)},get serverError(){return s(i)},children:(v,g)=>{var d=hl(),u=_(d);Ka(u,{views:r,get activeView(){return s(t)},setActiveView:n});var h=w(u,2),p=_(h);Xa(p,{views:r,get activeView(){return s(t)},setActiveView:n});var T=w(p,2);Qi(T,{get activeView(){return s(t)}}),k(v,d)},$$slots:{default:!0}})},$$slots:{default:!0}})}ka(_l,{target:document.getElementById("app")});
