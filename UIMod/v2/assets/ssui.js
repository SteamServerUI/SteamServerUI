(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const On="5";var Ra;typeof window<"u"&&((Ra=window.__svelte??(window.__svelte={})).v??(Ra.v=new Set)).add(On);const Zr=1,Qr=2,Ia=4,Dn=8,Nn=16,$n=1,qn=2,Pn=4,Bn=8,Un=16,jn=1,Fn=2,Vn=4,Ma=1,Gn=2,Ne=Symbol(),Hn="http://www.w3.org/1999/xhtml",ua=!1;var qt=Array.isArray,Wn=Array.prototype.indexOf,Xr=Array.from,Oa=Object.defineProperty,It=Object.getOwnPropertyDescriptor,Da=Object.getOwnPropertyDescriptors,Yn=Object.prototype,Jn=Array.prototype,ea=Object.getPrototypeOf,da=Object.isExtensible;function Kn(e){return typeof e=="function"}const $e=()=>{};function Zn(e){return e()}function qr(e){for(var t=0;t<e.length;t++)e[t]()}const Xe=2,Na=4,_r=8,gr=16,dt=32,Pt=64,ir=128,je=256,lr=512,Be=1024,nt=2048,yt=4096,ot=8192,hr=16384,$a=32768,Yt=65536,Qn=1<<17,Xn=1<<19,qa=1<<20,Pr=1<<21,ct=Symbol("$state"),es=Symbol("legacy props"),ts=Symbol("");function Pa(e){return e===this.v}function Ba(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ta(e){return!Ba(e,this.v)}function rs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function as(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ns(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ss(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function is(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ls(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function os(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function cs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Bt=!1,vs=!1;function us(){Bt=!0}function br(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let he=null;function fa(e){he=e}function me(e,t=!1,r){var n=he={p:he,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Bt&&!t&&(he.l={s:null,u:null,r1:[],r2:Ht(!1)}),kr(()=>{n.d=!0})}function ye(e){const t=he;if(t!==null){const l=t.e;if(l!==null){var r=de,n=_e;t.e=null;try{for(var s=0;s<l.length;s++){var i=l[s];st(i.effect),Ye(i.reaction),jt(i.fn)}}finally{st(r),Ye(n)}}he=t.p,t.m=!0}return{}}function Jt(){return!Bt||he!==null&&he.l===null}function ue(e){if(typeof e!="object"||e===null||ct in e)return e;const t=ea(e);if(t!==Yn&&t!==Jn)return e;var r=new Map,n=qt(e),s=R(0),i=_e,l=u=>{var c=_e;Ye(i);var o=u();return Ye(c),o};return n&&r.set("length",R(e.length)),new Proxy(e,{defineProperty(u,c,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&ls();var _=r.get(c);return _===void 0?(_=l(()=>R(o.value)),r.set(c,_)):p(_,l(()=>ue(o.value))),!0},deleteProperty(u,c){var o=r.get(c);if(o===void 0)c in u&&(r.set(c,l(()=>R(Ne))),zr(s));else{if(n&&typeof c=="string"){var _=r.get("length"),f=Number(c);Number.isInteger(f)&&f<_.v&&p(_,f)}p(o,Ne),zr(s)}return!0},get(u,c,o){var h;if(c===ct)return e;var _=r.get(c),f=c in u;if(_===void 0&&(!f||(h=It(u,c))!=null&&h.writable)&&(_=l(()=>R(ue(f?u[c]:Ne))),r.set(c,_)),_!==void 0){var v=a(_);return v===Ne?void 0:v}return Reflect.get(u,c,o)},getOwnPropertyDescriptor(u,c){var o=Reflect.getOwnPropertyDescriptor(u,c);if(o&&"value"in o){var _=r.get(c);_&&(o.value=a(_))}else if(o===void 0){var f=r.get(c),v=f==null?void 0:f.v;if(f!==void 0&&v!==Ne)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return o},has(u,c){var v;if(c===ct)return!0;var o=r.get(c),_=o!==void 0&&o.v!==Ne||Reflect.has(u,c);if(o!==void 0||de!==null&&(!_||(v=It(u,c))!=null&&v.writable)){o===void 0&&(o=l(()=>R(_?ue(u[c]):Ne)),r.set(c,o));var f=a(o);if(f===Ne)return!1}return _},set(u,c,o,_){var m;var f=r.get(c),v=c in u;if(n&&c==="length")for(var h=o;h<f.v;h+=1){var g=r.get(h+"");g!==void 0?p(g,Ne):h in u&&(g=l(()=>R(Ne)),r.set(h+"",g))}f===void 0?(!v||(m=It(u,c))!=null&&m.writable)&&(f=l(()=>R(void 0)),p(f,l(()=>ue(o))),r.set(c,f)):(v=f.v!==Ne,p(f,l(()=>ue(o))));var k=Reflect.getOwnPropertyDescriptor(u,c);if(k!=null&&k.set&&k.set.call(_,o),!v){if(n&&typeof c=="string"){var y=r.get("length"),E=Number(c);Number.isInteger(E)&&E>=y.v&&p(y,E+1)}zr(s)}return!0},ownKeys(u){a(s);var c=Reflect.ownKeys(u).filter(f=>{var v=r.get(f);return v===void 0||v.v!==Ne});for(var[o,_]of r)_.v!==Ne&&!(o in u)&&c.push(o);return c},setPrototypeOf(){os()}})}function zr(e,t=1){p(e,e.v+t)}function pa(e){try{if(e!==null&&typeof e=="object"&&ct in e)return e[ct]}catch{}return e}function Ua(e,t){return Object.is(pa(e),pa(t))}function Mt(e){var t=Xe|nt,r=_e!==null&&(_e.f&Xe)!==0?_e:null;return de===null||r!==null&&(r.f&je)!==0?t|=je:de.f|=qa,{ctx:he,deps:null,effects:null,equals:Pa,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??de}}function We(e){const t=Mt(e);return tn(t),t}function mr(e){const t=Mt(e);return t.equals=ta,t}function ja(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)vt(t[r])}}function ds(e){for(var t=e.parent;t!==null;){if((t.f&Xe)===0)return t;t=t.parent}return null}function Fa(e){var t,r=de;st(ds(e));try{ja(e),t=sn(e)}finally{st(r)}return t}function Va(e){var t=Fa(e),r=(_t||(e.f&je)!==0)&&e.deps!==null?yt:Be;tt(e,r),e.equals(t)||(e.v=t,e.wv=an())}const Gt=new Map;function Ht(e,t){var r={f:0,v:e,reactions:null,equals:Pa,rv:0,wv:0};return r}function R(e,t){const r=Ht(e);return tn(r),r}function at(e,t=!1){var n;const r=Ht(e);return t||(r.equals=ta),Bt&&he!==null&&he.l!==null&&((n=he.l).s??(n.s=[])).push(r),r}function p(e,t,r=!1){_e!==null&&!rt&&Jt()&&(_e.f&(Xe|gr))!==0&&!(Oe!=null&&Oe.includes(e))&&cs();let n=r?ue(t):t;return Br(e,n)}function Br(e,t){if(!e.equals(t)){var r=e.v;Kt?Gt.set(e,t):Gt.set(e,r),e.v=t,(e.f&Xe)!==0&&((e.f&nt)!==0&&Fa(e),tt(e,(e.f&je)===0?Be:yt)),e.wv=an(),Ga(e,nt),Jt()&&de!==null&&(de.f&Be)!==0&&(de.f&(dt|Pt))===0&&(He===null?xs([e]):He.push(e))}return t}function Ga(e,t){var r=e.reactions;if(r!==null)for(var n=Jt(),s=r.length,i=0;i<s;i++){var l=r[i],u=l.f;(u&nt)===0&&(!n&&l===de||(tt(l,t),(u&(Be|je))!==0&&((u&Xe)!==0?Ga(l,yt):Cr(l))))}}function fs(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let ps=!1;var _a,Ha,Wa,Ya;function _s(){if(_a===void 0){_a=window,Ha=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Wa=It(t,"firstChild").get,Ya=It(t,"nextSibling").get,da(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),da(r)&&(r.__t=void 0)}}function yr(e=""){return document.createTextNode(e)}function lt(e){return Wa.call(e)}function wr(e){return Ya.call(e)}function d(e,t){return lt(e)}function Te(e,t){{var r=lt(e);return r instanceof Comment&&r.data===""?wr(r):r}}function b(e,t=1,r=!1){let n=e;for(;t--;)n=wr(n);return n}function gs(e){e.textContent=""}function Ja(e){de===null&&_e===null&&ns(),_e!==null&&(_e.f&je)!==0&&de===null&&as(),Kt&&rs()}function hs(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ut(e,t,r,n=!0){var s=de,i={ctx:he,deps:null,nodes_start:null,nodes_end:null,f:e|nt,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{aa(i),i.f|=$a}catch(c){throw vt(i),c}else t!==null&&Cr(i);var l=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(qa|ir))===0;if(!l&&n&&(s!==null&&hs(i,s),_e!==null&&(_e.f&Xe)!==0)){var u=_e;(u.effects??(u.effects=[])).push(i)}return i}function kr(e){const t=Ut(_r,null,!1);return tt(t,Be),t.teardown=e,t}function et(e){Ja();var t=de!==null&&(de.f&dt)!==0&&he!==null&&!he.m;if(t){var r=he;(r.e??(r.e=[])).push({fn:e,effect:de,reaction:_e})}else{var n=jt(e);return n}}function bs(e){return Ja(),xr(e)}function ms(e){const t=Ut(Pt,e,!0);return(r={})=>new Promise(n=>{r.outro?or(t,()=>{vt(t),n(void 0)}):(vt(t),n(void 0))})}function jt(e){return Ut(Na,e,!1)}function xr(e){return Ut(_r,e,!0)}function G(e,t=[],r=Mt){const n=t.map(r);return Sr(()=>e(...n.map(a)))}function Sr(e,t=0){return Ut(_r|gr|t,e,!0)}function Ot(e,t=!0){return Ut(_r|dt,e,!0,t)}function Ka(e){var t=e.teardown;if(t!==null){const r=Kt,n=_e;ga(!0),Ye(null);try{t.call(null)}finally{ga(r),Ye(n)}}}function Za(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Pt)!==0?r.parent=null:vt(r,t),r=n}}function ys(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&dt)===0&&vt(t),t=r}}function vt(e,t=!0){var r=!1;(t||(e.f&Xn)!==0)&&e.nodes_start!==null&&(ws(e.nodes_start,e.nodes_end),r=!0),Za(e,t&&!r),fr(e,0),tt(e,hr);var n=e.transitions;if(n!==null)for(const i of n)i.stop();Ka(e);var s=e.parent;s!==null&&s.first!==null&&Qa(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ws(e,t){for(;e!==null;){var r=e===t?null:wr(e);e.remove(),e=r}}function Qa(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function or(e,t){var r=[];ra(e,r,!0),Xa(r,()=>{vt(e),t&&t()})}function Xa(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function ra(e,t,r){if((e.f&ot)===0){if(e.f^=ot,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var s=n.next,i=(n.f&Yt)!==0||(n.f&dt)!==0;ra(n,t,i?r:!1),n=s}}}function cr(e){en(e,!0)}function en(e,t){if((e.f&ot)!==0){e.f^=ot,(e.f&Be)===0&&(e.f^=Be),Zt(e)&&(tt(e,nt),Cr(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&Yt)!==0||(r.f&dt)!==0;en(r,s?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let vr=[];function ks(){var e=vr;vr=[],qr(e)}function Dt(e){vr.length===0&&queueMicrotask(ks),vr.push(e)}let ar=!1,Ur=!1,ur=null,bt=!1,Kt=!1;function ga(e){Kt=e}let nr=[];let _e=null,rt=!1;function Ye(e){_e=e}let de=null;function st(e){de=e}let Oe=null;function tn(e){_e!==null&&_e.f&Pr&&(Oe===null?Oe=[e]:Oe.push(e))}let Ie=null,Ue=0,He=null;function xs(e){He=e}let rn=1,dr=0,_t=!1;function an(){return++rn}function Zt(e){var f;var t=e.f;if((t&nt)!==0)return!0;if((t&yt)!==0){var r=e.deps,n=(t&je)!==0;if(r!==null){var s,i,l=(t&lr)!==0,u=n&&de!==null&&!_t,c=r.length;if(l||u){var o=e,_=o.parent;for(s=0;s<c;s++)i=r[s],(l||!((f=i==null?void 0:i.reactions)!=null&&f.includes(o)))&&(i.reactions??(i.reactions=[])).push(o);l&&(o.f^=lr),u&&_!==null&&(_.f&je)===0&&(o.f^=je)}for(s=0;s<c;s++)if(i=r[s],Zt(i)&&Va(i),i.wv>e.wv)return!0}(!n||de!==null&&!_t)&&tt(e,Be)}return!1}function Ss(e,t){for(var r=t;r!==null;){if((r.f&ir)!==0)try{r.fn(e);return}catch{r.f^=ir}r=r.parent}throw ar=!1,e}function ha(e){return(e.f&hr)===0&&(e.parent===null||(e.parent.f&ir)===0)}function Er(e,t,r,n){if(ar){if(r===null&&(ar=!1),ha(t))throw e;return}if(r!==null&&(ar=!0),Ss(e,t),ha(t))throw e}function nn(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];Oe!=null&&Oe.includes(e)||((i.f&Xe)!==0?nn(i,t,!1):t===i&&(r?tt(i,nt):(i.f&Be)!==0&&tt(i,yt),Cr(i)))}}function sn(e){var h;var t=Ie,r=Ue,n=He,s=_e,i=_t,l=Oe,u=he,c=rt,o=e.f;Ie=null,Ue=0,He=null,_t=(o&je)!==0&&(rt||!bt||_e===null),_e=(o&(dt|Pt))===0?e:null,Oe=null,fa(e.ctx),rt=!1,dr++,e.f|=Pr;try{var _=(0,e.fn)(),f=e.deps;if(Ie!==null){var v;if(fr(e,Ue),f!==null&&Ue>0)for(f.length=Ue+Ie.length,v=0;v<Ie.length;v++)f[Ue+v]=Ie[v];else e.deps=f=Ie;if(!_t)for(v=Ue;v<f.length;v++)((h=f[v]).reactions??(h.reactions=[])).push(e)}else f!==null&&Ue<f.length&&(fr(e,Ue),f.length=Ue);if(Jt()&&He!==null&&!rt&&f!==null&&(e.f&(Xe|yt|nt))===0)for(v=0;v<He.length;v++)nn(He[v],e);return s!==null&&s!==e&&(dr++,He!==null&&(n===null?n=He:n.push(...He))),_}finally{Ie=t,Ue=r,He=n,_e=s,_t=i,Oe=l,fa(u),rt=c,e.f^=Pr}}function Es(e,t){let r=t.reactions;if(r!==null){var n=Wn.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&Xe)!==0&&(Ie===null||!Ie.includes(t))&&(tt(t,yt),(t.f&(je|lr))===0&&(t.f^=lr),ja(t),fr(t,0))}function fr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Es(e,r[n])}function aa(e){var t=e.f;if((t&hr)===0){tt(e,Be);var r=de,n=he,s=bt;de=e,bt=!0;try{(t&gr)!==0?ys(e):Za(e),Ka(e);var i=sn(e);e.teardown=typeof i=="function"?i:null,e.wv=rn;var l=e.deps,u;ua&&vs&&e.f&nt}catch(c){Er(c,e,r,n||e.ctx)}finally{bt=s,de=r}}}function Cs(){try{ss()}catch(e){if(ur!==null)Er(e,ur,null);else throw e}}function As(){var e=bt;try{var t=0;for(bt=!0;nr.length>0;){t++>1e3&&Cs();var r=nr,n=r.length;nr=[];for(var s=0;s<n;s++){var i=Ls(r[s]);Ts(i)}Gt.clear()}}finally{Ur=!1,bt=e,ur=null}}function Ts(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(hr|ot))===0)try{Zt(n)&&(aa(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Qa(n):n.fn=null))}catch(s){Er(s,n,null,n.ctx)}}}function Cr(e){Ur||(Ur=!0,queueMicrotask(As));for(var t=ur=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Pt|dt))!==0){if((r&Be)===0)return;t.f^=Be}}nr.push(t)}function Ls(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(dt|Pt))!==0,i=s&&(n&Be)!==0;if(!i&&(n&ot)===0){if((n&Na)!==0)t.push(r);else if(s)r.f^=Be;else try{Zt(r)&&aa(r)}catch(c){Er(c,r,null,r.ctx)}var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return t}function a(e){var t=e.f,r=(t&Xe)!==0;if(_e!==null&&!rt){if(!(Oe!=null&&Oe.includes(e))){var n=_e.deps;e.rv<dr&&(e.rv=dr,Ie===null&&n!==null&&n[Ue]===e?Ue++:Ie===null?Ie=[e]:(!_t||!Ie.includes(e))&&Ie.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&(i.f&je)===0&&(s.f^=je)}return r&&(s=e,Zt(s)&&Va(s)),Kt&&Gt.has(e)?Gt.get(e):e.v}function ut(e){var t=rt;try{return rt=!0,e()}finally{rt=t}}const zs=-7169;function tt(e,t){e.f=e.f&zs|t}function Rs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ct in e)jr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&ct in r&&jr(r)}}}function jr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{jr(e[n],t)}catch{}const r=ea(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Da(r);for(let s in n){const i=n[s].get;if(i)try{i.call(e)}catch{}}}}}let ba=!1;function Is(){ba||(ba=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function na(e){var t=_e,r=de;Ye(null),st(null);try{return e()}finally{Ye(t),st(r)}}function sa(e,t,r,n=r){e.addEventListener(t,()=>na(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),Is()}const ln=new Set,Fr=new Set;function Ms(e,t,r,n={}){function s(i){if(n.capture||Ft.call(t,i),!i.cancelBubble)return na(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Dt(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function gt(e,t,r,n,s){var i={capture:n,passive:s},l=Ms(e,t,r,i);(t===document.body||t===window||t===document)&&kr(()=>{t.removeEventListener(e,l,i)})}function Re(e){for(var t=0;t<e.length;t++)ln.add(e[t]);for(var r of Fr)r(e)}function Ft(e){var m;var t=this,r=t.ownerDocument,n=e.type,s=((m=e.composedPath)==null?void 0:m.call(e))||[],i=s[0]||e.target,l=0,u=e.__root;if(u){var c=s.indexOf(u);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var o=s.indexOf(t);if(o===-1)return;c<=o&&(l=c)}if(i=s[l]||e.target,i!==t){Oa(e,"currentTarget",{configurable:!0,get(){return i||r}});var _=_e,f=de;Ye(null),st(null);try{for(var v,h=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var k=i["__"+n];if(k!=null&&(!i.disabled||e.target===i))if(qt(k)){var[y,...E]=k;y.apply(i,[e,...E])}else k.call(i,e)}catch(w){v?h.push(w):v=w}if(e.cancelBubble||g===t||g===null)break;i=g}if(v){for(let w of h)queueMicrotask(()=>{throw w});throw v}}finally{e.__root=t,delete e.currentTarget,Ye(_),st(f)}}}function on(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Nt(e,t){var r=de;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function z(e,t){var r=(t&Ma)!==0,n=(t&Gn)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=on(i?e:"<!>"+e),r||(s=lt(s)));var l=n||Ha?document.importNode(s,!0):s.cloneNode(!0);if(r){var u=lt(l),c=l.lastChild;Nt(u,c)}else Nt(l,l);return l}}function Qt(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&Ma)!==0,i=`<${r}>${n?e:"<!>"+e}</${r}>`,l;return()=>{if(!l){var u=on(i),c=lt(u);if(s)for(l=document.createDocumentFragment();lt(c);)l.appendChild(lt(c));else l=lt(c)}var o=l.cloneNode(!0);if(s){var _=lt(o),f=o.lastChild;Nt(_,f)}else Nt(o,o);return o}}function oe(e=""){{var t=yr(e+"");return Nt(t,t),t}}function it(){var e=document.createDocumentFragment(),t=document.createComment(""),r=yr();return e.append(t,r),Nt(t,r),e}function x(e,t){e!==null&&e.before(t)}const Os=["touchstart","touchmove"];function Ds(e){return Os.includes(e)}let Vr=!0;function U(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Ns(e,t){return $s(e,t)}const Tt=new Map;function $s(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:l=!0}){_s();var u=new Set,c=f=>{for(var v=0;v<f.length;v++){var h=f[v];if(!u.has(h)){u.add(h);var g=Ds(h);t.addEventListener(h,Ft,{passive:g});var k=Tt.get(h);k===void 0?(document.addEventListener(h,Ft,{passive:g}),Tt.set(h,1)):Tt.set(h,k+1)}}};c(Xr(ln)),Fr.add(c);var o=void 0,_=ms(()=>{var f=r??t.appendChild(yr());return Ot(()=>{if(i){me({});var v=he;v.c=i}s&&(n.$$events=s),Vr=l,o=e(f,n)||{},Vr=!0,i&&ye()}),()=>{var g;for(var v of u){t.removeEventListener(v,Ft);var h=Tt.get(v);--h===0?(document.removeEventListener(v,Ft),Tt.delete(v)):Tt.set(v,h)}Fr.delete(c),f!==r&&((g=f.parentNode)==null||g.removeChild(f))}});return qs.set(o,_),o}let qs=new WeakMap;function cn(e,t,...r){var n=e,s=$e,i;Sr(()=>{s!==(s=t())&&(i&&(vt(i),i=null),i=Ot(()=>s(n,...r)))},Yt)}function Ve(e){he===null&&br(),Bt&&he.l!==null?Us(he).m.push(e):et(()=>{const t=ut(e);if(typeof t=="function")return t})}function Ar(e){he===null&&br(),Ve(()=>()=>ut(e))}function Ps(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function Bs(){const e=he;return e===null&&br(),(t,r,n)=>{var i;const s=(i=e.s.$$events)==null?void 0:i[t];if(s){const l=qt(s)?s.slice():[s],u=Ps(t,r,n);for(const c of l)c.call(e.x,u);return!u.defaultPrevented}return!0}}function Us(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function I(e,t,[r,n]=[0,0]){var s=e,i=null,l=null,u=Ne,c=r>0?Yt:0,o=!1;const _=(v,h=!0)=>{o=!0,f(h,v)},f=(v,h)=>{u!==(u=v)&&(u?(i?cr(i):h&&(i=Ot(()=>h(s))),l&&or(l,()=>{l=null})):(l?cr(l):h&&(l=Ot(()=>h(s,[r+1,n]))),i&&or(i,()=>{i=null})))};Sr(()=>{o=!1,t(_),o||f(null,null)},c)}function Fe(e,t){return t}function js(e,t,r,n){for(var s=[],i=t.length,l=0;l<i;l++)ra(t[l].e,s,!0);var u=i>0&&s.length===0&&r!==null;if(u){var c=r.parentNode;gs(c),c.append(r),n.clear(),ft(e,t[0].prev,t[i-1].next)}Xa(s,()=>{for(var o=0;o<i;o++){var _=t[o];u||(n.delete(_.k),ft(e,_.prev,_.next)),vt(_.e,!u)}})}function qe(e,t,r,n,s,i=null){var l=e,u={flags:t,items:new Map,first:null},c=(t&Ia)!==0;if(c){var o=e;l=o.appendChild(yr())}var _=null,f=!1,v=mr(()=>{var h=r();return qt(h)?h:h==null?[]:Xr(h)});Sr(()=>{var h=a(v),g=h.length;f&&g===0||(f=g===0,Fs(h,u,l,s,t,n,r),i!==null&&(g===0?_?cr(_):_=Ot(()=>i(l)):_!==null&&or(_,()=>{_=null})),a(v))})}function Fs(e,t,r,n,s,i,l){var re,te,M,O;var u=(s&Dn)!==0,c=(s&(Zr|Qr))!==0,o=e.length,_=t.items,f=t.first,v=f,h,g=null,k,y=[],E=[],m,w,S,T;if(u)for(T=0;T<o;T+=1)m=e[T],w=i(m,T),S=_.get(w),S!==void 0&&((re=S.a)==null||re.measure(),(k??(k=new Set)).add(S));for(T=0;T<o;T+=1){if(m=e[T],w=i(m,T),S=_.get(w),S===void 0){var D=v?v.e.nodes_start:r;g=Gs(D,t,g,g===null?t.first:g.next,m,w,T,n,s,l),_.set(w,g),y=[],E=[],v=g.next;continue}if(c&&Vs(S,m,T,s),(S.e.f&ot)!==0&&(cr(S.e),u&&((te=S.a)==null||te.unfix(),(k??(k=new Set)).delete(S))),S!==v){if(h!==void 0&&h.has(S)){if(y.length<E.length){var N=E[0],P;g=N.prev;var W=y[0],Y=y[y.length-1];for(P=0;P<y.length;P+=1)ma(y[P],N,r);for(P=0;P<E.length;P+=1)h.delete(E[P]);ft(t,W.prev,Y.next),ft(t,g,W),ft(t,Y,N),v=N,g=Y,T-=1,y=[],E=[]}else h.delete(S),ma(S,v,r),ft(t,S.prev,S.next),ft(t,S,g===null?t.first:g.next),ft(t,g,S),g=S;continue}for(y=[],E=[];v!==null&&v.k!==w;)(v.e.f&ot)===0&&(h??(h=new Set)).add(v),E.push(v),v=v.next;if(v===null)continue;S=v}y.push(S),g=S,v=S.next}if(v!==null||h!==void 0){for(var K=h===void 0?[]:Xr(h);v!==null;)(v.e.f&ot)===0&&K.push(v),v=v.next;var H=K.length;if(H>0){var Z=(s&Ia)!==0&&o===0?r:null;if(u){for(T=0;T<H;T+=1)(M=K[T].a)==null||M.measure();for(T=0;T<H;T+=1)(O=K[T].a)==null||O.fix()}js(t,K,Z,_)}}u&&Dt(()=>{var L;if(k!==void 0)for(S of k)(L=S.a)==null||L.apply()}),de.first=t.first&&t.first.e,de.last=g&&g.e}function Vs(e,t,r,n){(n&Zr)!==0&&Br(e.v,t),(n&Qr)!==0?Br(e.i,r):e.i=r}function Gs(e,t,r,n,s,i,l,u,c,o){var _=(c&Zr)!==0,f=(c&Nn)===0,v=_?f?at(s):Ht(s):s,h=(c&Qr)===0?l:Ht(l),g={i:h,v,k:i,a:null,e:null,prev:r,next:n};try{return g.e=Ot(()=>u(e,v,h,o),ps),g.e.prev=r&&r.e,g.e.next=n&&n.e,r===null?t.first=g:(r.next=g,r.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function ma(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var l=wr(i);s.before(i),i=l}}function ft(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function vn(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=vn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Hs(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=vn(e))&&(n&&(n+=" "),n+=t);return n}function Ws(e){return typeof e=="object"?Hs(e):e??""}const ya=[...` 	
\r\f \v\uFEFF`];function Ys(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,l=0;(l=n.indexOf(s,l))>=0;){var u=l+i;(l===0||ya.includes(n[l-1]))&&(u===n.length||ya.includes(n[u]))?n=(l===0?"":n.substring(0,l))+n.substring(u+1):l=u}}return n===""?null:n}function wa(e,t=!1){var r=t?" !important;":";",n="";for(var s in e){var i=e[s];i!=null&&i!==""&&(n+=" "+s+": "+i+r)}return n}function Rr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Js(e,t){if(t){var r="",n,s;if(Array.isArray(t)?(n=t[0],s=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,l=0,u=!1,c=[];n&&c.push(...Object.keys(n).map(Rr)),s&&c.push(...Object.keys(s).map(Rr));var o=0,_=-1;const k=e.length;for(var f=0;f<k;f++){var v=e[f];if(u?v==="/"&&e[f-1]==="*"&&(u=!1):i?i===v&&(i=!1):v==="/"&&e[f+1]==="*"?u=!0:v==='"'||v==="'"?i=v:v==="("?l++:v===")"&&l--,!u&&i===!1&&l===0){if(v===":"&&_===-1)_=f;else if(v===";"||f===k-1){if(_!==-1){var h=Rr(e.substring(o,_).trim());if(!c.includes(h)){v!==";"&&f++;var g=e.substring(o,f).trim();r+=" "+g+";"}}o=f+1,_=-1}}}}return n&&(r+=wa(n)),s&&(r+=wa(s,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function ce(e,t,r,n,s,i){var l=e.__className;if(l!==r||l===void 0){var u=Ys(r,n,i);u==null?e.removeAttribute("class"):e.className=u,e.__className=r}else if(i&&s!==i)for(var c in i){var o=!!i[c];(s==null||o!==!!s[c])&&e.classList.toggle(c,o)}return i}function Ir(e,t={},r,n){for(var s in r){var i=r[s];t[s]!==i&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,n))}}function mt(e,t,r,n){var s=e.__style;if(s!==t){var i=Js(t,n);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}else n&&(Array.isArray(n)?(Ir(e,r==null?void 0:r[0],n[0]),Ir(e,r==null?void 0:r[1],n[1],"important")):Ir(e,r,n));return n}const Ks=Symbol("is custom element"),Zs=Symbol("is html");function zt(e,t){var r=ia(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function pt(e,t){var r=ia(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function Ee(e,t,r,n){var s=ia(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[ts]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Qs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ia(e){return e.__attributes??(e.__attributes={[Ks]:e.nodeName.includes("-"),[Zs]:e.namespaceURI===Hn})}var ka=new Map;function Qs(e){var t=ka.get(e.nodeName);if(t)return t;ka.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=Da(n);for(var i in r)r[i].set&&t.push(i);n=ea(n)}return t}const Xs=()=>performance.now(),Qe={tick:e=>requestAnimationFrame(e),now:()=>Xs(),tasks:new Set};function un(){const e=Qe.now();Qe.tasks.forEach(t=>{t.c(e)||(Qe.tasks.delete(t),t.f())}),Qe.tasks.size!==0&&Qe.tick(un)}function dn(e){let t;return Qe.tasks.size===0&&Qe.tick(un),{promise:new Promise(r=>{Qe.tasks.add(t={c:e,f:r})}),abort(){Qe.tasks.delete(t)}}}function tr(e,t){na(()=>{e.dispatchEvent(new CustomEvent(t))})}function ei(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function xa(e){const t={},r=e.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const l=ei(s.trim());t[l]=i.trim()}return t}const ti=e=>e;function Se(e,t,r,n){var s=(e&jn)!==0,i=(e&Fn)!==0,l=s&&i,u=(e&Vn)!==0,c=l?"both":s?"in":"out",o,_=t.inert,f=t.style.overflow,v,h;function g(){var w=_e,S=de;Ye(null),st(null);try{return o??(o=r()(t,(n==null?void 0:n())??{},{direction:c}))}finally{Ye(w),st(S)}}var k={is_global:u,in(){var w;if(t.inert=_,!s){h==null||h.abort(),(w=h==null?void 0:h.reset)==null||w.call(h);return}i||v==null||v.abort(),tr(t,"introstart"),v=Gr(t,g(),h,1,()=>{tr(t,"introend"),v==null||v.abort(),v=o=void 0,t.style.overflow=f})},out(w){if(!i){w==null||w(),o=void 0;return}t.inert=!0,tr(t,"outrostart"),h=Gr(t,g(),v,0,()=>{tr(t,"outroend"),w==null||w()})},stop:()=>{v==null||v.abort(),h==null||h.abort()}},y=de;if((y.transitions??(y.transitions=[])).push(k),s&&Vr){var E=u;if(!E){for(var m=y.parent;m&&(m.f&Yt)!==0;)for(;(m=m.parent)&&(m.f&gr)===0;);E=!m||(m.f&$a)!==0}E&&jt(()=>{ut(()=>k.in())})}}function Gr(e,t,r,n,s){var i=n===1;if(Kn(t)){var l,u=!1;return Dt(()=>{if(!u){var y=t({direction:i?"in":"out"});l=Gr(e,y,r,n,s)}}),{abort:()=>{u=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return s(),{abort:$e,deactivate:$e,reset:$e,t:()=>n};const{delay:c=0,css:o,tick:_,easing:f=ti}=t;var v=[];if(i&&r===void 0&&(_&&_(0,1),o)){var h=xa(o(0,1));v.push(h,h)}var g=()=>1-n,k=e.animate(v,{duration:c});return k.onfinish=()=>{var y=(r==null?void 0:r.t())??1-n;r==null||r.abort();var E=n-y,m=t.duration*Math.abs(E),w=[];if(m>0){var S=!1;if(o)for(var T=Math.ceil(m/16.666666666666668),D=0;D<=T;D+=1){var N=y+E*f(D/T),P=xa(o(N,1-N));w.push(P),S||(S=P.overflow==="hidden")}S&&(e.style.overflow="hidden"),g=()=>{var W=k.currentTime;return y+E*f(W/m)},_&&dn(()=>{if(k.playState!=="running")return!1;var W=g();return _(W,1-W),!0})}k=e.animate(w,{duration:m,fill:"forwards"}),k.onfinish=()=>{g=()=>n,_==null||_(n,1-n),s()}},{abort:()=>{k&&(k.cancel(),k.effect=null,k.onfinish=$e)},deactivate:()=>{s=$e},reset:()=>{n===0&&(_==null||_(1,0))},t:()=>g()}}function Rt(e,t,r=t){var n=Jt();sa(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=Or(e)?Dr(i):i,r(i),n&&i!==(i=t())){var l=e.selectionStart,u=e.selectionEnd;e.value=i??"",u!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(u,e.value.length))}}),ut(t)==null&&e.value&&r(Or(e)?Dr(e.value):e.value),xr(()=>{var s=t();Or(e)&&s===Dr(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}const Mr=new Set;function fn(e,t,r,n,s=n){var i=r.getAttribute("type")==="checkbox",l=e;if(t!==null)for(var u of t)l=l[u]??(l[u]=[]);l.push(r),sa(r,"change",()=>{var c=r.__value;i&&(c=ri(l,c,r.checked)),s(c)},()=>s(i?[]:null)),xr(()=>{var c=n();i?(c=c||[],r.checked=c.includes(r.__value)):r.checked=Ua(r.__value,c)}),kr(()=>{var c=l.indexOf(r);c!==-1&&l.splice(c,1)}),Mr.has(l)||(Mr.add(l),Dt(()=>{l.sort((c,o)=>c.compareDocumentPosition(o)===4?-1:1),Mr.delete(l)})),Dt(()=>{})}function ri(e,t,r){for(var n=new Set,s=0;s<e.length;s+=1)e[s].checked&&n.add(e[s].__value);return r||n.delete(t),Array.from(n)}function Or(e){var t=e.type;return t==="number"||t==="range"}function Dr(e){return e===""?null:+e}function pn(e,t,r){if(e.multiple)return t==null?void 0:qt(t)?si(e,t):fs();for(var n of e.options){var s=Vt(n);if(Ua(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function ai(e,t){jt(()=>{var r=new MutationObserver(()=>{var n=e.__value;pn(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function ni(e,t,r=t){var n=!0;sa(e,"change",s=>{var i=s?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),Vt);else{var u=e.querySelector(i)??e.querySelector("option:not([disabled])");l=u&&Vt(u)}r(l)}),jt(()=>{var s=t();if(pn(e,s,n),n&&s===void 0){var i=e.querySelector(":checked");i!==null&&(s=Vt(i),r(s))}e.__value=s,n=!1}),ai(e)}function si(e,t){for(var r of e.options)r.selected=t.includes(Vt(r))}function Vt(e){return"__value"in e?e.__value:e.value}function Sa(e,t){return e===t||(e==null?void 0:e[ct])===t}function Wt(e={},t,r,n){return jt(()=>{var s,i;return xr(()=>{s=i,i=[],ut(()=>{e!==r(...i)&&(t(e,...i),s&&Sa(r(...s),e)&&t(null,...s))})}),()=>{Dt(()=>{i&&Sa(r(...i),e)&&t(null,...i)})}}),e}function Ea(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function _n(e=!1){const t=he,r=t.l.u;if(!r)return;let n=()=>Rs(t.s);if(e){let s=0,i={};const l=Mt(()=>{let u=!1;const c=t.s;for(const o in c)c[o]!==i[o]&&(i[o]=c[o],u=!0);return u&&s++,s});n=()=>a(l)}r.b.length&&bs(()=>{Ca(t,n),qr(r.b)}),et(()=>{const s=ut(()=>r.m.map(Zn));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&et(()=>{Ca(t,n),qr(r.a)})}function Ca(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}function gn(e,t,r){if(e==null)return t(void 0),$e;const n=ut(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Lt=[];function la(e,t=$e){let r=null;const n=new Set;function s(u){if(Ba(e,u)&&(e=u,r)){const c=!Lt.length;for(const o of n)o[1](),Lt.push(o,e);if(c){for(let o=0;o<Lt.length;o+=2)Lt[o][0](Lt[o+1]);Lt.length=0}}}function i(u){s(u(e))}function l(u,c=$e){const o=[u,c];return n.add(o),n.size===1&&(r=t(s,i)||$e),u(e),()=>{n.delete(o),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:l}}function ht(e){let t;return gn(e,r=>t=r)(),t}let rr=!1,Hr=Symbol();function hn(e,t,r){const n=r[t]??(r[t]={store:null,source:at(void 0),unsubscribe:$e});if(n.store!==e&&!(Hr in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=$e;else{var s=!0;n.unsubscribe=gn(e,i=>{s?n.source.v=i:p(n.source,i)}),s=!1}return e&&Hr in r?ht(e):a(n.source)}function bn(){const e={};function t(){kr(()=>{for(var r in e)e[r].unsubscribe();Oa(e,Hr,{enumerable:!1,value:!0})})}return[e,t]}function ii(e){var t=rr;try{return rr=!1,[e(),rr]}finally{rr=t}}function Aa(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Pe(e,t,r,n){var D;var s=(r&$n)!==0,i=!Bt||(r&qn)!==0,l=(r&Bn)!==0,u=(r&Un)!==0,c=!1,o;l?[o,c]=ii(()=>e[t]):o=e[t];var _=ct in e||es in e,f=l&&(((D=It(e,t))==null?void 0:D.set)??(_&&t in e&&(N=>e[t]=N)))||void 0,v=n,h=!0,g=!1,k=()=>(g=!0,h&&(h=!1,u?v=ut(n):v=n),v);o===void 0&&n!==void 0&&(f&&i&&is(),o=k(),f&&f(o));var y;if(i)y=()=>{var N=e[t];return N===void 0?k():(h=!0,g=!1,N)};else{var E=(s?Mt:mr)(()=>e[t]);E.f|=Qn,y=()=>{var N=a(E);return N!==void 0&&(v=void 0),N===void 0?v:N}}if((r&Pn)===0)return y;if(f){var m=e.$$legacy;return function(N,P){return arguments.length>0?((!i||!P||m||c)&&f(P?y():N),N):y()}}var w=!1,S=at(o),T=Mt(()=>{var N=y(),P=a(S);return w?(w=!1,P):S.v=N});return l&&a(T),s||(T.equals=ta),function(N,P){if(arguments.length>0){const W=P?a(T):i&&l?ue(N):N;if(!T.equals(W)){if(w=!0,p(S,W),g&&v!==void 0&&(v=W),Aa(T))return N;ut(()=>a(T))}return N}return Aa(T)?T.v:a(T)}}function li(){const e=he;return e===null&&br(),t=>r=>{var s;const n=(s=e.s.$$events)==null?void 0:s[t];if(n){const i=qt(n)?n.slice():[n];for(const l of i)l.call(e.x,r);return!r.defaultPrevented}return!0}}const Ce=la({active:"default",backends:{default:{url:"/",token:null}}}),Me=la({isAuthenticated:!1,isAuthenticating:!1,authError:null});let Nr=!1;function oa(){const e=ht(Ce);return e.backends[e.active]||e.backends.default}function $t(){const e=oa();return e.url==="/"?"":e.url}function Wr(){return oa().token}function mn(e,t){Ce.update(r=>{var s;const n=((s=r.backends[e])==null?void 0:s.token)||null;return r.backends[e]={url:t,token:n},r})}async function Tr(e){let t=!1;if(ht(Ce).active!==e){Ce.update(n=>(n.backends[e]&&(n.active=e),n));try{await Xt(),t=!0}catch(n){console.error("Error syncing auth state after backend change:",n)}}else t=!0;return t}function oi(e,t){Ce.update(r=>(r.backends[e]&&(r.backends[e].token=t),r)),e===ht(Ce).active&&Me.update(r=>({...r,isAuthenticated:!!t,authError:null}))}async function Le(e,t={}){const r=$t(),n=Wr(),s=e.startsWith("/")||e===""?e:`/${e}`,i=`${r}${s}`;return t.headers=t.headers||{},t.credentials="include",n&&!e.includes("/auth/login")&&(document.cookie.includes("AuthToken=")||(t.headers.Cookie=`AuthToken=${n}`),t.headers.Authorization=`Bearer ${n}`),await fetch(i,t)}async function Ta(e,t={},r){const n={...t},s=new AbortController;n.signal=s.signal;const i=setTimeout(()=>s.abort(),r);try{return await Le(e,n)}finally{clearTimeout(i)}}function Yr(e,t,r=console.error){const n=$t(),s=Wr(),i=e.startsWith("/")||e===""?e:`/${e}`,l=n||window.location.origin,u=new URL(`${l}${i}`);s&&u.searchParams.set("token",s);let c=null,o=!0,_=ht(Ce).active;try{const f={withCredentials:!0};c=new EventSource(u.toString(),f),c.onmessage=h=>{try{const g=JSON.parse(h.data);t(g)}catch{t(h.data)}},c.onerror=h=>{c.readyState===EventSource.CLOSED&&Xt().catch(console.error),r(h),o&&!c&&setTimeout(()=>{if(o&&document.visibilityState!=="hidden")try{c=new EventSource(u.toString(),f)}catch(g){r(g)}},2e3)};const v=Ce.subscribe(h=>{o&&h.active!==_&&(console.log("The Backend changed, I am reconnecting a SSE connection"),_=h.active,c&&(c.close(),c=null),setTimeout(()=>{if(o)try{const g=$t(),k=Wr(),y=new URL(`${g||window.location.origin}${i}`);k&&y.searchParams.set("token",k),c=new EventSource(y.toString(),f),c.onmessage=c.onmessage,c.onerror=c.onerror}catch(g){r(g)}},100))});return{close:()=>{c&&(c.close(),c=null),o=!1,v()}}}catch(f){return r(f),o=!1,{close:()=>{}}}}async function ci(e,t){Me.update(r=>({...r,isAuthenticating:!0,authError:null}));try{const r=await Le("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:t})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Authentication failed")}const n=await r.json();return oi(ht(Ce).active,n.token),document.cookie=`AuthToken=${n.token}; path=/; max-age=${60*60*24}`,Me.update(s=>({...s,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0}catch(r){return Me.update(n=>({...n,isAuthenticated:!1,isAuthenticating:!1,authError:r.message})),!1}}async function Xt(){ht(Ce).active,oa(),Me.update(e=>({...e,isAuthenticating:!0}));try{const e=await Ta("/api/v2/auth/check",{method:"GET",headers:{Accept:"application/json"},credentials:"include"},500);return e.status===401?(Me.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"Authentication required"})),!1):e.status===404?(Me.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"endpoint not found"})),!1):e.ok?(Me.update(t=>({...t,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0):(Me.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:`API error: ${e.status} ${e.statusText}`})),!1)}catch(e){const t=e.name==="AbortError"?"Connection timed out. The server may be slow or unreachable.":e.message||"Connection error";console.warn("Auth check failed:",e),await new Promise(r=>setTimeout(r,60));try{if((await Ta("/api/v2/auth/check",{method:"GET",headers:{Accept:"application/json"},credentials:"include"},500)).ok)return Me.update(n=>({...n,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0}catch(r){console.warn("Retry auth check failed:",r)}return Me.update(r=>({...r,isAuthenticated:!1,isAuthenticating:!1,authError:t})),!1}}function yn(){var e,t,r;if(!Nr)try{const n=localStorage.getItem("ssui-backend-config");if(n){const i=JSON.parse(n),l={active:i.active&&((e=i.backends)!=null&&e[i.active])?i.active:"default",backends:{default:{url:"/",token:((r=(t=i.backends)==null?void 0:t.default)==null?void 0:r.token)||null}}};if(i.backends)for(const[u,c]of Object.entries(i.backends))u!=="default"&&(l.backends[u]={url:c.url,token:c.token||null});Ce.set(l)}const s=Ce.subscribe(i=>{try{localStorage.setItem("ssui-backend-config",JSON.stringify(i))}catch(l){console.error("Error saving backend config:",l)}});return Nr=!0,Xt().catch(console.error),s}catch(n){console.error("Error initializing API service:",n),Nr=!0}}const ca={forest:{name:"Forest Dark",properties:{"--bg-primary":"#1e1e1e","--bg-secondary":"#252526","--bg-tertiary":"#2d2d2d","--bg-hover":"#3c3c3c","--bg-active":"#3e4033","--text-primary":"#d4d4d4","--text-secondary":"#a9a9a9","--text-accent":"#6a9955","--text-warning":"#ce9178","--border-color":"#3e3e3e","--accent-primary":"#6a9955","--accent-secondary":"#4d7240","--accent-tertiary":"#5f7e52","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},vaxholmDark:{name:"Vaxholm Dark",properties:{"--bg-primary":"#121a12","--bg-secondary":"#1b2a1b","--bg-tertiary":"#243224","--bg-hover":"#2e3a2e","--bg-active":"#3a4a3a","--text-primary":"#d9e6d9","--text-secondary":"#a3b3a3","--text-accent":"#7a9a7a","--text-warning":"#c9a67a","--border-color":"#2a3a2a","--accent-primary":"#7a9a7a","--accent-secondary":"#5f7a5f","--accent-tertiary":"#6a8a6a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.5)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.6)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},archipelagoPastel:{name:"Archipelago Pastel",properties:{"--bg-primary":"#2e3b3e","--bg-secondary":"#3e4b4e","--bg-tertiary":"#4e5b5e","--bg-hover":"#5e6b6e","--bg-active":"#6e7b7e","--text-primary":"#dce7e7","--text-secondary":"#b0c0c0","--text-accent":"#a3c1ad","--text-warning":"#d9bba3","--border-color":"#4a5a5a","--accent-primary":"#a3c1ad","--accent-secondary":"#8bb394","--accent-tertiary":"#7aa383","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.25)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.35)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},colorblindFriendly:{name:"Colorblind Friendly",properties:{"--bg-primary":"#121212","--bg-secondary":"#1e1e1e","--bg-tertiary":"#2a2a2a","--bg-hover":"#383838","--bg-active":"#454545","--text-primary":"#ffffff","--text-secondary":"#bfbfbf","--text-accent":"#ffb300","--text-warning":"#ff3b3b","--border-color":"#666666","--accent-primary":"#ffb300","--accent-secondary":"#ffaa00","--accent-tertiary":"#cc8800","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.7)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.8)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},cyberpunkGlow:{name:"Cyberpunk Glow",properties:{"--bg-primary":"#0a0a23","--bg-secondary":"#1a1a3a","--bg-tertiary":"#2a2a5a","--bg-hover":"#3a3a7a","--bg-active":"#4a4a9a","--text-primary":"#e0e0ff","--text-secondary":"#a0a0ff","--text-accent":"#ff00ff","--text-warning":"#ff4d4d","--border-color":"#660066","--accent-primary":"#ff00ff","--accent-secondary":"#cc00cc","--accent-tertiary":"#990099","--shadow-light":"0 0 8px #ff00ff","--shadow-medium":"0 0 16px #ff00ff","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},v1Classic:{name:"Stationeers Server UI (Classic)",properties:{"--bg-primary":"#0a0a14","--bg-secondary":"#1b1b2f8f","--bg-tertiary":"#2a2a5a","--bg-hover":"#2a2a5a","--bg-active":"#4a4a9a","--text-primary":"#00fca9","--text-secondary":"#00fca9","--text-accent":"#00fca9","--text-warning":"#ff4d4d","--border-color":"#660066","--accent-primary":"#0eefa9","--accent-secondary":"#cc00cc","--accent-tertiary":"#990099","--shadow-light":"0 0 8px #0df2aa","--shadow-medium":"0 0 16px #0df2aa","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},lightArchipelago:{name:"Light Archipelago",properties:{"--bg-primary":"#f0f4f3","--bg-secondary":"#d9e4e1","--bg-tertiary":"#c0d1cd","--bg-hover":"#b0c4bf","--bg-active":"#a0b4af","--text-primary":"#2a3a33","--text-secondary":"#4a5a53","--text-accent":"#7a9a7a","--text-warning":"#c97a5a","--border-color":"#a0b0a8","--accent-primary":"#7a9a7a","--accent-secondary":"#5f7a5f","--accent-tertiary":"#6a8a6a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.1)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.15)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},oceanBreeze:{name:"Ocean Breeze",properties:{"--bg-primary":"#1a2a38","--bg-secondary":"#253545","--bg-tertiary":"#2f4055","--bg-hover":"#3a4c66","--bg-active":"#4a5c76","--text-primary":"#e0eaf0","--text-secondary":"#b0c0d0","--text-accent":"#68c1e8","--text-warning":"#f0ad4e","--border-color":"#456277","--accent-primary":"#68c1e8","--accent-secondary":"#4fa3ca","--accent-tertiary":"#3a89b0","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},sunsetGlow:{name:"Sunset Glow",properties:{"--bg-primary":"#272133","--bg-secondary":"#332940","--bg-tertiary":"#3e304d","--bg-hover":"#4b3a5d","--bg-active":"#57446d","--text-primary":"#f5e6ff","--text-secondary":"#d1b6e1","--text-accent":"#ff9e7a","--text-warning":"#ffcc66","--border-color":"#5d4970","--accent-primary":"#ff9e7a","--accent-secondary":"#e68a6a","--accent-tertiary":"#cc775a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.35)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.45)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},mintChocolate:{name:"Mint Chocolate",properties:{"--bg-primary":"#1e2721","--bg-secondary":"#26322a","--bg-tertiary":"#2e3d33","--bg-hover":"#38493e","--bg-active":"#425548","--text-primary":"#e0f0e8","--text-secondary":"#b0c5b8","--text-accent":"#7fe0c3","--text-warning":"#d9b382","--border-color":"#3d4940","--accent-primary":"#7fe0c3","--accent-secondary":"#58c4a3","--accent-tertiary":"#3ba483","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},lavenderFields:{name:"Lavender Fields",properties:{"--bg-primary":"#2b2440","--bg-secondary":"#352e4e","--bg-tertiary":"#3f385c","--bg-hover":"#4a426a","--bg-active":"#554c78","--text-primary":"#ece8ff","--text-secondary":"#c7c0e3","--text-accent":"#b28dff","--text-warning":"#ffad9c","--border-color":"#4d4566","--accent-primary":"#b28dff","--accent-secondary":"#9a77e0","--accent-tertiary":"#8360c6","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.35)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.45)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},nordAurora:{name:"Kirkeness",properties:{"--bg-primary":"#2e3440","--bg-secondary":"#3b4252","--bg-tertiary":"#434c5e","--bg-hover":"#4c566a","--bg-active":"#5e6779","--text-primary":"#eceff4","--text-secondary":"#d8dee9","--text-accent":"#88c0d0","--text-warning":"#ebcb8b","--border-color":"#4c566a","--accent-primary":"#88c0d0","--accent-secondary":"#81a1c1","--accent-tertiary":"#5e81ac","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.25)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.35)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}}},sr=Object.keys(ca);let Lr="forest";function pr(e){const t=ca[e];if(!t)return;Lr=e;const r=document.documentElement;Object.entries(t.properties).forEach(([n,s])=>{r.style.setProperty(n,s)}),localStorage.setItem("theme",e)}function vi(){const t=(sr.indexOf(Lr)+1)%sr.length;pr(sr[t])}function ui(){return Lr}function di(){return sr}function fi(){const e=localStorage.getItem("theme");e&&ca[e]?pr(e):pr(Lr)}const wn={initTheme:fi,applyTheme:pr,nextTheme:vi,getCurrentTheme:ui,getThemes:di};function pi(e,t,r){e.stopPropagation(),p(t,!a(t)),a(t)&&p(r,!1)}function _i(e,t,r){e.stopPropagation(),p(t,!a(t)),a(t)&&p(r,!1)}async function gi(e,t){try{localStorage.removeItem("ssui-backend-config"),document.cookie="AuthToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",window.location.href="/login"}catch(r){console.error("Logout failed:",r),p(t,!1)}}function hi(){wn.nextTheme()}var bi=(e,t)=>t.setActiveView("dashboard"),mi=(e,t,r)=>t.setActiveView(a(r).id),yi=z("<button> </button>"),wi=(e,t,r)=>t(a(r)),ki=z('<span class="active-marker svelte-z1bun8">✓</span>'),xi=z('<div><div class="backend-info svelte-z1bun8"><span class="status-dot svelte-z1bun8"></span> <span class="backend-name svelte-z1bun8"> </span></div> <!></div>'),Si=z('<div class="backend-dropdown svelte-z1bun8"><div class="dropdown-header svelte-z1bun8"><h3 class="svelte-z1bun8">Select Backend</h3></div> <div class="dropdown-content svelte-z1bun8"></div></div>'),Ei=z('<div class="user-dropdown svelte-z1bun8"><div class="user-dropdown-header svelte-z1bun8"><div class="user-info svelte-z1bun8"><div class="user-avatar large svelte-z1bun8">SA</div> <div class="user-details svelte-z1bun8"><div class="user-name svelte-z1bun8">Admin</div> <div class="user-email svelte-z1bun8">Superadmin</div></div></div></div> <div class="dropdown-content svelte-z1bun8"><div class="dropdown-item svelte-z1bun8"><span class="item-icon svelte-z1bun8">🌙</span> <span>Switch Theme</span></div> <div class="divider svelte-z1bun8"></div> <div class="dropdown-item logout svelte-z1bun8"><span class="item-icon svelte-z1bun8">🚪</span> <span>Logout & Reset Interface</span></div></div></div>'),Ci=z('<nav class="top-nav svelte-z1bun8"><div class="nav-left svelte-z1bun8"><div class="logo svelte-z1bun8"><span class="logo-icon svelte-z1bun8">⚙️</span> <span class="logo-text svelte-z1bun8">SSUI</span></div> <div class="nav-buttons svelte-z1bun8"></div></div> <div class="nav-right svelte-z1bun8"><div class="backend-selector svelte-z1bun8"><button class="backend-toggle svelte-z1bun8"><span class="status-indicator svelte-z1bun8"> </span> <span class="backend-label"> </span> <span class="dropdown-arrow svelte-z1bun8"> </span></button> <!></div> <div class="datetime svelte-z1bun8"><span class="date svelte-z1bun8"> </span> <span class="time svelte-z1bun8"> </span></div> <div class="user-menu-container svelte-z1bun8"><button class="user-button svelte-z1bun8"><span class="user-avatar svelte-z1bun8">SA</span></button> <!></div></div></nav>');function Ai(e,t){me(t,!0);const r=li();let n=Pe(t,"views",19,()=>[]),s=Pe(t,"activeView",3,"dashboard"),i=R(ue(new Date)),l=R(!1),u=R(!1),c=R(ue([])),o=R(""),_=R(ue({})),f,v,h;const g=Ce.subscribe(A=>{const q=Object.keys(A.backends),$=A.active,j=$!==a(o);p(c,q,!0),p(o,$,!0);const J={...a(_)};a(c).forEach(le=>{le in J||(J[le]={status:"unknown",lastChecked:null})}),p(_,J,!0),j&&a(o)&&(k(a(o)),y())});function k(A){if(!A||!a(c).includes(A))return;const q={...a(_)};q[A]={...q[A],status:"connecting"},p(_,q,!0),clearTimeout(f),f=setTimeout(async()=>{try{const $=await Le("/api/v2/server/status"),j={...a(_)};$?j[A]={status:"connected",lastChecked:new Date,details:$}:j[A]={status:"error",lastChecked:new Date,details:$},p(_,j,!0)}catch($){const j={...a(_)};j[A]={status:"error",lastChecked:new Date,errorMessage:$.message},p(_,j,!0)}},800)}function y(){v&&clearInterval(v),v=setInterval(()=>{if(a(o)){const A=a(o);k(A)}},1e4)}function E(){h=A=>{const q=document.querySelector(".backend-selector"),$=document.querySelector(".user-menu-container");q&&!q.contains(A.target)&&p(l,!1),$&&!$.contains(A.target)&&p(u,!1)},document.addEventListener("click",h)}Ve(()=>{wn.initTheme(),E();const A=setInterval(()=>{p(i,new Date,!0)},6e4);return a(o)&&k(a(o)),y(),()=>{clearInterval(A),clearInterval(v),clearTimeout(f),g(),document.removeEventListener("click",h)}}),Ar(()=>{clearInterval(v),clearTimeout(f)});function m(A){if(A===a(o)){k(A),p(l,!1);return}Tr(A),p(o,A,!0),k(A),y(),p(l,!1)}function w(A){var $;switch((($=a(_)[A])==null?void 0:$.status)||"unknown"){case"connected":return"🟢";case"connecting":return"🟠";case"error":return"🔴";default:return"⚪"}}function S(A,{duration:q=300}){return{duration:q,css:$=>`
        transform: translateY(${(1-$)*-10}px);
        opacity: ${$};
      `}}let T=We(()=>a(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),D=We(()=>a(i).toLocaleDateString([],{month:"short",day:"numeric"}));var N=Ci(),P=d(N),W=d(P);W.__click=[bi,t];var Y=b(W,2);qe(Y,21,n,Fe,(A,q)=>{var $=yi();$.__click=[mi,t,q];var j=d($);G(()=>{ce($,1,Ws(s()===a(q).id?"active":""),"svelte-z1bun8"),U(j,a(q).name)}),x(A,$)});var K=b(P,2),H=d(K),Z=We(()=>Ea(r("click")));H.__click=function(...A){var q;(q=a(Z))==null||q.apply(this,A)};var re=d(H);re.__click=[pi,l,u];var te=d(re),M=d(te),O=b(te,2),L=d(O),B=b(O,2),X=d(B),Q=b(re,2);{var F=A=>{var q=Si(),$=b(d(q),2);qe($,21,()=>a(c),Fe,(j,J)=>{var le=xi();le.__click=[wi,m,J];var ie=d(le),se=d(ie),ee=b(se,2),fe=d(ee),ae=b(ie,2);{var ne=pe=>{var Je=ki();x(pe,Je)};I(ae,pe=>{a(J)===a(o)&&pe(ne)})}G(()=>{var pe,Je,Ge;ce(le,1,`dropdown-item ${a(J)===a(o)?"active":""}`,"svelte-z1bun8"),mt(se,`background-color: ${((pe=a(_)[a(J)])==null?void 0:pe.status)==="connected"?"var(--accent-primary)":((Je=a(_)[a(J)])==null?void 0:Je.status)==="connecting"?"var(--text-warning)":((Ge=a(_)[a(J)])==null?void 0:Ge.status)==="error"?"var(--text-danger)":"var(--text-secondary)"}`),U(fe,a(J))}),x(j,le)}),Se(1,q,()=>S,()=>({duration:150})),Se(2,q,()=>S,()=>({duration:150})),x(A,q)};I(Q,A=>{a(l)&&A(F)})}var ve=b(H,2),be=d(ve),ke=d(be),ge=b(be,2),we=d(ge),xe=b(ve,2),De=We(()=>Ea(r("click")));xe.__click=function(...A){var q;(q=a(De))==null||q.apply(this,A)};var ze=d(xe);ze.__click=[_i,u,l];var C=b(ze,2);{var V=A=>{var q=Ei(),$=b(d(q),2),j=d($);j.__click=[hi];var J=b(j,4);J.__click=[gi,u],Se(1,q,()=>S,()=>({duration:150})),Se(2,q,()=>S,()=>({duration:150})),x(A,q)};I(C,A=>{a(u)&&A(V)})}G(A=>{U(M,A),U(L,a(o)),U(X,a(l)?"▲":"▼"),U(ke,a(D)),U(we,a(T))},[()=>w(a(o))]),x(e,N),ye()}Re(["click"]);function Ti(e,t){p(t,!a(t))}var Li=(e,t,r)=>t.setActiveView(a(r).id),zi=z('<button><span class="sidebar-icon svelte-14awm4t"><!></span> <span class="sidebar-text svelte-14awm4t"> </span></button>'),Ri=z('<aside><div class="pin-container svelte-14awm4t"><button><!></button></div> <nav class="sidebar-nav svelte-14awm4t"></nav></aside>');function Ii(e,t){me(t,!0);let r=Pe(t,"views",19,()=>[]),n=Pe(t,"activeView",3,"dashboard"),s=R(!1),i=R(!1);function l(){p(s,!0)}function u(){p(s,!1)}let c=We(()=>a(s)||a(i));var o=Ri();let _;var f=d(o),v=d(f);let h;v.__click=[Ti,i];var g=d(v);{var k=m=>{var w=oe("📌");x(m,w)},y=m=>{var w=oe("📍");x(m,w)};I(g,m=>{a(i)?m(k):m(y,!1)})}var E=b(f,2);qe(E,21,r,Fe,(m,w)=>{var S=zi();let T;S.__click=[Li,t,w];var D=d(S),N=d(D);{var P=H=>{var Z=oe("📊");x(H,Z)},W=(H,Z)=>{{var re=M=>{var O=oe("⚙️");x(M,O)},te=(M,O)=>{{var L=X=>{var Q=oe("📝");x(X,Q)},B=(X,Q)=>{{var F=ve=>{var be=oe(">");x(ve,be)};I(X,ve=>{a(w).icon==="terminal"&&ve(F)},Q)}};I(M,X=>{a(w).icon==="file-text"?X(L):X(B,!1)},O)}};I(H,M=>{a(w).icon==="settings"?M(re):M(te,!1)},Z)}};I(N,H=>{a(w).icon==="grid"?H(P):H(W,!1)})}var Y=b(D,2),K=d(Y);G(H=>{T=ce(S,1,"sidebar-button svelte-14awm4t",null,T,H),U(K,a(w).name)},[()=>({active:n()===a(w).id})]),x(m,S)}),G((m,w)=>{_=ce(o,1,"sidebar svelte-14awm4t",null,_,m),h=ce(v,1,"pin-button svelte-14awm4t",null,h,w)},[()=>({expanded:a(c)}),()=>({active:a(i)})]),gt("mouseenter",o,l),gt("mouseleave",o,u),x(e,o),ye()}Re(["click"]);const Mi=e=>e;function kn(e){const t=e-1;return t*t*t+1}function La(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Ze(e,{delay:t=0,duration:r=400,easing:n=Mi}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:i=>`opacity: ${i*s}`}}function $r(e,{delay:t=0,duration:r=400,easing:n=kn,x:s=0,y:i=0,opacity:l=0}={}){const u=getComputedStyle(e),c=+u.opacity,o=u.transform==="none"?"":u.transform,_=c*(1-l),[f,v]=La(s),[h,g]=La(i);return{delay:t,duration:r,easing:n,css:(k,y)=>`
			transform: ${o} translate(${(1-k)*f}${v}, ${(1-k)*h}${g});
			opacity: ${c-_*y}`}}function Oi(e,{delay:t=0,duration:r=400,easing:n=kn,start:s=0,opacity:i=0}={}){const l=getComputedStyle(e),u=+l.opacity,c=l.transform==="none"?"":l.transform,o=1-s,_=u*(1-i);return{delay:t,duration:r,easing:n,css:(f,v)=>`
			transform: ${c} scale(${1-o*v});
			opacity: ${u-_*v}
		`}}us();var Di=(e,t)=>t("start"),Ni=(e,t)=>t("stop"),$i=Qt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),qi=Qt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),Pi=z('<div><div class="response-icon svelte-1b4j9ko"><!></div> <div class="response-text svelte-1b4j9ko"> </div></div>'),Bi=z('<div class="card server-control svelte-1b4j9ko"><div class="button-group svelte-1b4j9ko"><button> </button> <button> </button></div> <!></div>');function Ui(e,t){me(t,!0);let r=R(!1),n=R(null),s=R(""),i=R(!1);async function l(E){p(r,!0),p(n,E,!0),p(i,!1);try{const m=await Le(`/api/v2/server/${E}`,{method:"POST"}),w=await m.text();m.ok||p(i,!0),p(s,w,!0)}catch(m){p(i,!0),p(s,"Failed to connect to server"),console.error("Error:",m)}finally{p(r,!1)}}var u=Bi(),c=d(u),o=d(c);o.__click=[Di,l];let _;var f=d(o),v=b(o,2);v.__click=[Ni,l];let h;var g=d(v),k=b(c,2);{var y=E=>{var m=Pi(),w=d(m),S=d(w);{var T=W=>{var Y=$i();x(W,Y)},D=W=>{var Y=qi();x(W,Y)};I(S,W=>{a(i)?W(T):W(D,!1)})}var N=b(w,2),P=d(N);G(()=>{ce(m,1,`response-message ${a(i)?"error":"success"}`,"svelte-1b4j9ko"),U(P,a(s))}),x(E,m)};I(k,E=>{a(s)&&E(y)})}G((E,m)=>{o.disabled=a(r),_=ce(o,1,"start-button svelte-1b4j9ko",null,_,E),U(f,a(r)&&a(n)==="start"?"Starting...":"Start Server"),v.disabled=a(r),h=ce(v,1,"stop-button svelte-1b4j9ko",null,h,m),U(g,a(r)&&a(n)==="stop"?"Stopping...":"Stop Server")},[()=>({active:a(n)==="start"&&!a(r)}),()=>({active:a(n)==="stop"&&!a(r)})]),x(e,u),ye()}Re(["click"]);async function ji(e,t,r,n){p(t,!0),p(r,!1),p(n,"");try{const s=await Le("/api/v2/loader/reloadall",{method:"GET"});let i;try{i=await s.json()}catch{throw new Error("Invalid response format")}!s.ok||i.status!=="OK"?(p(r,!0),p(n,i.message||"Backend reload failed",!0)):p(n,"Backend reload triggered")}catch(s){p(r,!0),p(n,s.message||"Failed to connect to server",!0),console.error("Error:",s)}finally{p(t,!1)}}var Fi=Qt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),Vi=Qt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),Gi=z('<div><div class="response-icon svelte-1bn0ayy"><!></div> <div class="response-text svelte-1bn0ayy"> </div></div>'),Hi=z('<div class="card reload-control svelte-1bn0ayy"><button> </button> <!></div>');function Wi(e,t){me(t,!0);let r=R(!1),n=R(""),s=R(!1);var i=Hi(),l=d(i);l.__click=[ji,r,s,n];let u;mt(l,"",{},{"background-color":"var(--bg-hover)"});var c=d(l),o=b(l,2);{var _=f=>{var v=Gi(),h=d(v),g=d(h);{var k=w=>{var S=Fi();x(w,S)},y=w=>{var S=Vi();x(w,S)};I(g,w=>{a(s)?w(k):w(y,!1)})}var E=b(h,2),m=d(E);G(()=>{ce(v,1,`response-message ${a(s)?"error":"success"}`,"svelte-1bn0ayy"),U(m,a(n))}),x(f,v)};I(o,f=>{a(n)&&f(_)})}G(f=>{l.disabled=a(r),u=ce(l,1,"svelte-1bn0ayy",null,u,f),U(c,a(r)?"🕐 Reloading...":"🔃 Reload Backend")},[()=>({active:!a(r)})]),x(e,i),ye()}Re(["click"]);var Yi=z('<div class="card quick-actions svelte-1a641ul"><div class="card-header svelte-1a641ul"><h3 class="svelte-1a641ul">Quick Actions</h3> <div class="card-icon svelte-1a641ul">⚡</div></div> <!> <div class="action-buttons svelte-1a641ul"><!></div></div>');function Ji(e){var t=Yi(),r=b(d(t),2);Ui(r,{});var n=b(r,2),s=d(n);Wi(s,{}),x(e,t)}function Ki(e,t,r,n){p(t,!a(t)),a(t)&&(r(),n())}var Zi=(e,t)=>t("console-tab"),Qi=(e,t)=>t("detection-tab"),Xi=z('<div class="svelte-13trlk3"> </div>'),el=z('<div class="console-tab active svelte-13trlk3"><div class="console svelte-13trlk3"></div></div>'),tl=z('<div><span class="event-timestamp svelte-13trlk3"> </span> <span class="svelte-13trlk3"> </span></div>'),rl=z('<div class="detection-tab active svelte-13trlk3"><div class="detection-console svelte-13trlk3"></div></div>'),al=z('<div class="console-view svelte-13trlk3"><div class="console-controls svelte-13trlk3"><div class="console-tabs svelte-13trlk3"><button>Console</button> <button>Detections</button></div> <button class="autoscroll-button svelte-13trlk3"> </button></div> <div class="tab-content svelte-13trlk3"><!></div></div>');function xn(e,t){me(t,!0);let r=R(void 0),n=R(void 0),s=null,i=null,l=R("console-tab"),u=R(!0);const c=["Teaching AI to say 'please' and 'thank you'...","Calibrating interdimensional server relays...","Spinning up player fun generators...","Scanning for gremlins in the server room...","Brewing energy drinks for the GPU...","Charging up epic loot spawners...","Teaching AI to high-five players...","Polishing textures to a glossy finish...","Herding electrons into neat little rows...","Rebooting server dreams for the 42nd time...","Locating your character after that teleport glitch...","Converting lag into pure chaos, efficiently...","Convincing physics engine that walls are solid...","Calculating odds of your inventory vanishing...","Optimizing server ticks (fingers crossed)...","Syncing game world with cosmic clock...","Patching rips in the fabric of virtual reality...","Convincing server that 'uptime' is not a myth...","Mediating truce between CPU and lag spikes...","Compressing map data until the server squeaks...","Measuring distance to the next game-breaking bug...","Explaining 'netcode' to confused server pigeons...","Calculating chance of a crash (don’t ask)...","Corraling rogue packets back into the pipeline...","Sacrificing bandwidth to the frame-rate deities...","Raising sails!"];let o=R(ue([])),_=R(ue([])),f=R(!1);function v(M){p(l,M,!0),M==="detection-tab"&&p(f,!1)}Ve(async()=>{await h("Console initializing...");const M=Math.floor(Math.random()*c.length);g(c[M],"#0af","italic");let O;do O=Math.floor(Math.random()*c.length);while(O===M);g(c[O],"#0af","italic"),m(),w(),Math.random()<.5?(g("ERROR: Console was hacked by AI. Initiating counter-measure...","red"),setTimeout(()=>{g("Sequence complete. AI defeated. Continuing initialization...","green"),E()},1e3)):E()}),Ar(()=>{s&&(s.close(),s=null),i&&(i.close(),i=null)});async function h(M,O=30){let L=0;return new Promise(B=>{const X=setInterval(()=>{L<M.length?(p(o,[...a(o),{text:M.substring(0,++L),color:"white",style:"normal",isTyping:!0}],!0),p(o,a(o).slice(-1),!0)):(clearInterval(X),p(o,a(o).filter(Q=>!Q.isTyping),!0),B())},O)})}function g(M,O="white",L="normal"){p(o,[...a(o),{text:M,color:O,style:L}],!0),a(u)&&setTimeout(()=>k(),50)}function k(){a(r)&&a(u)&&(a(r).scrollTop=a(r).scrollHeight)}function y(){a(n)&&a(u)&&(a(n).scrollTop=a(n).scrollHeight)}function E(){setTimeout(()=>{g("Console ready.🎮 Happy gaming! 🎮","#0f0"),a(u)&&setTimeout(k,50)},500)}function m(){s&&(s.close(),s=null),s=Yr("/console",M=>{g(M)},M=>{console.error("Console stream error:",M),s=null,g("Warning: Console stream unavailable. Retrying...","#ff0"),setTimeout(()=>{!s&&document.visibilityState!=="hidden"&&m()},2e3)})}function w(){i&&(i.close(),i=null),i=Yr("/events",M=>{const O=S(M),L=new Date().toLocaleTimeString();p(_,[...a(_),{timestamp:L,message:M,className:O}],!0),a(_).length>500&&p(_,a(_).slice(-500),!0),a(u)&&setTimeout(y,50),a(l)!=="detection-tab"&&p(f,!0)},M=>{console.error("Detection events stream error:",M),i=null,setTimeout(()=>{!i&&document.visibilityState!=="hidden"&&w()},2e3)})}function S(M){return M.includes("ERROR")||M.includes("FATAL")?"error":M.includes("WARNING")?"warning":M.includes("SUCCESS")?"success":"info"}var T=al(),D=d(T),N=d(D),P=d(N);P.__click=[Zi,v];var W=b(P,2);W.__click=[Qi,v];var Y=b(N,2);Y.__click=[Ki,u,k,y];var K=d(Y),H=b(D,2),Z=d(H);{var re=M=>{var O=el(),L=d(O);qe(L,21,()=>a(o),Fe,(B,X)=>{var Q=Xi(),F=d(Q);G(()=>{mt(Q,`color: ${a(X).color??""}; font-style: ${a(X).style??""}`),U(F,a(X).text)}),x(B,Q)}),Wt(L,B=>p(r,B),()=>a(r)),x(M,O)},te=M=>{var O=rl(),L=d(O);qe(L,21,()=>a(_),Fe,(B,X)=>{var Q=tl(),F=d(Q),ve=d(F),be=b(F,2),ke=d(be);G(()=>{ce(Q,1,`detection-event ${a(X).className??""}`,"svelte-13trlk3"),U(ve,`${a(X).timestamp??""}:`),U(ke,a(X).message)}),x(B,Q)}),Wt(L,B=>p(n,B),()=>a(n)),x(M,O)};I(Z,M=>{a(l)==="console-tab"?M(re):M(te,!1)})}G(()=>{ce(P,1,`tab-button ${a(l)==="console-tab"?"active":""}`,"svelte-13trlk3"),ce(W,1,`tab-button ${a(l)==="detection-tab"?"active":""} ${a(f)?"notification":""}`,"svelte-13trlk3"),Ee(Y,"title",a(u)?"Disable Auto-scroll":"Enable Auto-scroll"),U(K,a(u)?"⏬ Auto-scroll: ON":"⏫ Auto-scroll: OFF")}),x(e,T),ye()}Re(["click"]);var nl=z('<div class="card console-card wide svelte-4btkab"><!></div>');function sl(e){var t=nl(),r=d(t);xn(r,{}),x(e,t)}var il=z('<div class="error svelte-y3l85r"> </div> <button class="retry-button">Retry</button>',1),ll=z('<div class="resource-metrics svelte-y3l85r"><div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">System CPU Usage</div> <div class="metric-bar svelte-y3l85r"></div></div> <div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">Memory Consumption</div> <div class="metric-bar svelte-y3l85r"></div></div> <div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">Disk Space Unused</div> <div class="metric-bar svelte-y3l85r"></div></div></div> <div class="info-grid svelte-y3l85r"><div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">OS Version</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Kernel</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Uptime</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Backend IP Address</div> <div class="info-value svelte-y3l85r"> </div></div></div> <div class="info-grid svelte-y3l85r"><div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Last Refresh</div> <div class="info-value svelte-y3l85r"> </div></div></div>',1),ol=z('<div class="loading svelte-y3l85r">Loading system information...</div>'),cl=z('<div class="card info-card svelte-y3l85r"><div class="card-header svelte-y3l85r"><h3 class="svelte-y3l85r">System Information</h3> <div class="card-icon svelte-y3l85r">ℹ️</div></div> <!></div>');function vl(e,t){me(t,!0);let r=R(null),n=R(null),s=R(null);async function i(){try{const _=await Le("/api/v2/osstats",{raw:!0}),f=await _.json();if(p(s,JSON.stringify({status:_.status,headers:Object.fromEntries(_.headers.entries()),body:f},null,2),!0),f&&typeof f=="object"&&Object.keys(f).length>0)p(r,{...f},!0),p(n,null);else throw new Error("Empty or invalid response data")}catch(_){p(n,`Failed to fetch system information: ${_.message}`),p(r,null),a(s)||p(s,`Error: ${_.message}
Stack: ${_.stack}`),console.error("Fetch error:",_)}}et(()=>{i();const _=setInterval(i,3e4);return()=>clearInterval(_)});var l=cl(),u=b(d(l),2);{var c=_=>{var f=il(),v=Te(f),h=d(v),g=b(v,2);g.__click=i,G(()=>U(h,a(n))),x(_,f)},o=(_,f)=>{{var v=g=>{var k=ll(),y=Te(k),E=d(y),m=d(E),w=d(m),S=b(m,4),T=b(E,2),D=d(T),N=d(D),P=b(D,4),W=b(T,2),Y=d(W),K=d(Y),H=b(Y,4),Z=b(y,2),re=d(Z),te=b(d(re),2),M=d(te),O=b(re,2),L=b(d(O),2),B=d(L),X=b(O,2),Q=b(d(X),2),F=d(Q),ve=b(X,2),be=b(d(ve),2),ke=d(be),ge=b(Z,2),we=d(ge),xe=b(d(we),2),De=d(xe);G((ze,C,V,A)=>{U(w,`${ze??""}%`),mt(S,`--value: ${(typeof a(r).cpuUsage=="number"?a(r).cpuUsage:0)??""}%; --color: var(--accent-primary);`),U(N,`${C??""} GB`),mt(P,`--value: ${typeof a(r).memoryUsage=="number"?a(r).memoryUsage/1024*10:0}%; --color: var(--accent-secondary);`),U(K,`${V??""}%`),mt(H,`--value: ${typeof a(r).diskUsage=="number"?100-a(r).diskUsage:0}%; --color: var(--accent-tertiary);`),U(M,`${a(r).osName||"Temple OS v3.14.15"} ${(a(r).osVersion||"")??""}`),U(B,a(r).kernel||"Cannot detect"),U(F,a(r).uptime||"Cannot detect"),U(ke,a(r).backendIpAddress||"Cannot detect"),U(De,A)},[()=>typeof a(r).cpuUsage=="number"?a(r).cpuUsage.toFixed(2):"N/A",()=>typeof a(r).memoryUsage=="number"?(a(r).memoryUsage/1024).toFixed(2):"N/A",()=>typeof a(r).diskUsage=="number"?(100-a(r).diskUsage).toFixed(2):"N/A",()=>a(r).lastRefreshTime?new Date(a(r).lastRefreshTime).toLocaleString():"Cannot detect"]),x(g,k)},h=g=>{var k=ol();x(g,k)};I(_,g=>{a(r)?g(v):g(h,!1)},f)}};I(u,_=>{a(n)?_(c):_(o,!1)})}x(e,l),ye()}Re(["click"]);var ul=z('<div class="dashboard-grid svelte-kt223o"><!> <!> <!></div>');function dl(e){var t=ul(),r=d(t);Ji(r);var n=b(r,2);vl(n,{});var s=b(n,2);sl(s),x(e,t)}var fl=(e,t,r)=>t(a(r)),pl=z("<button> </button>"),_l=(e,t,r)=>t(a(r),e),gl=z('<input type="checkbox" class="svelte-1iyqb86">'),hl=(e,t,r)=>t(a(r),e),bl=z('<input type="number" class="svelte-1iyqb86">'),ml=(e,t,r)=>t(a(r),e),yl=z('<input type="text" class="svelte-1iyqb86">'),wl=(e,t,r)=>t(a(r),e),kl=z('<textarea class="svelte-1iyqb86"></textarea>'),xl=(e,t,r)=>t(a(r),e),Sl=z('<input type="text" class="svelte-1iyqb86">'),El=z('<div class="setting-item svelte-1iyqb86"><label class="svelte-1iyqb86"><span> </span> <!></label> <div class="input-info svelte-1iyqb86"> </div></div>'),Cl=z('<div class="settings-group svelte-1iyqb86"><h3 class="svelte-1iyqb86"> </h3> <div class="channel-grid svelte-1iyqb86"></div></div>'),Al=(e,t)=>p(t,""),Tl=z('<div><span class="status-icon svelte-1iyqb86"> </span> <span> </span> <button class="close-status svelte-1iyqb86">×</button></div>'),Ll=z('<div class="settings-group-nav svelte-1iyqb86"></div> <!> <!>',1),zl=z('<div class="loading-container svelte-1iyqb86"><div class="loading-spinner svelte-1iyqb86"></div> <p>Loading settings...</p></div>'),Rl=z('<div class="settings-container svelte-1iyqb86"><h2 class="svelte-1iyqb86">SSUI Settings</h2> <p class="settings-intro svelte-1iyqb86">Configure general application settings. Changes will be applied immediately.</p> <!></div>');function Il(e,t){me(t,!0);let r=R(ue([])),n=R(ue([])),s=R(""),i=R(""),l=R(!1),u;Ve(async()=>{await c()});async function c(){try{const y=await Le("/api/v2/settings"),{data:E,error:m}=await y.json();if(m){v(`Failed to load settings: ${m}`,!0);return}p(r,E,!0),p(n,[...new Set(a(r).map(w=>w.group))],!0),a(n).length>0&&p(s,a(n)[0],!0)}catch(y){v(`Error fetching settings: ${y.message}`,!0)}}function o(y){p(s,y,!0)}async function _(y,E){try{const m=await Le("/api/v2/settings/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[y]:E})}),{status:w,message:S}=await m.json();if(w==="error"){v(`Failed to update ${y}: ${S}`,!0);return}v(`Updated ${y} successfully`,!1)}catch(m){v(`Error updating ${y}: ${m.message}`,!0)}}function f(y,E){const m=E.target;let w;if(y.type==="bool")w=m.checked;else if(y.type==="int"){if(w=m.value?parseInt(m.value):null,y.required&&!w){v(`Value for ${y.name} is required`,!0);return}}else if(y.type==="array")w=m.value?m.value.split(",").map(S=>S.trim()):[];else if(y.type==="map")try{w=JSON.parse(m.value)}catch(S){v(`Invalid JSON for ${y.name}: ${S.message}`,!0);return}else w=m.value;_(y.name,w)}function v(y,E){p(i,y,!0),p(l,E,!0),u&&clearTimeout(u),u=setTimeout(()=>{p(i,"")},3e4)}var h=it(),g=Te(h);{var k=y=>{var E=Rl(),m=b(d(E),4);{var w=T=>{var D=Ll(),N=Te(D);qe(N,21,()=>a(n),Fe,(K,H)=>{var Z=pl();Z.__click=[fl,o,H];var re=d(Z);G(()=>{ce(Z,1,`section-nav-button ${a(s)===a(H)?"active":""}`,"svelte-1iyqb86"),U(re,a(H))}),x(K,Z)});var P=b(N,2);qe(P,17,()=>a(n),Fe,(K,H)=>{var Z=it(),re=Te(Z);{var te=M=>{var O=Cl(),L=d(O),B=d(L),X=b(L,2);qe(X,21,()=>a(r).filter(Q=>Q.group===a(H)),Fe,(Q,F)=>{var ve=El(),be=d(ve),ke=d(be),ge=d(ke),we=b(ke,2);{var xe=V=>{var A=gl();A.__change=[_l,f,F],G(()=>{Ee(A,"id",a(F).name),pt(A,a(F).value===!0)}),x(V,A)},De=(V,A)=>{{var q=j=>{var J=bl();J.__change=[hl,f,F],G(()=>{Ee(J,"id",a(F).name),zt(J,a(F).value??""),Ee(J,"min",a(F).min),Ee(J,"max",a(F).max),J.required=a(F).required}),x(j,J)},$=(j,J)=>{{var le=se=>{var ee=yl();ee.__change=[ml,f,F],G(fe=>{Ee(ee,"id",a(F).name),zt(ee,fe)},[()=>{var fe;return((fe=a(F).value)==null?void 0:fe.join(","))||""}]),x(se,ee)},ie=(se,ee)=>{{var fe=ne=>{var pe=kl();pe.__change=[wl,f,F],G(Je=>{Ee(pe,"id",a(F).name),zt(pe,Je)},[()=>JSON.stringify(a(F).value,null,2)||"{}"]),x(ne,pe)},ae=ne=>{var pe=Sl();pe.__change=[xl,f,F],G(()=>{Ee(pe,"id",a(F).name),zt(pe,a(F).value||""),pe.required=a(F).required}),x(ne,pe)};I(se,ne=>{a(F).type==="map"?ne(fe):ne(ae,!1)},ee)}};I(j,se=>{a(F).type==="array"?se(le):se(ie,!1)},J)}};I(V,j=>{a(F).type==="int"?j(q):j($,!1)},A)}};I(we,V=>{a(F).type==="bool"?V(xe):V(De,!1)})}var ze=b(be,2),C=d(ze);G(()=>{U(ge,a(F).name),U(C,a(F).description)}),x(Q,ve)}),G(()=>U(B,a(H))),x(M,O)};I(re,M=>{a(s)===a(H)&&M(te)})}x(K,Z)});var W=b(P,2);{var Y=K=>{var H=Tl();let Z;var re=d(H),te=d(re),M=b(re,2),O=d(M),L=b(M,2);L.__click=[Al,i],G(B=>{Z=ce(H,1,"status-message svelte-1iyqb86",null,Z,B),U(te,a(l)?"⚠️":"✓"),U(O,a(i))},[()=>({error:a(l)})]),x(K,H)};I(W,K=>{a(i)&&K(Y)})}x(T,D)},S=T=>{var D=zl();x(T,D)};I(m,T=>{a(n).length>0?T(w):T(S,!1)})}x(y,E)};I(g,y=>{(t.activeSidebarTab==="General"||t.activeSidebarTab==="SSUI Settings")&&y(k)})}x(e,h),ye()}Re(["click","change"]);async function Ml(e,t,r){p(t,!0);try{const n=await Le("/api/v2/runfile/save",{method:"POST"}),{error:s}=await n.json();if(s){r(`Failed to save runfile: ${s}`,!0);return}r("Runfile saved successfully",!1)}catch(n){r(`Error saving runfile: ${n.message}`,!0)}finally{p(t,!1)}}var Ol=z('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p>Loading runfile configuration...</p></div>'),Dl=z('<div class="empty-state svelte-f1rydd"><h3 class="svelte-f1rydd">No Runfile Groups Available</h3> <p>Select a runfile from the Runfile Gallery to get started!</p></div>'),Nl=(e,t,r)=>t(a(r)),$l=z("<button> </button>"),ql=z('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p> </p></div>'),Pl=z('<div class="empty-state svelte-f1rydd"><p>No configurable arguments found for this group.</p></div>'),Bl=(e,t,r)=>t(a(r),e),Ul=z('<input type="checkbox" class="svelte-f1rydd">'),jl=(e,t,r)=>t(a(r),e),Fl=z('<input type="number" class="svelte-f1rydd">'),Vl=(e,t,r)=>t(a(r),e),Gl=z('<input type="text" class="svelte-f1rydd">'),Hl=z('<div class="setting-item svelte-f1rydd"><label class="svelte-f1rydd"><span> </span> <!></label> <div class="input-info svelte-f1rydd"> </div></div>'),Wl=z('<div class="channel-grid svelte-f1rydd"></div> <div class="form-actions svelte-f1rydd"><button class="save-button svelte-f1rydd"> </button></div>',1),Yl=z('<div class="runfile-section svelte-f1rydd"><h3 class="svelte-f1rydd"> </h3> <!></div>'),Jl=(e,t)=>p(t,""),Kl=z('<div><span class="status-icon svelte-f1rydd"> </span> <span> </span> <button class="close-status svelte-f1rydd">×</button></div>'),Zl=z('<div class="runfile-container svelte-f1rydd"><div class="runfile-group-nav svelte-f1rydd"></div> <!> <!></div>'),Ql=z('<div class="runfile-settings svelte-f1rydd"><h2 class="svelte-f1rydd">Game Settings</h2> <p class="settings-intro svelte-f1rydd">Configure command line arguments that will be used when launching the game server.</p> <!></div>');function Xl(e,t){me(t,!0);let r=R(ue([])),n=R(""),s=R(""),i=R(!1),l,u=R(ue([])),c=R(!0),o=R(!1);Ve(async()=>{await _()});async function _(){p(c,!0);try{const S=await Le("/api/v2/runfile/groups"),{data:T,error:D}=await S.json();if(D){k(`Failed to load groups: ${D}`,!0);return}p(r,T,!0),a(r).length>0&&await f(a(r)[0])}catch(S){k(`Error fetching runfile groups: ${S.message}`,!0)}finally{p(c,!1)}}async function f(S){p(c,!0),p(n,S,!0),await v(S),p(c,!1)}async function v(S){try{const T=await Le(`/api/v2/runfile/args?group=${encodeURIComponent(S)}`),{data:D,error:N}=await T.json();if(N){k(`Failed to load args: ${N}`,!0);return}p(u,D,!0)}catch(T){k(`Error fetching runfile args: ${T.message}`,!0)}}async function h(S,T){try{const D=await Le("/api/v2/runfile/args/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flag:S,value:T})}),{error:N}=await D.json();if(N){k(`Failed to update ${S}: ${N}`,!0);return}k(`Updated ${S} successfully`,!1)}catch(D){k(`Error updating ${S}: ${D.message}`,!0)}}function g(S,T){const D=T.target;let N;S.type==="bool"?N=D.checked.toString():N=D.value,h(S.flag,N)}function k(S,T){p(s,S,!0),p(i,T,!0),l&&clearTimeout(l),l=setTimeout(()=>{p(s,"")},3e4)}var y=Ql(),E=b(d(y),4);{var m=S=>{var T=Ol();x(S,T)},w=(S,T)=>{{var D=P=>{var W=Dl();x(P,W)},N=P=>{var W=Zl(),Y=d(W);qe(Y,21,()=>a(r),Fe,(M,O)=>{var L=$l();L.__click=[Nl,f,O];var B=d(L);G(()=>{ce(L,1,`section-nav-button ${a(n)===a(O)?"active":""}`,"svelte-f1rydd"),U(B,a(O))}),x(M,L)});var K=b(Y,2);{var H=M=>{var O=ql(),L=b(d(O),2),B=d(L);G(()=>U(B,`Loading ${a(n)??""} settings...`)),x(M,O)},Z=(M,O)=>{{var L=B=>{var X=Yl(),Q=d(X),F=d(Q),ve=b(Q,2);{var be=ge=>{var we=Pl();x(ge,we)},ke=ge=>{var we=Wl(),xe=Te(we);qe(xe,21,()=>a(u),Fe,(V,A)=>{var q=Hl(),$=d(q),j=d($),J=d(j),le=b(j,2);{var ie=ae=>{var ne=Ul();ne.__change=[Bl,g,A],G(()=>{Ee(ne,"id",a(A).flag),pt(ne,a(A).runtime_value==="true"),ne.disabled=a(A).disabled}),x(ae,ne)},se=(ae,ne)=>{{var pe=Ge=>{var Ae=Fl();Ae.__change=[jl,g,A],G(()=>{Ee(Ae,"id",a(A).flag),zt(Ae,a(A).runtime_value||""),Ee(Ae,"min",a(A).min),Ee(Ae,"max",a(A).max),Ae.required=a(A).required,Ae.disabled=a(A).disabled}),x(Ge,Ae)},Je=Ge=>{var Ae=Gl();Ae.__change=[Vl,g,A],G(()=>{Ee(Ae,"id",a(A).flag),zt(Ae,a(A).runtime_value||""),Ae.required=a(A).required,Ae.disabled=a(A).disabled}),x(Ge,Ae)};I(ae,Ge=>{a(A).type==="int"?Ge(pe):Ge(Je,!1)},ne)}};I(le,ae=>{a(A).type==="bool"?ae(ie):ae(se,!1)})}var ee=b($,2),fe=d(ee);G(()=>{U(J,a(A).ui_label||a(A).flag),U(fe,a(A).description||"No description available")}),x(V,q)});var De=b(xe,2),ze=d(De);ze.__click=[Ml,o,k];var C=d(ze);G(()=>{ze.disabled=a(o),U(C,a(o)?"Saving...":"Save All Changes")}),x(ge,we)};I(ve,ge=>{a(u).length===0?ge(be):ge(ke,!1)})}G(()=>U(F,`${a(n)??""} GameServer Settings`)),x(B,X)};I(M,B=>{a(n)&&B(L)},O)}};I(K,M=>{a(c)&&a(n)?M(H):M(Z,!1)})}var re=b(K,2);{var te=M=>{var O=Kl();let L;var B=d(O),X=d(B),Q=b(B,2),F=d(Q),ve=b(Q,2);ve.__click=[Jl,s],G(be=>{L=ce(O,1,"status-message svelte-f1rydd",null,L,be),U(X,a(i)?"⚠️":"✓"),U(F,a(s))},[()=>({error:a(i)})]),x(M,O)};I(re,M=>{a(s)&&M(te)})}x(P,W)};I(S,P=>{a(r).length===0?P(D):P(N,!1)},T)}};I(E,S=>{a(c)&&a(r).length===0?S(m):S(w,!1)})}x(e,y),ye()}Re(["click","change"]);function eo(e,t,r){!a(t)||!a(r)||(mn(a(t),a(r)),p(t,""),p(r,""))}function to(e,t,r){Tr(a(t)),r(a(t))}var ro=z('<span class="status-timestamp svelte-okzcno"> </span>'),ao=(e,t,r)=>t(a(r)),no=(e,t,r)=>t(a(r)),so=z('<button class="action-button danger svelte-okzcno">Remove</button>'),io=z('<div class="backend-item svelte-okzcno"><div class="backend-info svelte-okzcno"><h3 class="svelte-okzcno"> </h3> <p class="svelte-okzcno"> </p></div> <div class="backend-status svelte-okzcno"><label class="status-toggle svelte-okzcno"><input type="radio" name="activeBackend"> <span class="status-label svelte-okzcno"> </span></label></div> <div class="backend-actions svelte-okzcno"><!></div></div>'),lo=z('<div class="backend-settings svelte-okzcno"><div class="section-header svelte-okzcno"><h2 class="svelte-okzcno">Backend Connections</h2></div> <div class="current-backends"><div class="backend-controls svelte-okzcno"><h3>Configured Backends</h3> <div class="active-status svelte-okzcno"><!> <!></div> <button class="action-button test-all svelte-okzcno"> </button></div> <div class="backend-list svelte-okzcno"></div></div> <div class="add-backend"><div class="section-header svelte-okzcno"><h3 class="svelte-okzcno">Add New Backend</h3></div> <div class="form-container svelte-okzcno"><div class="form-group svelte-okzcno"><label for="backend-id" class="svelte-okzcno">Backend ID</label> <input type="text" id="backend-id" placeholder="e.g., production" class="svelte-okzcno"></div> <div class="form-group svelte-okzcno"><label for="backend-url" class="svelte-okzcno">Backend URL</label> <input type="text" id="backend-url" placeholder="e.g., https://api.example.com" class="svelte-okzcno"></div> <button class="primary-button svelte-okzcno">+ Add Backend</button></div></div></div>');function oo(e,t){me(t,!0);const r=[];let n=R(void 0),s=R(""),i=R(""),l=R(""),u=R(ue([])),c={},o=R(!1),_=R(ue({status:"unknown",lastChecked:null}));const f=Ce.subscribe(L=>{p(n,L,!0),p(l,L.active,!0),p(u,Object.keys(L.backends),!0),a(u).forEach(B=>{B in c||(c[B]={status:"unknown",lastChecked:null})})});Ve(()=>{yn();const L=setInterval(h,1e4);return h(),()=>{f(),clearInterval(L)}});async function v(L,B=!1){if(!a(o)){p(o,!0),a(n).backends[L].url;try{const Q={status:(await Le("/api/v2/server/status",{method:"GET",headers:{"Content-Type":"application/json"}})).ok?"online":"offline",lastChecked:new Date};c[L]=Q,L===a(l)&&p(_,Q,!0)}catch{const Q={status:"error",lastChecked:new Date};c[L]=Q,L===a(l)&&p(_,Q,!0)}finally{p(o,!1),c={...c},p(_,{...a(_)},!0)}}}async function h(){for(const L of a(u))await v(L,!0)}function g(L){if(L==="default"){alert("Cannot remove the default backend");return}Ce.update(B=>(B.active===L&&(B.active="default",p(l,"default"),p(_,c.default||{status:"unknown",lastChecked:null},!0)),delete B.backends[L],delete c[L],B))}var k=lo(),y=b(d(k),2),E=d(y),m=b(d(E),2),w=d(m);{var S=L=>{var B=oe("🟢 Online");x(L,B)},T=(L,B)=>{{var X=F=>{var ve=oe("🔴 Offline");x(F,ve)},Q=(F,ve)=>{{var be=ge=>{var we=oe("⚠️ Error");x(ge,we)},ke=ge=>{var we=oe("⚪ Unknown");x(ge,we)};I(F,ge=>{a(_).status==="error"?ge(be):ge(ke,!1)},ve)}};I(L,F=>{a(_).status==="offline"?F(X):F(Q,!1)},B)}};I(w,L=>{a(_).status==="online"?L(S):L(T,!1)})}var D=b(w,2);{var N=L=>{var B=ro(),X=d(B);G(Q=>U(X,`(Last checked: ${Q??""})`),[()=>new Date(a(_).lastChecked).toLocaleTimeString()]),x(L,B)};I(D,L=>{a(_).lastChecked&&L(N)})}var P=b(m,2);P.__click=[ao,v,l];var W=d(P),Y=b(E,2);qe(Y,21,()=>a(u),Fe,(L,B)=>{var X=io(),Q=d(X),F=d(Q),ve=d(F),be=b(F,2),ke=d(be),ge=b(Q,2),we=d(ge),xe=d(we),De;xe.__change=[to,l,v];var ze=b(xe,2),C=d(ze),V=b(ge,2),A=d(V);{var q=$=>{var j=so();j.__click=[no,g,B],x($,j)};I(A,$=>{a(B)!=="default"&&$(q)})}G(()=>{U(ve,a(B)),U(ke,a(n).backends[a(B)].url),De!==(De=a(B))&&(xe.value=(xe.__value=a(B))??""),U(C,a(B)===a(l)?"Active":"Set Active")}),fn(r,[],xe,()=>(a(B),a(l)),$=>p(l,$)),x(L,X)});var K=b(y,2),H=b(d(K),2),Z=d(H),re=b(d(Z),2),te=b(Z,2),M=b(d(te),2),O=b(te,2);O.__click=[eo,s,i],G(()=>{P.disabled=a(o),U(W,a(o)?"Testing...":"Test Active Backend")}),Rt(re,()=>a(s),L=>p(s,L)),Rt(M,()=>a(i),L=>p(i,L)),x(e,k),ye()}Re(["click","change"]);var co=z('<div class="loading svelte-1n4i3h1"><p>Loading Detection Manager...</p></div>'),vo=z('<div><iframe title="Detection Manager" class="svelte-1n4i3h1"></iframe></div> <!>',1);function uo(e,t){me(t,!1);let r=at(),n=at(!0),s=at("");async function i(){try{const g=$t();p(s,`${g}/detectionmanager`)}catch(g){console.error("Error constructing iframe src:",g)}}function l(){p(n,!1)}function u(){p(n,!1),console.error("Iframe failed to load")}Ve(()=>{i()}),_n();var c=vo(),o=Te(c);let _;var f=d(o);Wt(f,g=>p(r,g),()=>a(r));var v=b(o,2);{var h=g=>{var k=co();x(g,k)};I(v,g=>{a(n)&&g(h)})}G(g=>{_=ce(o,1,"iframe-container svelte-1n4i3h1",null,_,g),Ee(f,"src",a(s))},[()=>({hidden:a(n)})],mr),gt("load",f,l),gt("error",f,u),x(e,c),ye()}var fo=z('<div class="loading svelte-1u2u0gm"><div class="spinner svelte-1u2u0gm"></div> <p class="svelte-1u2u0gm">Loading Code Server...</p></div>'),po=z('<div class="error svelte-1u2u0gm"><p class="svelte-1u2u0gm">Failed to load Code Server</p></div>'),_o=z('<iframe title="Code Server" class="svelte-1u2u0gm"></iframe>'),go=z("<!> <!> <div><!></div>",1);function ho(e,t){me(t,!1);let r=at(),n=at(!0),s=at(""),i=at(!1);async function l(){try{const m=await Le("/api/v2/getwd");if(!m.ok)throw new Error("Failed to fetch working directory");const w=await m.json();if(w.status!=="OK"||!w.WorkingDir)throw new Error("Invalid response from /api/v2/getwd");const S=$t();p(s,`${S}/api/v2/codeserver?folder=${encodeURIComponent(w.WorkingDir)}`)}catch(m){console.error("Error constructing iframe src:",m);const w=$t();p(s,`${w}/api/v2/codeserver`)}}function u(){p(n,!1),p(i,!1)}function c(){p(n,!1),p(i,!0),console.error("Iframe failed to load")}Ve(()=>{l()}),_n();var o=go(),_=Te(o);{var f=m=>{var w=fo();x(m,w)};I(_,m=>{a(n)&&a(s)&&m(f)})}var v=b(_,2);{var h=m=>{var w=po();x(m,w)};I(v,m=>{a(i)&&m(h)})}var g=b(v,2);let k;var y=d(g);{var E=m=>{var w=_o();Wt(w,S=>p(r,S),()=>a(r)),G(()=>Ee(w,"src",a(s))),gt("load",w,u),gt("error",w,c),x(m,w)};I(y,m=>{a(s)&&m(E)})}G(m=>k=ce(g,1,"iframe-container svelte-1u2u0gm",null,k,m),[()=>({hidden:a(n)||!a(s)})],mr),x(e,o),ye()}var bo=(e,t)=>t("SSUI Settings"),mo=(e,t)=>t("Runfile"),yo=(e,t)=>t("Backends"),wo=(e,t)=>t("Detection Manager"),ko=(e,t)=>t("Code Server"),xo=z('<div class="settings-container svelte-1oj27tx"><div class="settings-sidebar svelte-1oj27tx"><button>SSUI Settings</button> <button>Game Settings</button> <button>Backends</button> <button>Detection Manager</button> <button>Code Server</button></div> <div class="settings-content svelte-1oj27tx"><!></div></div>');function So(e){let t=R("SSUI Settings");function r(g){p(t,g,!0)}var n=xo(),s=d(n),i=d(s);i.__click=[bo,r];var l=b(i,2);l.__click=[mo,r];var u=b(l,2);u.__click=[yo,r];var c=b(u,2);c.__click=[wo,r];var o=b(c,2);o.__click=[ko,r];var _=b(s,2),f=d(_);{var v=g=>{Il(g,{get activeSidebarTab(){return a(t)}})},h=(g,k)=>{{var y=m=>{Xl(m,{})},E=(m,w)=>{{var S=D=>{oo(D,{})},T=(D,N)=>{{var P=Y=>{uo(Y,{})},W=(Y,K)=>{{var H=Z=>{ho(Z,{})};I(Y,Z=>{a(t)==="Code Server"&&Z(H)},K)}};I(D,Y=>{a(t)==="Detection Manager"?Y(P):Y(W,!1)},N)}};I(m,D=>{a(t)==="Backends"?D(S):D(T,!1)},w)}};I(g,m=>{a(t)==="Runfile"?m(y):m(E,!1)},k)}};I(f,g=>{a(t)==="SSUI Settings"?g(v):g(h,!1)})}G(()=>{ce(i,1,`settings-nav ${a(t)==="SSUI Settings"?"active":""}`,"svelte-1oj27tx"),ce(l,1,`settings-nav ${a(t)==="Runfile"?"active":""}`,"svelte-1oj27tx"),ce(u,1,`settings-nav ${a(t)==="Backends"?"active":""}`,"svelte-1oj27tx"),ce(c,1,`settings-nav ${a(t)==="Detection Manager"?"active":""}`,"svelte-1oj27tx"),ce(o,1,`settings-nav ${a(t)==="Code Server"?"active":""}`,"svelte-1oj27tx")}),x(e,n)}Re(["click"]);function Eo(e,t,r,n,s){p(t,!0),r(),n(),setTimeout(()=>{s(),p(t,!1)},100)}var Co=(e,t)=>t("all"),Ao=(e,t)=>t("info"),To=(e,t)=>t("warning"),Lo=(e,t)=>t("error"),zo=(e,t)=>t("debug"),Ro=(e,t)=>t("game"),Io=z('<div class="no-logs svelte-1vpcr8y">No logs to display. Select a log level or change the Time Range to view logs...</div>'),Mo=z('<div class="log-line svelte-1vpcr8y"><span class="timestamp svelte-1vpcr8y"> </span> <span> </span> <span class="message svelte-1vpcr8y"> </span></div>'),Oo=z('<div class="logs-container svelte-1vpcr8y"><div class="logs-filter svelte-1vpcr8y"><div class="filter-group svelte-1vpcr8y"><label class="svelte-1vpcr8y">Log Level</label> <div class="checkbox-group svelte-1vpcr8y"><label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> All</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Info</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Warning</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Error</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Debug</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Game</label></div></div> <div class="filter-group svelte-1vpcr8y"><label class="svelte-1vpcr8y">Time Range</label> <select class="svelte-1vpcr8y"><option>Recent</option><option>Last 1 Minute</option><option>Last 10 Minutes</option><option>Last 20 Minutes</option><option>Last 30 Minutes</option><option>Last 1 Hour</option><option>Last 12 Hours</option><option>Last 24 Hours</option><option>All Time</option></select></div> <div class="control-buttons svelte-1vpcr8y"><button class="reconnect-button svelte-1vpcr8y">Reconnect</button> <button class="clear-button svelte-1vpcr8y">Clear</button></div></div> <div class="logs-viewer svelte-1vpcr8y"><!></div></div>');function Do(e,t){me(t,!0);let r=R(ue([])),n=R(ue([])),s=ue({all:!1,debug:!1,info:!0,warning:!1,error:!1,game:!1}),i=R("Recent"),l=R(ue({})),u=R(!1),c,o=ue({all:null,debug:null,info:null,warning:null,error:null,game:null}),_=ue({all:!1,debug:!1,info:!1,warning:!1,error:!1,game:!1});const f={all:"Full Backend",debug:"Debug",info:"Info",warning:"Warn",error:"Error",game:"Game"},v={Recent:10*1e3,"Last 1 Minute":60*1e3,"Last 10 Minutes":10*60*1e3,"Last 20 Minutes":20*60*1e3,"Last 30 Minutes":30*60*1e3,"Last 1 Hour":60*60*1e3,"Last 12 Hours":12*60*60*1e3,"Last 24 Hours":24*60*60*1e3,"All Time":1/0};et(()=>{const C={};for(const[V,A]of Object.entries(s))A&&(C[V]=!0);p(l,C,!0),queueMicrotask(()=>{g()})}),et(()=>{p(n,m(a(r)),!0)}),Ve(()=>(g(),document.addEventListener("visibilitychange",h),()=>{document.removeEventListener("visibilitychange",h)})),Ar(()=>{T()});function h(){document.visibilityState==="visible"&&g()}function g(){const C=["all","debug","info","warning","error","game"];for(const V of C)a(l)[V]&&!o[V]&&!_[V]?k(V):!a(l)[V]&&o[V]&&y(V)}function k(C){if(_[C])return;_[C]=!0,console.log(`Connecting to ${C} log source`);const V=C==="all"?"/logs/backend":C==="warning"?"/logs/warn":C==="game"?"/console":`/logs/${C}`,A=f[C],q=C==="all"?"ALL":C.toUpperCase(),$=`${A} Log Stream Connected`;o[C]=Yr(V,j=>{const J=new Date,le=J.toLocaleTimeString(),ie=J.getTime();j===$?a(r).some(ee=>ee.message===$&&ee.level===q)||E({timestamp:le,exactTimestamp:ie,level:q,server:"All",message:$}):E({timestamp:le,exactTimestamp:ie,level:q,server:"All",message:j})},j=>{console.error(`${A} logs stream error:`,j),o[C]=null,_[C]=!1,a(l)[C]&&document.visibilityState!=="hidden"&&setTimeout(()=>{a(l)[C]&&!o[C]&&!_[C]&&k(C)},2e3)}),_[C]=!1}function y(C){const V=f[C];if(o[C]&&(o[C].close(),o[C]=null,!a(u))){const A=new Date,q=A.toLocaleTimeString(),$=C==="all"?"ALL":C.toUpperCase();E({timestamp:q,exactTimestamp:A.getTime(),level:$,server:"All",message:`${V} Log Stream Disconnected`})}}function E(C){p(r,[C,...a(r)],!0),a(r).length>2e3&&p(r,a(r).slice(-2e3),!0)}function m(C){if(a(i)==="All Time")return C;const A=Date.now()-v[a(i)];return C.filter(q=>q.exactTimestamp>=A)}function w(C){s[C]=!s[C]}function S(){p(r,[],!0),p(n,[],!0)}function T(){for(const C of Object.keys(o))o[C]&&y(C)}var D=Oo(),N=d(D),P=d(N),W=b(d(P),2),Y=d(W),K=d(Y);K.__change=[Co,w];var H=b(Y,2),Z=d(H);Z.__change=[Ao,w];var re=b(H,2),te=d(re);te.__change=[To,w];var M=b(re,2),O=d(M);O.__change=[Lo,w];var L=b(M,2),B=d(L);B.__change=[zo,w];var X=b(L,2),Q=d(X);Q.__change=[Ro,w];var F=b(P,2),ve=b(d(F),2),be=b(F,2),ke=d(be);ke.__click=[Eo,u,T,S,g];var ge=b(ke,2);ge.__click=S;var we=b(N,2),xe=d(we);{var De=C=>{var V=Io();x(C,V)},ze=C=>{var V=it(),A=Te(V);qe(A,17,()=>a(n),Fe,(q,$)=>{var j=Mo(),J=d(j),le=d(J),ie=b(J,2),se=d(ie),ee=b(ie,2),fe=d(ee);G(ae=>{U(le,a($).timestamp),ce(ie,1,`level ${ae??""}`,"svelte-1vpcr8y"),U(se,a($).level),U(fe,a($).message)},[()=>a($).level.toLowerCase()]),x(q,j)}),x(C,V)};I(xe,C=>{a(n).length===0?C(De):C(ze,!1)})}Wt(we,C=>c=C,()=>c),G(()=>{pt(K,s.all),pt(Z,s.info),pt(te,s.warning),pt(O,s.error),pt(B,s.debug),pt(Q,s.game)}),ni(ve,()=>a(i),C=>p(i,C)),x(e,D),ye()}Re(["change","click"]);var No=z(`<div class="steamcmd-wait svelte-1ihtzz0"><div class="spinner svelte-1ihtzz0"></div> <p class="message svelte-1ihtzz0"> </p> <p class="warning svelte-1ihtzz0">Please don't poke the backend!</p></div>`);function $o(e,t){me(t,!0);const r=ue(["SteamCMD's brewing coffee...","Untangling virtual cables...","Convincing the server to behave...","SteamCMD's wrestling gremlins...","Negotiating with bandwidth fairies...","Defragmenting digital memories...","Teaching SteamCMD new tricks...","Soothing angry network packets...","Doing server yoga...","Persuading bits to cooperate..."]);let n=R(0),s=R(ue(r[0]));et(()=>{const c=setInterval(()=>{p(n,(a(n)+1)%r.length),p(s,r[a(n)],!0)},3e3);return()=>clearInterval(c)});var i=No(),l=b(d(i),2),u=d(l);G(()=>U(u,a(s))),x(e,i),ye()}var qo=(e,t)=>e.key==="Enter"&&t(),Po=z('<div tabindex="0" role="button" aria-label="Dismiss notification"><div class="content svelte-1gq1lzr"><span class="icon svelte-1gq1lzr"> </span> <p class="message svelte-1gq1lzr"> </p></div></div>');function Bo(e,t){me(t,!0);const r=Pe(t,"isSuccess",3,!1),n=Bs();function s(){n("dismiss")}var i=Po();let l;i.__click=s,i.__keydown=[qo,s];var u=d(i),c=d(u),o=d(c),_=b(c,2),f=d(_);G(v=>{l=ce(i,1,"popup svelte-1gq1lzr",null,l,v),U(o,r()?"✓":"!"),U(f,t.message)},[()=>({success:r()})]),x(e,i),ye()}Re(["click","keydown"]);function Uo(e,t){p(t,!a(t))}async function jo(e,t,r,n,s,i,l){e.stopPropagation(),p(t,!0),p(r,!0);try{await Le("/api/v2/gallery/select",{method:"POST",body:JSON.stringify({identifier:n().name})});const u=await Le("/api/v2/settings/save",{method:"POST",body:JSON.stringify({RunfileGame:n().name})});if(u.error)throw new Error(u.error);s("Runfile downloaded and applied successfully!")}catch(u){p(i,u.message||"Failed to download and apply runfile",!0),p(l,!0)}finally{p(t,!1),p(r,!1)}}var Fo=e=>e.key==="Enter",Vo=z('<p class="svelte-165p17q"><strong class="svelte-165p17q">Filename:</strong> </p>'),Go=z('<div class="spinner svelte-165p17q"></div>'),Ho=z('<button class="download-button svelte-165p17q">Download & Apply</button>'),Wo=z('<div class="popup-container svelte-165p17q"><!></div>'),Yo=z('<div class="card-container svelte-165p17q"><div tabindex="0" role="button"><div class="card-front svelte-165p17q"></div> <div class="card-back svelte-165p17q"><h3 class="runfile-name svelte-165p17q"> </h3> <div class="card-back-content svelte-165p17q"><div class="metadata svelte-165p17q"><p class="svelte-165p17q"><strong class="svelte-165p17q">Version:</strong> </p> <p class="svelte-165p17q"><strong class="svelte-165p17q">Min Version:</strong> </p> <p class="svelte-165p17q"><strong class="svelte-165p17q">Supported OS:</strong> </p> <!></div> <div class="actions-container svelte-165p17q"><div class="actions svelte-165p17q"><!></div> <!></div></div></div></div></div>');function Jo(e,t){me(t,!0);const r=Pe(t,"runfile",7);let n=R(!1),s=R(!1),i=R(!1),l=R(null),u=R(!1);et(()=>{r()&&!r().identifier&&(r().identifier=r().name||r().name)});function c(O){p(l,O,!0),p(u,!0)}et(()=>{if(a(u)){const O=setTimeout(()=>{p(u,!1)},5e3);return()=>clearTimeout(O)}});var o=Yo(),_=d(o);let f;_.__click=[Uo,n],_.__keydown=[Fo];var v=d(_),h=b(v,2),g=d(h),k=d(g),y=b(g,2),E=d(y),m=d(E),w=b(d(m)),S=b(m,2),T=b(d(S)),D=b(S,2),N=b(d(D)),P=b(D,2);{var W=O=>{var L=Vo(),B=b(d(L));G(()=>U(B,` ${r().filename??""}`)),x(O,L)};I(P,O=>{r().filename&&O(W)})}var Y=b(E,2),K=d(Y),H=d(K);{var Z=O=>{var L=it(),B=Te(L);{var X=F=>{$o(F,{})},Q=F=>{var ve=Go();x(F,ve)};I(B,F=>{a(i)?F(X):F(Q,!1)})}x(O,L)},re=O=>{var L=Ho();L.__click=[jo,s,i,r,c,l,u],G(()=>Ee(L,"aria-label",`Download and apply ${r().name}`)),x(O,L)};I(H,O=>{a(s)?O(Z):O(re,!1)})}var te=b(K,2);{var M=O=>{var L=Wo(),B=d(L);const X=We(()=>a(l)&&a(l).includes("successfully"));Bo(B,{get message(){return a(l)},get isSuccess(){return a(X)},$$events:{dismiss:()=>p(u,!1)}}),x(O,L)};I(te,O=>{a(u)&&O(M)})}G(O=>{f=ce(_,1,"card svelte-165p17q",null,f,O),Ee(_,"aria-label",`Runfile card for ${r().name}`),mt(v,`background-image: url('${(r().background_url||"")??""}')`),U(k,r().name),U(w,` ${r().version||"N/A"}`),U(T,` ${r().min_version||"N/A"}`),U(N,` ${r().supported_os||"N/A"}`)},[()=>({flipped:a(n)})]),x(e,o),ye()}Re(["click","keydown"]);function Ko(e,t){t(!0)}var Zo=z('<div class="error-banner svelte-1tafnbf"><p class="svelte-1tafnbf"> </p></div>'),Qo=z('<div class="loading svelte-1tafnbf"><div class="spinner svelte-1tafnbf"></div> <p class="svelte-1tafnbf">Loading runfiles...</p></div>'),Xo=z('<div class="empty-state svelte-1tafnbf"><p class="svelte-1tafnbf">No runfiles available. Try refreshing the gallery.</p></div>'),ec=z('<div class="gallery-grid svelte-1tafnbf"></div>'),tc=z('<div class="gallery-page svelte-1tafnbf"><div class="header svelte-1tafnbf"><button class="refresh-button svelte-1tafnbf" aria-label="Refresh runfile gallery"> </button></div> <!> <!></div>');function rc(e,t){me(t,!0);let r=R(ue([])),n=R(!0),s=R(null);async function i(k=!1){p(n,!0),p(s,null);try{const y=await Le(`/api/v2/gallery${k?"?forceUpdate=true":""}`);let E;if(y instanceof Response){if(console.log("API Response status:",y.status),!y.ok)throw new Error(`HTTP error! Status: ${y.status}`);E=await y.json()}else E=y;console.log("Parsed data:",E),E&&E.data&&Array.isArray(E.data)?p(r,E.data,!0):Array.isArray(E)?p(r,E,!0):(console.warn("Unexpected response format:",E),p(r,[],!0)),p(r,a(r).map(m=>(m.identifier||(m.identifier=m.filename||m.name),m)),!0),console.log("Processed runfiles:",a(r))}catch(y){p(s,y.message||"Failed to fetch runfiles",!0),console.error("Error fetching runfiles:",y),p(r,[],!0)}finally{p(n,!1)}}et(()=>{i()});var l=tc(),u=d(l),c=d(u);c.__click=[Ko,i];var o=d(c),_=b(u,2);{var f=k=>{var y=Zo(),E=d(y),m=d(E);G(()=>U(m,a(s))),x(k,y)};I(_,k=>{a(s)&&k(f)})}var v=b(_,2);{var h=k=>{var y=Qo();x(k,y)},g=(k,y)=>{{var E=w=>{var S=Xo();x(w,S)},m=w=>{var S=ec();qe(S,21,()=>a(r),T=>T.identifier,(T,D)=>{Jo(T,{get runfile(){return a(D)}})}),x(w,S)};I(k,w=>{!a(r)||a(r).length===0?w(E):w(m,!1)},y)}};I(v,k=>{a(n)?k(h):k(g,!1)})}G(()=>{c.disabled=a(n),U(o,a(n)?"Loading...":"Refresh Gallery")}),x(e,l),ye()}Re(["click"]);var ac=z('<div class="view-content svelte-i4ubsw"><!></div>'),nc=z('<div class="view-content svelte-i4ubsw"><!></div>'),sc=z('<div class="view-content svelte-i4ubsw"><!></div>'),ic=z('<div class="view-content svelte-i4ubsw"><!></div>'),lc=z('<div class="view-content svelte-i4ubsw"><!></div>'),oc=z('<main class="main-content svelte-i4ubsw"><div class="view-header svelte-i4ubsw"><h1> </h1> <p> </p></div> <div class="view-container svelte-i4ubsw"><!></div></main>');function cc(e,t){let r=Pe(t,"activeView",3,"dashboard");const n={dashboard:{title:"Dashboard",description:"Server overview and statistics"},servers:{title:"Servers",description:"Manage your game servers"},settings:{title:"Settings",description:"Configure application settings"},logs:{title:"Logs",description:"View server logs and events"},console:{title:"Console",description:"View server console output"},gallery:{title:"Runfile Gallery",description:"Browse runfiles"}};var s=oc(),i=d(s),l=d(i);let u;var c=d(l),o=b(l,2);let _;var f=d(o),v=b(i,2),h=d(v);{var g=y=>{var E=ac(),m=d(E);dl(m),Se(1,E,()=>Ze,()=>({duration:350,delay:5})),Se(2,E,()=>Ze,()=>({duration:200})),x(y,E)},k=(y,E)=>{{var m=S=>{var T=nc(),D=d(T);So(D),Se(1,T,()=>Ze,()=>({duration:350,delay:5})),Se(2,T,()=>Ze,()=>({duration:200})),x(S,T)},w=(S,T)=>{{var D=P=>{var W=sc(),Y=d(W);Do(Y,{}),Se(1,W,()=>Ze,()=>({duration:350,delay:5})),Se(2,W,()=>Ze,()=>({duration:200})),x(P,W)},N=(P,W)=>{{var Y=H=>{var Z=ic(),re=d(Z);xn(re,{}),Se(1,Z,()=>Ze,()=>({duration:350,delay:5})),Se(2,Z,()=>Ze,()=>({duration:200})),x(H,Z)},K=(H,Z)=>{{var re=te=>{var M=lc(),O=d(M);rc(O,{}),Se(1,M,()=>Ze,()=>({duration:350,delay:5})),Se(2,M,()=>Ze,()=>({duration:200})),x(te,M)};I(H,te=>{r()==="gallery"&&te(re)},Z)}};I(P,H=>{r()==="console"?H(Y):H(K,!1)},W)}};I(S,P=>{r()==="logs"?P(D):P(N,!1)},T)}};I(y,S=>{r()==="settings"?S(m):S(w,!1)},E)}};I(h,y=>{r()==="dashboard"?y(g):y(k,!1)})}G((y,E)=>{u=ce(l,1,"svelte-i4ubsw",null,u,y),U(c,n[r()].title),_=ce(o,1,"description svelte-i4ubsw",null,_,E),U(f,n[r()].description)},[()=>({hide:r()==="dashboard"}),()=>({hide:r()==="dashboard"})]),x(e,s)}var vc=z('<div class="error-message svelte-1uel83z"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1uel83z"><circle cx="12" cy="12" r="10" class="svelte-1uel83z"></circle><line x1="12" y1="8" x2="12" y2="12" class="svelte-1uel83z"></line><line x1="12" y1="16" x2="12.01" y2="16" class="svelte-1uel83z"></line></svg> <p class="svelte-1uel83z"> </p></div>'),uc=z('<div class="initializing svelte-1uel83z"><div class="content-container svelte-1uel83z"><div class="logo-container svelte-1uel83z"><div class="spinner-container svelte-1uel83z"><div class="loading-spinner svelte-1uel83z"></div></div></div> <div class="status-container svelte-1uel83z"><h2 class="status-title svelte-1uel83z"><!></h2> <div class="status-indicator svelte-1uel83z"><span class="dot dot1 svelte-1uel83z"></span> <span class="dot dot2 svelte-1uel83z"></span> <span class="dot dot3 svelte-1uel83z"></span></div></div> <!></div></div>');function Jr(e,t){let r=Pe(t,"serverStatus",8,"checking"),n=Pe(t,"errorMessage",8,null),s=Pe(t,"statusDescOffline",12,null);function i(){return typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}s(i()?"Poking Backend":"Backend Offline");var l=uc(),u=d(l),c=b(d(u),2),o=d(c),_=d(o);{var f=k=>{var y=oe("Connecting to Backend");x(k,y)},v=(k,y)=>{{var E=w=>{var S=oe("Initializing Backend");x(w,S)},m=(w,S)=>{{var T=N=>{var P=oe();G(()=>U(P,s())),x(N,P)},D=(N,P)=>{{var W=K=>{var H=oe("Backend error");x(K,H)},Y=(K,H)=>{{var Z=te=>{var M=oe("Backend Certificate or https error");x(te,M)},re=(te,M)=>{{var O=L=>{var B=oe("Server not found");x(L,B)};I(te,L=>{r()==="unreachable"&&L(O)},M)}};I(K,te=>{r()==="cert-error"?te(Z):te(re,!1)},H)}};I(N,K=>{r()==="error"?K(W):K(Y,!1)},P)}};I(w,N=>{r()==="offline"?N(T):N(D,!1)},S)}};I(k,w=>{r()==="online"?w(E):w(m,!1)},y)}};I(_,k=>{r()==="checking"?k(f):k(v,!1)})}var h=b(c,2);{var g=k=>{var y=vc(),E=b(d(y),2),m=d(E);G(()=>U(m,n())),x(k,y)};I(h,k=>{n()&&k(g)})}x(e,l)}function dc(e,t){me(t,!0);let r=Pe(t,"onStatusChange",3,f=>{}),n=R(!1),s=R("checking"),i=R(null);AbortSignal.timeout||(AbortSignal.timeout=function(v){const h=new AbortController;return setTimeout(()=>h.abort(),v),h.signal});async function l(){try{const f=new URL(window.location.href),v=`${f.protocol}//${f.host}`,h=new AbortController,g=setTimeout(()=>h.abort(),5e3),k=await fetch(`${v}/api/v2/server/status`,{method:"GET",signal:h.signal});return clearTimeout(g),k.status===404?(p(s,"offline"),p(i,null),Me.update(y=>({...y,authError:"endpoint not found"})),!0):k.ok||k.status===401||k.status===403?(p(s,"online"),!0):(p(s,"error"),p(i,`Server error: ${k.status} ${k.statusText}`),!1)}catch(f){return f.name==="AbortError"?(p(s,"offline"),p(i,"Connection timed out. The server may be slow or unreachable.")):f.message.includes("certificate")||f.message.includes("SSL")||f.message.includes("ERR_CERT")?(p(s,"cert-error"),p(i,"Certificate error. The server may be using an invalid or self-signed certificate. Try accepting the certificate in your browser.")):f.message.includes("Failed to fetch")||f.message.includes("NetworkError")?(p(s,"unreachable"),p(i,"Server not found. The server may be down or the URL may be incorrect.")):(p(s,"offline"),p(i,f.message||"Cannot connect to server",!0)),!1}}Ve(async()=>{if(yn(),await l())try{await Xt()}catch(v){console.warn("Auth check failed:",v)}r()({status:a(s),error:a(i)}),p(n,!0)});var u=it(),c=Te(u);{var o=f=>{var v=it(),h=Te(v);cn(h,()=>t.children??$e),x(f,v)},_=f=>{Jr(f,{get serverStatus(){return a(s)},get errorMessage(){return a(i)}})};I(c,f=>{a(n)?f(o):f(_,!1)})}x(e,u),ye()}async function fc(e,t,r,n,s,i){await Tr(a(t)),r(a(t)),p(n,!1),p(s,""),p(i,!1)}function pc(e,t){p(t,!a(t))}async function _c(e,t,r,n,s,i,l){!a(t)||!a(r)||(mn(a(t),a(r)),p(n,a(t),!0),await Tr(a(t)),s(a(t)),p(i,!1),p(t,""),p(r,""),p(l,""))}var gc=(e,t)=>p(t,!1),hc=z('<div class="backend-item svelte-1ygmrwf"><label class="backend-option svelte-1ygmrwf"><input type="radio" name="backend" class="svelte-1ygmrwf"> <div class="backend-details svelte-1ygmrwf"><span class="backend-name svelte-1ygmrwf"> </span> <span class="backend-url svelte-1ygmrwf"> </span></div> <span><!></span></label></div>'),bc=(e,t,r)=>t(a(r)),mc=z('<div class="backend-dropdown svelte-1ygmrwf"><div class="dropdown-header svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Select Backend</h3> <button class="close-btn svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="backend-list svelte-1ygmrwf"></div> <div class="dropdown-actions svelte-1ygmrwf"><button class="test-btn svelte-1ygmrwf"> </button> <button class="switch-btn svelte-1ygmrwf">Switch Server</button></div></div>'),yc=z(' <a target="_blank" rel="noopener">Check Backend</a>',1),wc=z('<div class="error-message svelte-1ygmrwf"><!></div>'),kc=(e,t)=>p(t,!1),xc=z(`<div class="new-backend-form svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Add New Server</h3> <p class="svelte-1ygmrwf">The current server doesn't have the expected login endpoint or is unreachable. Add a new server with the correct authentication endpoint.</p> <div class="form-group svelte-1ygmrwf"><label for="new-backend-id" class="svelte-1ygmrwf">Server Name</label> <input type="text" id="new-backend-id" placeholder="e.g., production" class="svelte-1ygmrwf"></div> <div class="form-group svelte-1ygmrwf"><label for="new-backend-url" class="svelte-1ygmrwf">Server URL</label> <input type="text" id="new-backend-url" placeholder="e.g., https://api.example.com" class="svelte-1ygmrwf"></div> <div class="backend-form-actions svelte-1ygmrwf"><button class="cancel-btn svelte-1ygmrwf">Cancel</button> <button class="add-backend-btn svelte-1ygmrwf">Add Server</button></div></div>`),Sc=Qt('<svg class="loading-spinner svelte-1ygmrwf" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg> Logging in...',1),Ec=z('<form><div class="form-group svelte-1ygmrwf"><label for="username" class="svelte-1ygmrwf">Username</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-1ygmrwf"></div></div> <div class="form-group svelte-1ygmrwf"><label for="password" class="svelte-1ygmrwf">Password</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-1ygmrwf"></div></div> <button type="submit" class="login-button svelte-1ygmrwf"><!></button></form>'),Cc=z('<div class="login-page svelte-1ygmrwf"><div class="login-container svelte-1ygmrwf"><div class="login-card svelte-1ygmrwf"><div class="login-header svelte-1ygmrwf"><h2 class="svelte-1ygmrwf">Backend Connection Required</h2> <div class="server-selector svelte-1ygmrwf"><div class="server-info svelte-1ygmrwf"><span class="server-label svelte-1ygmrwf">Server:</span> <span class="server-url svelte-1ygmrwf"> </span> <span><!></span> <button class="change-server-btn svelte-1ygmrwf" title="Change server"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></button></div> <!></div></div> <!> <!></div></div></div>');function Ac(e,t){me(t,!0);const[r,n]=bn(),s=()=>hn(Ce,"$backendConfig",r),i=[];let l=R(""),u=R(""),c=R(""),o=R(!1),_=R(ue([])),f=R(""),v=R(ue({})),h=R(!1),g=R(!1),k=R(!1),y=R(""),E=R(""),m,w;Ve(()=>(m=Me.subscribe(C=>{var V,A;if(C.authError){p(c,C.authError,!0);const q=(V=a(v)[a(f)])==null?void 0:V.status,$=(A=a(v)[a(f)])==null?void 0:A.authRequired;p(k,!(q==="online"&&$))}else p(c,""),p(k,!1);p(o,C.isAuthenticating,!0)}),w=Ce.subscribe(C=>{var q,$,j;p(_,Object.keys(C.backends),!0),p(f,C.active,!0),a(_).forEach(J=>{J in a(v)||(a(v)[J]={status:"unknown",lastChecked:null,error:null})});const V=(q=a(v)[a(f)])==null?void 0:q.status,A=($=a(v)[a(f)])==null?void 0:$.authRequired;["offline","unreachable","cert-error"].includes(V)?(p(k,!0),p(c,((j=a(v)[a(f)])==null?void 0:j.error)||"Cannot connect to the server.",!0)):V==="online"&&A&&p(k,!1)}),S(a(f)),()=>{m&&m(),w&&w()}));async function S(C){p(g,!0),a(v)[C]={status:"checking",lastChecked:new Date,error:null},p(v,{...a(v)},!0);try{const V=ht(Ce),A=V.backends[C].url==="/"?"":V.backends[C].url,q=new AbortController,$=setTimeout(()=>q.abort(),5e3),j=await fetch(`${A}/api/v2/server/status`,{method:"GET",signal:q.signal});clearTimeout($),j.ok?a(v)[C]={status:"online",lastChecked:new Date,error:null}:j.status===401?a(v)[C]={status:"online",lastChecked:new Date,authRequired:!0,error:null}:a(v)[C]={status:"offline",lastChecked:new Date,error:`Server responded with ${j.status} ${j.statusText}`}}catch(V){let A="error",q="Failed to connect to the server",$=!1;const j=a(P).startsWith("https://");V.name==="AbortError"?q=D()?"You are using the Desktop App, so you must define your Backend.":"Connection timed out. The server may be slow, unreachable, or dead.":j?(A="cert-error",$=!0,q="There was an error connecting to the remote Backend. If using a self-signed certificate, please visit the server URL to accept the certificate."):q="Server not found. The server may be down or the URL may be incorrect.",a(v)[C]={status:A,lastChecked:new Date,error:q,certificateHint:$,backendUrl:a(P)}}finally{p(g,!1),p(v,{...a(v)},!0)}}async function T(){if(p(c,""),p(o,!0),!a(l)||!a(u)){p(c,"Username and password are required"),p(o,!1);return}try{const C=await ci(a(l),a(u))}catch(C){p(c,C.message||"Login failed",!0)}finally{p(o,!1)}}function D(){return typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}let N=We(()=>s().backends[s().active]),P=We(()=>{var C;return((C=a(N))==null?void 0:C.url)||"/"}),W=We(()=>a(P)==="/"?window.location.origin:a(P)),Y=We(()=>{var C;return((C=a(v)[a(f)])==null?void 0:C.status)||"unknown"}),K=We(()=>{var C;return(C=a(v)[a(f)])==null?void 0:C.error});var H=Cc(),Z=d(H),re=d(Z),te=d(re),M=b(d(te),2),O=d(M);O.__click=[pc,h];var L=b(d(O),2),B=d(L),X=b(L,2),Q=d(X);{var F=C=>{var V=oe("🟢");x(C,V)},ve=(C,V)=>{{var A=$=>{var j=oe("🔴");x($,j)},q=($,j)=>{{var J=ie=>{var se=oe("⚠️");x(ie,se)},le=(ie,se)=>{{var ee=ae=>{var ne=oe("🔒");x(ae,ne)},fe=ae=>{var ne=oe("⚪");x(ae,ne)};I(ie,ae=>{a(Y)==="cert-error"?ae(ee):ae(fe,!1)},se)}};I($,ie=>{a(Y)==="error"||a(Y)==="unreachable"?ie(J):ie(le,!1)},j)}};I(C,$=>{a(Y)==="offline"?$(A):$(q,!1)},V)}};I(Q,C=>{a(Y)==="online"?C(F):C(ve,!1)})}var be=b(O,2);{var ke=C=>{var V=mc(),A=d(V),q=b(d(A),2);q.__click=[gc,h];var $=b(A,2);qe($,21,()=>a(_),Fe,(se,ee)=>{var fe=hc(),ae=d(fe),ne=d(ae),pe,Je=b(ne,2),Ge=d(Je),Ae=d(Ge),Sn=b(Ge,2),En=d(Sn),va=b(Je,2),Cn=d(va);{var An=Ke=>{var wt=oe("🟢");x(Ke,wt)},Tn=(Ke,wt)=>{{var Ln=kt=>{var xt=oe("🔴");x(kt,xt)},zn=(kt,xt)=>{{var Rn=St=>{var Et=oe("⚠️");x(St,Et)},In=(St,Et)=>{{var er=Ct=>{var At=oe("🔒");x(Ct,At)},Mn=Ct=>{var At=oe("⚪");x(Ct,At)};I(St,Ct=>{var At;((At=a(v)[a(ee)])==null?void 0:At.status)==="cert-error"?Ct(er):Ct(Mn,!1)},Et)}};I(kt,St=>{var Et,er;((Et=a(v)[a(ee)])==null?void 0:Et.status)==="error"||((er=a(v)[a(ee)])==null?void 0:er.status)==="unreachable"?St(Rn):St(In,!1)},xt)}};I(Ke,kt=>{var xt;((xt=a(v)[a(ee)])==null?void 0:xt.status)==="offline"?kt(Ln):kt(zn,!1)},wt)}};I(Cn,Ke=>{var wt;((wt=a(v)[a(ee)])==null?void 0:wt.status)==="online"?Ke(An):Ke(Tn,!1)})}G(()=>{var Ke;pe!==(pe=a(ee))&&(ne.value=(ne.__value=a(ee))??""),U(Ae,a(ee)),U(En,s().backends[a(ee)].url),ce(va,1,`status-indicator ${((Ke=a(v)[a(ee)])==null?void 0:Ke.status)||"unknown"}`,"svelte-1ygmrwf")}),fn(i,[],ne,()=>(a(ee),a(f)),Ke=>p(f,Ke)),x(se,fe)});var j=b($,2),J=d(j);J.__click=[bc,S,f];var le=d(J),ie=b(J,2);ie.__click=[fc,f,S,h,c,k],G(()=>{J.disabled=a(g),U(le,a(g)?"Testing...":"Test Connection"),ie.disabled=a(f)===s().active}),x(C,V)};I(be,C=>{a(h)&&C(ke)})}var ge=b(te,2);{var we=C=>{var V=wc(),A=d(V);{var q=j=>{var J=it(),le=Te(J);{var ie=ee=>{var fe=oe("You are using the Desktop App, so you must define your Backend.");x(ee,fe)},se=ee=>{var fe=oe("The selected server doesn't have the expected login endpoint.");x(ee,fe)};I(le,ee=>{D()?ee(ie):ee(se,!1)})}x(j,J)},$=(j,J)=>{{var le=se=>{var ee=yc(),fe=Te(ee),ae=b(fe);G(()=>{U(fe,`${a(K)??""} `),Ee(ae,"href",a(v)[a(f)].backendUrl)}),x(se,ee)},ie=(se,ee)=>{{var fe=ne=>{var pe=oe();G(()=>U(pe,a(K))),x(ne,pe)},ae=ne=>{var pe=oe();G(()=>U(pe,a(c))),x(ne,pe)};I(se,ne=>{a(K)?ne(fe):ne(ae,!1)},ee)}};I(j,se=>{a(Y)==="cert-error"?se(le):se(ie,!1)},J)}};I(A,j=>{a(c)==="endpoint not found"?j(q):j($,!1)})}x(C,V)};I(ge,C=>{(a(c)||a(K))&&C(we)})}var xe=b(ge,2);{var De=C=>{var V=xc(),A=b(d(V),4),q=b(d(A),2),$=b(A,2),j=b(d($),2),J=b($,2),le=d(J);le.__click=[kc,k];var ie=b(le,2);ie.__click=[_c,y,E,f,S,k,c],G(()=>{q.disabled=a(o),j.disabled=a(o),le.disabled=a(o),ie.disabled=a(o)||!a(y)||!a(E)}),Rt(q,()=>a(y),se=>p(y,se)),Rt(j,()=>a(E),se=>p(E,se)),x(C,V)},ze=C=>{var V=Ec(),A=d(V),q=b(d(A),2),$=b(d(q),2),j=b(A,2),J=b(d(j),2),le=b(d(J),2),ie=b(j,2),se=d(ie);{var ee=ae=>{var ne=Sc();x(ae,ne)},fe=ae=>{var ne=oe("Login");x(ae,ne)};I(se,ae=>{a(o)?ae(ee):ae(fe,!1)})}G(()=>{$.disabled=a(o),le.disabled=a(o),ie.disabled=a(o)||a(Y)==="unreachable"||a(Y)==="cert-error"}),gt("submit",V,T),Rt($,()=>a(l),ae=>p(l,ae)),Rt(le,()=>a(u),ae=>p(u,ae)),x(C,V)};I(xe,C=>{a(k)?C(De):C(ze,!1)})}G(()=>{U(B,a(W)),ce(X,1,`status-indicator ${a(Y)??""}`,"svelte-1ygmrwf")}),x(e,H),ye(),n()}Re(["click"]);function Tc(e,t){me(t,!0);const[r,n]=bn(),s=()=>hn(Me,"$authState",r);let i=Pe(t,"checkAuth",3,!0),l=Pe(t,"serverStatus",3,"online"),u=Pe(t,"serverError",3,null),c=R(!0),o;Ve(async()=>{if(i()&&l()==="online"){o=Me.subscribe(g=>{p(c,g.isAuthenticating,!0)});try{await Xt()}catch(g){console.error("Auth check failed:",g),p(c,!1)}}else p(c,!1)}),Ar(()=>{o&&o()});var _=it(),f=Te(_);{var v=g=>{Jr(g,{serverStatus:"checking"})},h=(g,k)=>{{var y=m=>{const w=We(()=>u()?u().toString():"There was an error connecting to the server.");Jr(m,{serverStatus:"error",get errorMessage(){return a(w)}})},E=(m,w)=>{{var S=D=>{Ac(D,{})},T=D=>{var N=it(),P=Te(N);cn(P,()=>t.children??$e),x(D,N)};I(m,D=>{!s().isAuthenticated&&i()?D(S):D(T,!1)},w)}};I(g,m=>{l()==="error"?m(y):m(E,!1)},k)}};I(f,g=>{a(c)?g(v):g(h,!1)})}x(e,_),ye(),n()}function Lc(e){return Math.sin(-13*(e+1)*Math.PI/2)*Math.pow(2,-10*e)+1}function za(e){return Object.prototype.toString.call(e)==="[object Date]"}function Kr(e,t,r,n){if(typeof r=="number"||za(r)){const s=n-r,i=(r-t)/(e.dt||1/60),l=e.opts.stiffness*s,u=e.opts.damping*i,c=(l-u)*e.inv_mass,o=(i+c)*e.dt;return Math.abs(o)<e.opts.precision&&Math.abs(s)<e.opts.precision?n:(e.settled=!1,za(r)?new Date(r.getTime()+o):r+o)}else{if(Array.isArray(r))return r.map((s,i)=>Kr(e,t[i],r[i],n[i]));if(typeof r=="object"){const s={};for(const i in r)s[i]=Kr(e,t[i],r[i],n[i]);return s}else throw new Error(`Cannot spring ${typeof r} values`)}}function zc(e,t={}){const r=la(e),{stiffness:n=.15,damping:s=.8,precision:i=.01}=t;let l,u,c,o=e,_=e,f=1,v=0,h=!1;function g(y,E={}){_=y;const m=c={};return e==null||E.hard||k.stiffness>=1&&k.damping>=1?(h=!0,l=Qe.now(),o=y,r.set(e=_),Promise.resolve()):(E.soft&&(v=1/((E.soft===!0?.5:+E.soft)*60),f=0),u||(l=Qe.now(),h=!1,u=dn(w=>{if(h)return h=!1,u=null,!1;f=Math.min(f+v,1);const S=Math.min(w-l,1e3/30),T={inv_mass:f,opts:k,settled:!0,dt:S*60/1e3},D=Kr(T,o,e,_);return l=w,o=e,r.set(e=D),T.settled&&(u=null),!T.settled})),new Promise(w=>{u.promise.then(()=>{m===c&&w()})}))}const k={set:g,update:(y,E)=>g(y(_,e),E),subscribe:r.subscribe,stiffness:n,damping:s,precision:i};return k}function Rc(e,t){const{clientX:r,clientY:n}=e,s=e.currentTarget.getBoundingClientRect(),i=(r-s.left-s.width/2)/15,l=(n-s.top-s.height/2)/15;t.set({x:i,y:l})}var Ic=z(`<div class="message-container svelte-1h1fu4u"><div class="message-box svelte-1h1fu4u"><div class="message-content svelte-1h1fu4u"><div class="icon svelte-1h1fu4u"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1h1fu4u"><path d="M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div> <h2 class="svelte-1h1fu4u">Screen Too Small</h2> <p class="svelte-1h1fu4u">Sorry, this display size is not supported currently. Please use a device with a minimum width of 1024px and height of 600px, such as an iPad. If you're using a phone, consider rotating it to landscape mode.</p></div></div></div>`),Mc=z('<div class="container svelte-1h1fu4u" role="presentation"><!></div>');function Oc(e,t){me(t,!0);let r=R(!1),n=R(!1);const s=zc({x:0,y:0},{stiffness:.1,damping:.25});Ve(()=>{p(r,!0),setTimeout(()=>{p(n,!0)},500)});var i=Mc();i.__mousemove=[Rc,s];var l=d(i);{var u=c=>{var o=Ic(),_=d(o),f=d(_),v=d(f),h=b(v,2),g=b(h,2);Se(1,v,()=>Oi,()=>({duration:600,delay:500,easing:Lc})),Se(1,h,()=>$r,()=>({y:20,duration:600,delay:600})),Se(1,g,()=>$r,()=>({y:20,duration:600,delay:800})),Se(1,_,()=>$r,()=>({y:30,duration:800,delay:300})),Se(3,o,()=>Ze,()=>({duration:800})),x(c,o)};I(l,c=>{a(r)&&c(u)})}gt("mouseleave",i,()=>s.set({x:0,y:0})),x(e,i),ye()}Re(["mousemove"]);var Dc=z('<div class="app-container svelte-136oog4"><!> <div class="main-container svelte-136oog4"><!> <!></div></div>');function Nc(e,t){me(t,!0);let r=R("dashboard");const n=[{id:"dashboard",name:"Dashboard",icon:"grid"},{id:"settings",name:"Settings",icon:"settings"},{id:"logs",name:"Logs",icon:"file-text"},{id:"console",name:"Console",icon:"terminal"},{id:"gallery",name:"Gallery",icon:"globe"}];function s(g){p(r,g,!0)}let i=R("checking"),l=R(null);function u(g){p(i,g.status,!0),p(l,g.error,!0)}let c=R(!0);function o(){p(c,window.innerWidth>=1024&&window.innerHeight>=600,!0)}et(()=>(o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)));var _=it(),f=Te(_);{var v=g=>{dc(g,{onStatusChange:u,children:(k,y)=>{Tc(k,{get serverStatus(){return a(i)},get serverError(){return a(l)},children:(E,m)=>{var w=Dc(),S=d(w);Ai(S,{views:n,get activeView(){return a(r)},setActiveView:s});var T=b(S,2),D=d(T);Ii(D,{views:n,get activeView(){return a(r)},setActiveView:s});var N=b(D,2);cc(N,{get activeView(){return a(r)}}),x(E,w)},$$slots:{default:!0}})},$$slots:{default:!0}})},h=g=>{Oc(g,{})};I(f,g=>{a(c)?g(v):g(h,!1)})}x(e,_),ye()}Ns(Nc,{target:document.getElementById("app")});
