(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const Ln="5";var La;typeof window<"u"&&((La=window.__svelte??(window.__svelte={})).v??(La.v=new Set)).add(Ln);let Dt=!1,On=!1;function In(){Dt=!0}In();const Kr=1,Zr=2,Oa=4,Rn=8,Nn=16,zn=1,Bn=2,Dn=4,Mn=8,Pn=16,Un=1,qn=2,jn=4,Ia=1,Fn=2,Be=Symbol(),Vn="http://www.w3.org/1999/xhtml",va=!1;function Ra(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var gr=Array.isArray,$n=Array.prototype.indexOf,Qr=Array.from,Na=Object.defineProperty,It=Object.getOwnPropertyDescriptor,za=Object.getOwnPropertyDescriptors,Gn=Object.prototype,Hn=Array.prototype,Xr=Object.getPrototypeOf,ua=Object.isExtensible;function Wn(e){return typeof e=="function"}const Ze=()=>{};function Jn(e){return e()}function Mr(e){for(var t=0;t<e.length;t++)e[t]()}const Qe=2,Ba=4,br=8,_r=16,ct=32,Mt=64,ir=128,je=256,lr=512,Ie=1024,rt=2048,gt=4096,lt=8192,mr=16384,Da=32768,yr=65536,Yn=1<<17,Kn=1<<19,Ma=1<<20,Pr=1<<21,ot=Symbol("$state"),Zn=Symbol("legacy props"),Qn=Symbol("");function Xn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function es(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ts(e){throw new Error("https://svelte.dev/e/effect_orphan")}function rs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function as(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ns(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ss(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function is(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ls=!1;function Pe(e){if(typeof e!="object"||e===null||ot in e)return e;const t=Xr(e);if(t!==Gn&&t!==Hn)return e;var r=new Map,n=gr(e),s=Ee(0),i=pe,l=v=>{var o=pe;Je(i);var c=v();return Je(o),c};return n&&r.set("length",Ee(e.length)),new Proxy(e,{defineProperty(v,o,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&ns();var g=r.get(o);return g===void 0?(g=l(()=>Ee(c.value)),r.set(o,g)):p(g,l(()=>Pe(c.value))),!0},deleteProperty(v,o){var c=r.get(o);if(c===void 0)o in v&&(r.set(o,l(()=>Ee(Be))),Or(s));else{if(n&&typeof o=="string"){var g=r.get("length"),d=Number(o);Number.isInteger(d)&&d<g.v&&p(g,d)}p(c,Be),Or(s)}return!0},get(v,o,c){var b;if(o===ot)return e;var g=r.get(o),d=o in v;if(g===void 0&&(!d||(b=It(v,o))!=null&&b.writable)&&(g=l(()=>Ee(Pe(d?v[o]:Be))),r.set(o,g)),g!==void 0){var u=a(g);return u===Be?void 0:u}return Reflect.get(v,o,c)},getOwnPropertyDescriptor(v,o){var c=Reflect.getOwnPropertyDescriptor(v,o);if(c&&"value"in c){var g=r.get(o);g&&(c.value=a(g))}else if(c===void 0){var d=r.get(o),u=d==null?void 0:d.v;if(d!==void 0&&u!==Be)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return c},has(v,o){var u;if(o===ot)return!0;var c=r.get(o),g=c!==void 0&&c.v!==Be||Reflect.has(v,o);if(c!==void 0||fe!==null&&(!g||(u=It(v,o))!=null&&u.writable)){c===void 0&&(c=l(()=>Ee(g?Pe(v[o]):Be)),r.set(o,c));var d=a(c);if(d===Be)return!1}return g},set(v,o,c,g){var E;var d=r.get(o),u=o in v;if(n&&o==="length")for(var b=c;b<d.v;b+=1){var h=r.get(b+"");h!==void 0?p(h,Be):b in v&&(h=l(()=>Ee(Be)),r.set(b+"",h))}d===void 0?(!u||(E=It(v,o))!=null&&E.writable)&&(d=l(()=>Ee(void 0)),p(d,l(()=>Pe(c))),r.set(o,d)):(u=d.v!==Be,p(d,l(()=>Pe(c))));var C=Reflect.getOwnPropertyDescriptor(v,o);if(C!=null&&C.set&&C.set.call(g,c),!u){if(n&&typeof o=="string"){var S=r.get("length"),m=Number(o);Number.isInteger(m)&&m>=S.v&&p(S,m+1)}Or(s)}return!0},ownKeys(v){a(s);var o=Reflect.ownKeys(v).filter(d=>{var u=r.get(d);return u===void 0||u.v!==Be});for(var[c,g]of r)g.v!==Be&&!(c in v)&&o.push(c);return o},setPrototypeOf(){ss()}})}function Or(e,t=1){p(e,e.v+t)}function fa(e){try{if(e!==null&&typeof e=="object"&&ot in e)return e[ot]}catch{}return e}function Pa(e,t){return Object.is(fa(e),fa(t))}var da,Ua,qa,ja;function os(){if(da===void 0){da=window,Ua=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;qa=It(t,"firstChild").get,ja=It(t,"nextSibling").get,ua(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ua(r)&&(r.__t=void 0)}}function wr(e=""){return document.createTextNode(e)}function st(e){return qa.call(e)}function kr(e){return ja.call(e)}function f(e,t){return st(e)}function Ge(e,t){{var r=st(e);return r instanceof Comment&&r.data===""?kr(r):r}}function _(e,t=1,r=!1){let n=e;for(;t--;)n=kr(n);return n}function cs(e){e.textContent=""}function Fa(e){return e===this.v}function Va(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ea(e){return!Va(e,this.v)}function Gt(e){var t=Qe|rt,r=pe!==null&&(pe.f&Qe)!==0?pe:null;return fe===null||r!==null&&(r.f&je)!==0?t|=je:fe.f|=Ma,{ctx:_e,deps:null,effects:null,equals:Fa,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??fe}}function He(e){const t=Gt(e);return t.equals=ea,t}function $a(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ht(t[r])}}function vs(e){for(var t=e.parent;t!==null;){if((t.f&Qe)===0)return t;t=t.parent}return null}function Ga(e){var t,r=fe;at(vs(e));try{$a(e),t=rn(e)}finally{at(r)}return t}function Ha(e){var t=Ga(e),r=(pt||(e.f&je)!==0)&&e.deps!==null?gt:Ie;Ye(e,r),e.equals(t)||(e.v=t,e.wv=en())}function Wa(e){fe===null&&pe===null&&ts(),pe!==null&&(pe.f&je)!==0&&fe===null&&es(),Yt&&Xn()}function us(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Pt(e,t,r,n=!0){var s=fe,i={ctx:_e,deps:null,nodes_start:null,nodes_end:null,f:e|rt,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Er(i),i.f|=Da}catch(o){throw ht(i),o}else t!==null&&Cr(i);var l=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Ma|ir))===0;if(!l&&n&&(s!==null&&us(i,s),pe!==null&&(pe.f&Qe)!==0)){var v=pe;(v.effects??(v.effects=[])).push(i)}return i}function xr(e){const t=Pt(br,null,!1);return Ye(t,Ie),t.teardown=e,t}function Nt(e){Wa();var t=fe!==null&&(fe.f&ct)!==0&&_e!==null&&!_e.m;if(t){var r=_e;(r.e??(r.e=[])).push({fn:e,effect:fe,reaction:pe})}else{var n=Ut(e);return n}}function fs(e){return Wa(),qt(e)}function ds(e){const t=Pt(Mt,e,!0);return(r={})=>new Promise(n=>{r.outro?or(t,()=>{ht(t),n(void 0)}):(ht(t),n(void 0))})}function Ut(e){return Pt(Ba,e,!1)}function dt(e,t){var r=_e,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=qt(()=>{e(),!n.ran&&(n.ran=!0,p(r.l.r2,!0),Xe(t))})}function ta(){var e=_e;qt(()=>{if(a(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&Ie)!==0&&Ye(r,gt),jt(r)&&Er(r),t.ran=!1}e.l.r2.v=!1}})}function qt(e){return Pt(br,e,!0)}function Y(e,t=[],r=Gt){const n=t.map(r);return ra(()=>e(...n.map(a)))}function ra(e,t=0){return Pt(br|_r|t,e,!0)}function Ht(e,t=!0){return Pt(br|ct,e,!0,t)}function Ja(e){var t=e.teardown;if(t!==null){const r=Yt,n=pe;pa(!0),Je(null);try{t.call(null)}finally{pa(r),Je(n)}}}function Ya(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Mt)!==0?r.parent=null:ht(r,t),r=n}}function ps(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&ct)===0&&ht(t),t=r}}function ht(e,t=!0){var r=!1;(t||(e.f&Kn)!==0)&&e.nodes_start!==null&&(hs(e.nodes_start,e.nodes_end),r=!0),Ya(e,t&&!r),dr(e,0),Ye(e,mr);var n=e.transitions;if(n!==null)for(const i of n)i.stop();Ja(e);var s=e.parent;s!==null&&s.first!==null&&Ka(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function hs(e,t){for(;e!==null;){var r=e===t?null:kr(e);e.remove(),e=r}}function Ka(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function or(e,t){var r=[];aa(e,r,!0),Za(r,()=>{ht(e),t&&t()})}function Za(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function aa(e,t,r){if((e.f&lt)===0){if(e.f^=lt,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var s=n.next,i=(n.f&yr)!==0||(n.f&ct)!==0;aa(n,t,i?r:!1),n=s}}}function cr(e){Qa(e,!0)}function Qa(e,t){if((e.f&lt)!==0){e.f^=lt,(e.f&Ie)===0&&(e.f^=Ie),jt(e)&&(Ye(e,rt),Cr(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&yr)!==0||(r.f&ct)!==0;Qa(r,s?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let vr=[];function gs(){var e=vr;vr=[],Mr(e)}function zt(e){vr.length===0&&queueMicrotask(gs),vr.push(e)}let ar=!1,Ur=!1,ur=null,_t=!1,Yt=!1;function pa(e){Yt=e}let nr=[];let pe=null,tt=!1;function Je(e){pe=e}let fe=null;function at(e){fe=e}let Oe=null;function bs(e){pe!==null&&pe.f&Pr&&(Oe===null?Oe=[e]:Oe.push(e))}let Le=null,Me=0,$e=null;function _s(e){$e=e}let Xa=1,fr=0,pt=!1;function en(){return++Xa}function jt(e){var d;var t=e.f;if((t&rt)!==0)return!0;if((t&gt)!==0){var r=e.deps,n=(t&je)!==0;if(r!==null){var s,i,l=(t&lr)!==0,v=n&&fe!==null&&!pt,o=r.length;if(l||v){var c=e,g=c.parent;for(s=0;s<o;s++)i=r[s],(l||!((d=i==null?void 0:i.reactions)!=null&&d.includes(c)))&&(i.reactions??(i.reactions=[])).push(c);l&&(c.f^=lr),v&&g!==null&&(g.f&je)===0&&(c.f^=je)}for(s=0;s<o;s++)if(i=r[s],jt(i)&&Ha(i),i.wv>e.wv)return!0}(!n||fe!==null&&!pt)&&Ye(e,Ie)}return!1}function ms(e,t){for(var r=t;r!==null;){if((r.f&ir)!==0)try{r.fn(e);return}catch{r.f^=ir}r=r.parent}throw ar=!1,e}function ha(e){return(e.f&mr)===0&&(e.parent===null||(e.parent.f&ir)===0)}function Sr(e,t,r,n){if(ar){if(r===null&&(ar=!1),ha(t))throw e;return}if(r!==null&&(ar=!0),ms(e,t),ha(t))throw e}function tn(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];Oe!=null&&Oe.includes(e)||((i.f&Qe)!==0?tn(i,t,!1):t===i&&(r?Ye(i,rt):(i.f&Ie)!==0&&Ye(i,gt),Cr(i)))}}function rn(e){var b;var t=Le,r=Me,n=$e,s=pe,i=pt,l=Oe,v=_e,o=tt,c=e.f;Le=null,Me=0,$e=null,pt=(c&je)!==0&&(tt||!_t||pe===null),pe=(c&(ct|Mt))===0?e:null,Oe=null,ga(e.ctx),tt=!1,fr++,e.f|=Pr;try{var g=(0,e.fn)(),d=e.deps;if(Le!==null){var u;if(dr(e,Me),d!==null&&Me>0)for(d.length=Me+Le.length,u=0;u<Le.length;u++)d[Me+u]=Le[u];else e.deps=d=Le;if(!pt)for(u=Me;u<d.length;u++)((b=d[u]).reactions??(b.reactions=[])).push(e)}else d!==null&&Me<d.length&&(dr(e,Me),d.length=Me);if(Kt()&&$e!==null&&!tt&&d!==null&&(e.f&(Qe|gt|rt))===0)for(u=0;u<$e.length;u++)tn($e[u],e);return s!==null&&s!==e&&(fr++,$e!==null&&(n===null?n=$e:n.push(...$e))),g}finally{Le=t,Me=r,$e=n,pe=s,pt=i,Oe=l,ga(v),tt=o,e.f^=Pr}}function ys(e,t){let r=t.reactions;if(r!==null){var n=$n.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&Qe)!==0&&(Le===null||!Le.includes(t))&&(Ye(t,gt),(t.f&(je|lr))===0&&(t.f^=lr),$a(t),dr(t,0))}function dr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)ys(e,r[n])}function Er(e){var t=e.f;if((t&mr)===0){Ye(e,Ie);var r=fe,n=_e,s=_t;fe=e,_t=!0;try{(t&_r)!==0?ps(e):Ya(e),Ja(e);var i=rn(e);e.teardown=typeof i=="function"?i:null,e.wv=Xa;var l=e.deps,v;va&&On&&e.f&rt}catch(o){Sr(o,e,r,n||e.ctx)}finally{_t=s,fe=r}}}function ws(){try{rs()}catch(e){if(ur!==null)Sr(e,ur,null);else throw e}}function ks(){var e=_t;try{var t=0;for(_t=!0;nr.length>0;){t++>1e3&&ws();var r=nr,n=r.length;nr=[];for(var s=0;s<n;s++){var i=Ss(r[s]);xs(i)}Wt.clear()}}finally{Ur=!1,_t=e,ur=null}}function xs(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(mr|lt))===0)try{jt(n)&&(Er(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Ka(n):n.fn=null))}catch(s){Sr(s,n,null,n.ctx)}}}function Cr(e){Ur||(Ur=!0,queueMicrotask(ks));for(var t=ur=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Mt|ct))!==0){if((r&Ie)===0)return;t.f^=Ie}}nr.push(t)}function Ss(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(ct|Mt))!==0,i=s&&(n&Ie)!==0;if(!i&&(n&lt)===0){if((n&Ba)!==0)t.push(r);else if(s)r.f^=Ie;else try{jt(r)&&Er(r)}catch(o){Sr(o,r,null,r.ctx)}var l=r.first;if(l!==null){r=l;continue}}var v=r.parent;for(r=r.next;r===null&&v!==null;)r=v.next,v=v.parent}return t}function a(e){var t=e.f,r=(t&Qe)!==0;if(pe!==null&&!tt){if(!(Oe!=null&&Oe.includes(e))){var n=pe.deps;e.rv<fr&&(e.rv=fr,Le===null&&n!==null&&n[Me]===e?Me++:Le===null?Le=[e]:(!pt||!Le.includes(e))&&Le.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&(i.f&je)===0&&(s.f^=je)}return r&&(s=e,jt(s)&&Ha(s)),Yt&&Wt.has(e)?Wt.get(e):e.v}function Xe(e){var t=tt;try{return tt=!0,e()}finally{tt=t}}const Es=-7169;function Ye(e,t){e.f=e.f&Es|t}function Cs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ot in e)qr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&ot in r&&qr(r)}}}function qr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{qr(e[n],t)}catch{}const r=Xr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=za(r);for(let s in n){const i=n[s].get;if(i)try{i.call(e)}catch{}}}}}const Wt=new Map;function Jt(e,t){var r={f:0,v:e,reactions:null,equals:Fa,rv:0,wv:0};return r}function Ee(e,t){const r=Jt(e);return bs(r),r}function P(e,t=!1){var n;const r=Jt(e);return t||(r.equals=ea),Dt&&_e!==null&&_e.l!==null&&((n=_e.l).s??(n.s=[])).push(r),r}function vt(e,t){return p(e,Xe(()=>a(e))),t}function p(e,t,r=!1){pe!==null&&!tt&&Kt()&&(pe.f&(Qe|_r))!==0&&!(Oe!=null&&Oe.includes(e))&&is();let n=r?Pe(t):t;return jr(e,n)}function jr(e,t){if(!e.equals(t)){var r=e.v;Yt?Wt.set(e,t):Wt.set(e,r),e.v=t,(e.f&Qe)!==0&&((e.f&rt)!==0&&Ga(e),Ye(e,(e.f&je)===0?Ie:gt)),e.wv=en(),an(e,rt),Kt()&&fe!==null&&(fe.f&Ie)!==0&&(fe.f&(ct|Mt))===0&&($e===null?_s([e]):$e.push(e))}return t}function an(e,t){var r=e.reactions;if(r!==null)for(var n=Kt(),s=r.length,i=0;i<s;i++){var l=r[i],v=l.f;(v&rt)===0&&(!n&&l===fe||(Ye(l,t),(v&(Ie|je))!==0&&((v&Qe)!==0?an(l,gt):Cr(l))))}}let _e=null;function ga(e){_e=e}function Re(e,t=!1,r){var n=_e={p:_e,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Dt&&!t&&(_e.l={s:null,u:null,r1:[],r2:Jt(!1)}),xr(()=>{n.d=!0})}function Ne(e){const t=_e;if(t!==null){const l=t.e;if(l!==null){var r=fe,n=pe;t.e=null;try{for(var s=0;s<l.length;s++){var i=l[s];at(i.effect),Je(i.reaction),Ut(i.fn)}}finally{at(r),Je(n)}}_e=t.p,t.m=!0}return{}}function Kt(){return!Dt||_e!==null&&_e.l===null}const As=["touchstart","touchmove"];function Ts(e){return As.includes(e)}let ba=!1;function Ls(){ba||(ba=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function na(e){var t=pe,r=fe;Je(null),at(null);try{return e()}finally{Je(t),at(r)}}function sa(e,t,r,n=r){e.addEventListener(t,()=>na(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),Ls()}const nn=new Set,Fr=new Set;function Os(e,t,r,n={}){function s(i){if(n.capture||Vt.call(t,i),!i.cancelBubble)return na(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?zt(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function Q(e,t,r,n,s){var i={capture:n,passive:s},l=Os(e,t,r,i);(t===document.body||t===window||t===document)&&xr(()=>{t.removeEventListener(e,l,i)})}function Ar(e){for(var t=0;t<e.length;t++)nn.add(e[t]);for(var r of Fr)r(e)}function Vt(e){var E;var t=this,r=t.ownerDocument,n=e.type,s=((E=e.composedPath)==null?void 0:E.call(e))||[],i=s[0]||e.target,l=0,v=e.__root;if(v){var o=s.indexOf(v);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;o<=c&&(l=o)}if(i=s[l]||e.target,i!==t){Na(e,"currentTarget",{configurable:!0,get(){return i||r}});var g=pe,d=fe;Je(null),at(null);try{for(var u,b=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var C=i["__"+n];if(C!=null&&(!i.disabled||e.target===i))if(gr(C)){var[S,...m]=C;S.apply(i,[e,...m])}else C.call(i,e)}catch(x){u?b.push(x):u=x}if(e.cancelBubble||h===t||h===null)break;i=h}if(u){for(let x of b)queueMicrotask(()=>{throw x});throw u}}finally{e.__root=t,delete e.currentTarget,Je(g),at(d)}}}function sn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Bt(e,t){var r=fe;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function z(e,t){var r=(t&Ia)!==0,n=(t&Fn)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=sn(i?e:"<!>"+e),r||(s=st(s)));var l=n||Ua?document.importNode(s,!0):s.cloneNode(!0);if(r){var v=st(l),o=l.lastChild;Bt(v,o)}else Bt(l,l);return l}}function Zt(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&Ia)!==0,i=`<${r}>${n?e:"<!>"+e}</${r}>`,l;return()=>{if(!l){var v=sn(i),o=st(v);if(s)for(l=document.createDocumentFragment();st(o);)l.appendChild(st(o));else l=st(o)}var c=l.cloneNode(!0);if(s){var g=st(c),d=c.lastChild;Bt(g,d)}else Bt(c,c);return c}}function ce(e=""){{var t=wr(e+"");return Bt(t,t),t}}function mt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=wr();return e.append(t,r),Bt(t,r),e}function w(e,t){e!==null&&e.before(t)}let Vr=!0;function $(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Is(e,t){return Rs(e,t)}const At=new Map;function Rs(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:l=!0}){os();var v=new Set,o=d=>{for(var u=0;u<d.length;u++){var b=d[u];if(!v.has(b)){v.add(b);var h=Ts(b);t.addEventListener(b,Vt,{passive:h});var C=At.get(b);C===void 0?(document.addEventListener(b,Vt,{passive:h}),At.set(b,1)):At.set(b,C+1)}}};o(Qr(nn)),Fr.add(o);var c=void 0,g=ds(()=>{var d=r??t.appendChild(wr());return Ht(()=>{if(i){Re({});var u=_e;u.c=i}s&&(n.$$events=s),Vr=l,c=e(d,n)||{},Vr=!0,i&&Ne()}),()=>{var h;for(var u of v){t.removeEventListener(u,Vt);var b=At.get(u);--b===0?(document.removeEventListener(u,Vt),At.delete(u)):At.set(u,b)}Fr.delete(o),d!==r&&((h=d.parentNode)==null||h.removeChild(d))}});return Ns.set(c,g),c}let Ns=new WeakMap;function N(e,t,[r,n]=[0,0]){var s=e,i=null,l=null,v=Be,o=r>0?yr:0,c=!1;const g=(u,b=!0)=>{c=!0,d(b,u)},d=(u,b)=>{v!==(v=u)&&(v?(i?cr(i):b&&(i=Ht(()=>b(s))),l&&or(l,()=>{l=null})):(l?cr(l):b&&(l=Ht(()=>b(s,[r+1,n]))),i&&or(i,()=>{i=null})))};ra(()=>{c=!1,t(g),c||d(null,null)},o)}function Fe(e,t){return t}function zs(e,t,r,n){for(var s=[],i=t.length,l=0;l<i;l++)aa(t[l].e,s,!0);var v=i>0&&s.length===0&&r!==null;if(v){var o=r.parentNode;cs(o),o.append(r),n.clear(),ut(e,t[0].prev,t[i-1].next)}Za(s,()=>{for(var c=0;c<i;c++){var g=t[c];v||(n.delete(g.k),ut(e,g.prev,g.next)),ht(g.e,!v)}})}function Ve(e,t,r,n,s,i=null){var l=e,v={flags:t,items:new Map,first:null},o=(t&Oa)!==0;if(o){var c=e;l=c.appendChild(wr())}var g=null,d=!1,u=He(()=>{var b=r();return gr(b)?b:b==null?[]:Qr(b)});ra(()=>{var b=a(u),h=b.length;d&&h===0||(d=h===0,Bs(b,v,l,s,t,n,r),i!==null&&(h===0?g?cr(g):g=Ht(()=>i(l)):g!==null&&or(g,()=>{g=null})),a(u))})}function Bs(e,t,r,n,s,i,l){var Z,W,te,R;var v=(s&Rn)!==0,o=(s&(Kr|Zr))!==0,c=e.length,g=t.items,d=t.first,u=d,b,h=null,C,S=[],m=[],E,x,k,y;if(v)for(y=0;y<c;y+=1)E=e[y],x=i(E,y),k=g.get(x),k!==void 0&&((Z=k.a)==null||Z.measure(),(C??(C=new Set)).add(k));for(y=0;y<c;y+=1){if(E=e[y],x=i(E,y),k=g.get(x),k===void 0){var L=u?u.e.nodes_start:r;h=Ms(L,t,h,h===null?t.first:h.next,E,x,y,n,s,l),g.set(x,h),S=[],m=[],u=h.next;continue}if(o&&Ds(k,E,y,s),(k.e.f&lt)!==0&&(cr(k.e),v&&((W=k.a)==null||W.unfix(),(C??(C=new Set)).delete(k))),k!==u){if(b!==void 0&&b.has(k)){if(S.length<m.length){var T=m[0],B;h=T.prev;var F=S[0],ae=S[S.length-1];for(B=0;B<S.length;B+=1)_a(S[B],T,r);for(B=0;B<m.length;B+=1)b.delete(m[B]);ut(t,F.prev,ae.next),ut(t,h,F),ut(t,ae,T),u=T,h=ae,y-=1,S=[],m=[]}else b.delete(k),_a(k,u,r),ut(t,k.prev,k.next),ut(t,k,h===null?t.first:h.next),ut(t,h,k),h=k;continue}for(S=[],m=[];u!==null&&u.k!==x;)(u.e.f&lt)===0&&(b??(b=new Set)).add(u),m.push(u),u=u.next;if(u===null)continue;k=u}S.push(k),h=k,u=k.next}if(u!==null||b!==void 0){for(var X=b===void 0?[]:Qr(b);u!==null;)(u.e.f&lt)===0&&X.push(u),u=u.next;var ne=X.length;if(ne>0){var se=(s&Oa)!==0&&c===0?r:null;if(v){for(y=0;y<ne;y+=1)(te=X[y].a)==null||te.measure();for(y=0;y<ne;y+=1)(R=X[y].a)==null||R.fix()}zs(t,X,se,g)}}v&&zt(()=>{var G;if(C!==void 0)for(k of C)(G=k.a)==null||G.apply()}),fe.first=t.first&&t.first.e,fe.last=h&&h.e}function Ds(e,t,r,n){(n&Kr)!==0&&jr(e.v,t),(n&Zr)!==0?jr(e.i,r):e.i=r}function Ms(e,t,r,n,s,i,l,v,o,c){var g=(o&Kr)!==0,d=(o&Nn)===0,u=g?d?P(s):Jt(s):s,b=(o&Zr)===0?l:Jt(l),h={i:b,v:u,k:i,a:null,e:null,prev:r,next:n};try{return h.e=Ht(()=>v(e,u,b,c),ls),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function _a(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var l=kr(i);s.before(i),i=l}}function ut(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ln(e,t,r,n,s){var v;var i=(v=t.$$slots)==null?void 0:v[r],l=!1;i===!0&&(i=t.children,l=!0),i===void 0||i(e,l?()=>n:n)}function on(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=on(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ps(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=on(e))&&(n&&(n+=" "),n+=t);return n}function Us(e){return typeof e=="object"?Ps(e):e??""}const ma=[...` 	
\r\f \v\uFEFF`];function qs(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,l=0;(l=n.indexOf(s,l))>=0;){var v=l+i;(l===0||ma.includes(n[l-1]))&&(v===n.length||ma.includes(n[v]))?n=(l===0?"":n.substring(0,l))+n.substring(v+1):l=v}}return n===""?null:n}function ya(e,t=!1){var r=t?" !important;":";",n="";for(var s in e){var i=e[s];i!=null&&i!==""&&(n+=" "+s+": "+i+r)}return n}function Ir(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function js(e,t){if(t){var r="",n,s;if(Array.isArray(t)?(n=t[0],s=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,l=0,v=!1,o=[];n&&o.push(...Object.keys(n).map(Ir)),s&&o.push(...Object.keys(s).map(Ir));var c=0,g=-1;const C=e.length;for(var d=0;d<C;d++){var u=e[d];if(v?u==="/"&&e[d-1]==="*"&&(v=!1):i?i===u&&(i=!1):u==="/"&&e[d+1]==="*"?v=!0:u==='"'||u==="'"?i=u:u==="("?l++:u===")"&&l--,!v&&i===!1&&l===0){if(u===":"&&g===-1)g=d;else if(u===";"||d===C-1){if(g!==-1){var b=Ir(e.substring(c,g).trim());if(!o.includes(b)){u!==";"&&d++;var h=e.substring(c,d).trim();r+=" "+h+";"}}c=d+1,g=-1}}}}return n&&(r+=ya(n)),s&&(r+=ya(s,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function be(e,t,r,n,s,i){var l=e.__className;if(l!==r||l===void 0){var v=qs(r,n,i);v==null?e.removeAttribute("class"):e.className=v,e.__className=r}else if(i&&s!==i)for(var o in i){var c=!!i[o];(s==null||c!==!!s[o])&&e.classList.toggle(o,c)}return i}function Rr(e,t={},r,n){for(var s in r){var i=r[s];t[s]!==i&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,n))}}function Rt(e,t,r,n){var s=e.__style;if(s!==t){var i=js(t,n);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}else n&&(Array.isArray(n)?(Rr(e,r==null?void 0:r[0],n[0]),Rr(e,r==null?void 0:r[1],n[1],"important")):Rr(e,r,n));return n}const Fs=Symbol("is custom element"),Vs=Symbol("is html");function Lt(e,t){var r=ia(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function ft(e,t){var r=ia(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function De(e,t,r,n){var s=ia(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[Qn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&$s(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ia(e){return e.__attributes??(e.__attributes={[Fs]:e.nodeName.includes("-"),[Vs]:e.namespaceURI===Vn})}var wa=new Map;function $s(e){var t=wa.get(e.nodeName);if(t)return t;wa.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=za(n);for(var i in r)r[i].set&&t.push(i);n=Xr(n)}return t}const Gs=()=>performance.now(),it={tick:e=>requestAnimationFrame(e),now:()=>Gs(),tasks:new Set};function cn(){const e=it.now();it.tasks.forEach(t=>{t.c(e)||(it.tasks.delete(t),t.f())}),it.tasks.size!==0&&it.tick(cn)}function Hs(e){let t;return it.tasks.size===0&&it.tick(cn),{promise:new Promise(r=>{it.tasks.add(t={c:e,f:r})}),abort(){it.tasks.delete(t)}}}function er(e,t){na(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ws(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ka(e){const t={},r=e.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const l=Ws(s.trim());t[l]=i.trim()}return t}const Js=e=>e;function tr(e,t,r,n){var s=(e&Un)!==0,i=(e&qn)!==0,l=s&&i,v=(e&jn)!==0,o=l?"both":s?"in":"out",c,g=t.inert,d=t.style.overflow,u,b;function h(){var x=pe,k=fe;Je(null),at(null);try{return c??(c=r()(t,(n==null?void 0:n())??{},{direction:o}))}finally{Je(x),at(k)}}var C={is_global:v,in(){var x;if(t.inert=g,!s){b==null||b.abort(),(x=b==null?void 0:b.reset)==null||x.call(b);return}i||u==null||u.abort(),er(t,"introstart"),u=$r(t,h(),b,1,()=>{er(t,"introend"),u==null||u.abort(),u=c=void 0,t.style.overflow=d})},out(x){if(!i){x==null||x(),c=void 0;return}t.inert=!0,er(t,"outrostart"),b=$r(t,h(),u,0,()=>{er(t,"outroend"),x==null||x()})},stop:()=>{u==null||u.abort(),b==null||b.abort()}},S=fe;if((S.transitions??(S.transitions=[])).push(C),s&&Vr){var m=v;if(!m){for(var E=S.parent;E&&(E.f&yr)!==0;)for(;(E=E.parent)&&(E.f&_r)===0;);m=!E||(E.f&Da)!==0}m&&Ut(()=>{Xe(()=>C.in())})}}function $r(e,t,r,n,s){var i=n===1;if(Wn(t)){var l,v=!1;return zt(()=>{if(!v){var S=t({direction:i?"in":"out"});l=$r(e,S,r,n,s)}}),{abort:()=>{v=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return s(),{abort:Ze,deactivate:Ze,reset:Ze,t:()=>n};const{delay:o=0,css:c,tick:g,easing:d=Js}=t;var u=[];if(i&&r===void 0&&(g&&g(0,1),c)){var b=ka(c(0,1));u.push(b,b)}var h=()=>1-n,C=e.animate(u,{duration:o});return C.onfinish=()=>{var S=(r==null?void 0:r.t())??1-n;r==null||r.abort();var m=n-S,E=t.duration*Math.abs(m),x=[];if(E>0){var k=!1;if(c)for(var y=Math.ceil(E/16.666666666666668),L=0;L<=y;L+=1){var T=S+m*d(L/y),B=ka(c(T,1-T));x.push(B),k||(k=B.overflow==="hidden")}k&&(e.style.overflow="hidden"),h=()=>{var F=C.currentTime;return S+m*d(F/E)},g&&Hs(()=>{if(C.playState!=="running")return!1;var F=h();return g(F,1-F),!0})}C=e.animate(x,{duration:E,fill:"forwards"}),C.onfinish=()=>{h=()=>n,g==null||g(n,1-n),s()}},{abort:()=>{C&&(C.cancel(),C.effect=null,C.onfinish=Ze)},deactivate:()=>{s=Ze},reset:()=>{n===0&&(g==null||g(1,0))},t:()=>h()}}function Ot(e,t,r=t){var n=Kt();sa(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=zr(e)?Br(i):i,r(i),n&&i!==(i=t())){var l=e.selectionStart,v=e.selectionEnd;e.value=i??"",v!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(v,e.value.length))}}),Xe(t)==null&&e.value&&r(zr(e)?Br(e.value):e.value),qt(()=>{var s=t();zr(e)&&s===Br(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}const Nr=new Set;function vn(e,t,r,n,s=n){var i=r.getAttribute("type")==="checkbox",l=e;if(t!==null)for(var v of t)l=l[v]??(l[v]=[]);l.push(r),sa(r,"change",()=>{var o=r.__value;i&&(o=Ys(l,o,r.checked)),s(o)},()=>s(i?[]:null)),qt(()=>{var o=n();i?(o=o||[],r.checked=o.includes(r.__value)):r.checked=Pa(r.__value,o)}),xr(()=>{var o=l.indexOf(r);o!==-1&&l.splice(o,1)}),Nr.has(l)||(Nr.add(l),zt(()=>{l.sort((o,c)=>o.compareDocumentPosition(c)===4?-1:1),Nr.delete(l)})),zt(()=>{})}function Ys(e,t,r){for(var n=new Set,s=0;s<e.length;s+=1)e[s].checked&&n.add(e[s].__value);return r||n.delete(t),Array.from(n)}function zr(e){var t=e.type;return t==="number"||t==="range"}function Br(e){return e===""?null:+e}function un(e,t,r){if(e.multiple)return Qs(e,t);for(var n of e.options){var s=$t(n);if(Pa(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ks(e,t){Ut(()=>{var r=new MutationObserver(()=>{var n=e.__value;un(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Zs(e,t,r=t){var n=!0;sa(e,"change",s=>{var i=s?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),$t);else{var v=e.querySelector(i)??e.querySelector("option:not([disabled])");l=v&&$t(v)}r(l)}),Ut(()=>{var s=t();if(un(e,s,n),n&&s===void 0){var i=e.querySelector(":checked");i!==null&&(s=$t(i),r(s))}e.__value=s,n=!1}),Ks(e)}function Qs(e,t){for(var r of e.options)r.selected=~t.indexOf($t(r))}function $t(e){return"__value"in e?e.__value:e.value}function xa(e,t){return e===t||(e==null?void 0:e[ot])===t}function Gr(e={},t,r,n){return Ut(()=>{var s,i;return qt(()=>{s=i,i=[],Xe(()=>{e!==r(...i)&&(t(e,...i),s&&xa(r(...s),e)&&t(null,...s))})}),()=>{zt(()=>{i&&xa(r(...i),e)&&t(null,...i)})}}),e}function Sa(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Xs(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function et(e=!1){const t=_e,r=t.l.u;if(!r)return;let n=()=>Cs(t.s);if(e){let s=0,i={};const l=Gt(()=>{let v=!1;const o=t.s;for(const c in o)o[c]!==i[c]&&(i[c]=o[c],v=!0);return v&&s++,s});n=()=>a(l)}r.b.length&&fs(()=>{Ea(t,n),Mr(r.b)}),Nt(()=>{const s=Xe(()=>r.m.map(Jn));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&Nt(()=>{Ea(t,n),Mr(r.a)})}function Ea(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}function Ca(e,t){var i;var r=(i=e.$$events)==null?void 0:i[t.type],n=gr(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function nt(e){_e===null&&Ra(),Dt&&_e.l!==null?ei(_e).m.push(e):Nt(()=>{const t=Xe(e);if(typeof t=="function")return t})}function Tr(e){_e===null&&Ra(),nt(()=>()=>Xe(e))}function ei(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function fn(e,t,r){if(e==null)return t(void 0),Ze;const n=Xe(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Tt=[];function dn(e,t=Ze){let r=null;const n=new Set;function s(v){if(Va(e,v)&&(e=v,r)){const o=!Tt.length;for(const c of n)c[1](),Tt.push(c,e);if(o){for(let c=0;c<Tt.length;c+=2)Tt[c][0](Tt[c+1]);Tt.length=0}}}function i(v){s(v(e))}function l(v,o=Ze){const c=[v,o];return n.add(c),n.size===1&&(r=t(s,i)||Ze),v(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:l}}function bt(e){let t;return fn(e,r=>t=r)(),t}let rr=!1,Hr=Symbol();function pn(e,t,r){const n=r[t]??(r[t]={store:null,source:P(void 0),unsubscribe:Ze});if(n.store!==e&&!(Hr in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Ze;else{var s=!0;n.unsubscribe=fn(e,i=>{s?n.source.v=i:p(n.source,i)}),s=!1}return e&&Hr in r?bt(e):a(n.source)}function hn(){const e={};function t(){xr(()=>{for(var r in e)e[r].unsubscribe();Na(e,Hr,{enumerable:!1,value:!0})})}return[e,t]}function ti(e){var t=rr;try{return rr=!1,[e(),rr]}finally{rr=t}}function Aa(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function We(e,t,r,n){var L;var s=(r&zn)!==0,i=!Dt||(r&Bn)!==0,l=(r&Mn)!==0,v=(r&Pn)!==0,o=!1,c;l?[c,o]=ti(()=>e[t]):c=e[t];var g=ot in e||Zn in e,d=l&&(((L=It(e,t))==null?void 0:L.set)??(g&&t in e&&(T=>e[t]=T)))||void 0,u=n,b=!0,h=!1,C=()=>(h=!0,b&&(b=!1,v?u=Xe(n):u=n),u);c===void 0&&n!==void 0&&(d&&i&&as(),c=C(),d&&d(c));var S;if(i)S=()=>{var T=e[t];return T===void 0?C():(b=!0,h=!1,T)};else{var m=(s?Gt:He)(()=>e[t]);m.f|=Yn,S=()=>{var T=a(m);return T!==void 0&&(u=void 0),T===void 0?u:T}}if((r&Dn)===0)return S;if(d){var E=e.$$legacy;return function(T,B){return arguments.length>0?((!i||!B||E||o)&&d(B?S():T),T):S()}}var x=!1,k=P(c),y=Gt(()=>{var T=S(),B=a(k);return x?(x=!1,B):k.v=T});return l&&a(y),s||(y.equals=ea),function(T,B){if(arguments.length>0){const F=B?a(y):i&&l?Pe(T):T;if(!y.equals(F)){if(x=!0,p(k,F),h&&u!==void 0&&(u=F),Aa(y))return T;Xe(()=>a(y))}return T}return Aa(y)?y.v:a(y)}}const Ae=dn({active:"default",backends:{default:{url:"/",token:null}}}),Ue=dn({isAuthenticated:!1,isAuthenticating:!1,authError:null});let Dr=!1;function la(){const e=bt(Ae);return e.backends[e.active]||e.backends.default}function Wr(){const e=la();return e.url==="/"?"":e.url}function Jr(){return la().token}function gn(e,t){Ae.update(r=>{var s;const n=((s=r.backends[e])==null?void 0:s.token)||null;return r.backends[e]={url:t,token:n},r})}async function pr(e){let t=!1;if(bt(Ae).active!==e){Ae.update(n=>(n.backends[e]&&(n.active=e),n));try{await Qt(),t=!0}catch(n){console.error("Error syncing auth state after backend change:",n)}}else t=!0;return t}function ri(e,t){Ae.update(r=>(r.backends[e]&&(r.backends[e].token=t),r)),e===bt(Ae).active&&Ue.update(r=>({...r,isAuthenticated:!!t,authError:null}))}async function qe(e,t={}){const r=Wr(),n=Jr(),s=e.startsWith("/")||e===""?e:`/${e}`,i=`${r}${s}`;return t.headers=t.headers||{},t.credentials="include",n&&!e.includes("/auth/login")&&(document.cookie.includes("AuthToken=")||(t.headers.Cookie=`AuthToken=${n}`),t.headers.Authorization=`Bearer ${n}`),fetch(i,t)}function Yr(e,t,r=console.error){const n=Wr(),s=Jr(),i=e.startsWith("/")||e===""?e:`/${e}`,l=n||window.location.origin,v=new URL(`${l}${i}`);s&&v.searchParams.set("token",s);let o=null,c=!0,g=bt(Ae).active;try{const d={withCredentials:!0};o=new EventSource(v.toString(),d),o.onmessage=b=>{try{const h=JSON.parse(b.data);t(h)}catch{t(b.data)}},o.onerror=b=>{o.readyState===EventSource.CLOSED&&Qt().catch(console.error),r(b),c&&!o&&setTimeout(()=>{if(c&&document.visibilityState!=="hidden")try{o=new EventSource(v.toString(),d)}catch(h){r(h)}},2e3)};const u=Ae.subscribe(b=>{c&&b.active!==g&&(console.log("The Backend changed, I am reconnecting a SSE connection"),g=b.active,o&&(o.close(),o=null),setTimeout(()=>{if(c)try{const h=Wr(),C=Jr(),S=new URL(`${h||window.location.origin}${i}`);C&&S.searchParams.set("token",C),o=new EventSource(S.toString(),d),o.onmessage=o.onmessage,o.onerror=o.onerror}catch(h){r(h)}},100))});return{close:()=>{o&&(o.close(),o=null),c=!1,u()}}}catch(d){return r(d),c=!1,{close:()=>{}}}}async function ai(e,t){Ue.update(r=>({...r,isAuthenticating:!0,authError:null}));try{const r=await qe("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:t})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Authentication failed")}const n=await r.json();return ri(bt(Ae).active,n.token),document.cookie=`AuthToken=${n.token}; path=/; max-age=${60*60*24}`,Ue.update(s=>({...s,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0}catch(r){return Ue.update(n=>({...n,isAuthenticated:!1,isAuthenticating:!1,authError:r.message})),!1}}async function Qt(){bt(Ae).active,la(),Ue.update(e=>({...e,isAuthenticating:!0}));try{const e=await qe("/api/v2/auth/check",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});return e.status===401?(Ue.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"Authentication required"})),!1):e.status===404?(Ue.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"endpoint not found"})),!1):e.ok?(Ue.update(t=>({...t,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0):(Ue.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:`API error: ${e.status} ${e.statusText}`})),!1)}catch(e){return console.warn("Auth check failed:",e),Ue.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:e.message||"Connection error"})),!1}}function bn(){var e,t,r;if(!Dr)try{const n=localStorage.getItem("ssui-backend-config");if(n){const i=JSON.parse(n),l={active:i.active&&((e=i.backends)!=null&&e[i.active])?i.active:"default",backends:{default:{url:"/",token:((r=(t=i.backends)==null?void 0:t.default)==null?void 0:r.token)||null}}};if(i.backends)for(const[v,o]of Object.entries(i.backends))v!=="default"&&(l.backends[v]={url:o.url,token:o.token||null});Ae.set(l)}const s=Ae.subscribe(i=>{try{localStorage.setItem("ssui-backend-config",JSON.stringify(i))}catch(l){console.error("Error saving backend config:",l)}});return Dr=!0,Qt().catch(console.error),s}catch(n){console.error("Error initializing API service:",n),Dr=!0}}const oa={forest:{name:"Forest Dark",properties:{"--bg-primary":"#1e1e1e","--bg-secondary":"#252526","--bg-tertiary":"#2d2d2d","--bg-hover":"#3c3c3c","--bg-active":"#3e4033","--text-primary":"#d4d4d4","--text-secondary":"#a9a9a9","--text-accent":"#6a9955","--text-warning":"#ce9178","--border-color":"#3e3e3e","--accent-primary":"#6a9955","--accent-secondary":"#4d7240","--accent-tertiary":"#5f7e52","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},vaxholmDark:{name:"Vaxholm Dark",properties:{"--bg-primary":"#121a12","--bg-secondary":"#1b2a1b","--bg-tertiary":"#243224","--bg-hover":"#2e3a2e","--bg-active":"#3a4a3a","--text-primary":"#d9e6d9","--text-secondary":"#a3b3a3","--text-accent":"#7a9a7a","--text-warning":"#c9a67a","--border-color":"#2a3a2a","--accent-primary":"#7a9a7a","--accent-secondary":"#5f7a5f","--accent-tertiary":"#6a8a6a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.5)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.6)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},archipelagoPastel:{name:"Archipelago Pastel",properties:{"--bg-primary":"#2e3b3e","--bg-secondary":"#3e4b4e","--bg-tertiary":"#4e5b5e","--bg-hover":"#5e6b6e","--bg-active":"#6e7b7e","--text-primary":"#dce7e7","--text-secondary":"#b0c0c0","--text-accent":"#a3c1ad","--text-warning":"#d9bba3","--border-color":"#4a5a5a","--accent-primary":"#a3c1ad","--accent-secondary":"#8bb394","--accent-tertiary":"#7aa383","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.25)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.35)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},colorblindFriendly:{name:"Colorblind Friendly",properties:{"--bg-primary":"#121212","--bg-secondary":"#1e1e1e","--bg-tertiary":"#2a2a2a","--bg-hover":"#383838","--bg-active":"#454545","--text-primary":"#ffffff","--text-secondary":"#bfbfbf","--text-accent":"#ffb300","--text-warning":"#ff3b3b","--border-color":"#666666","--accent-primary":"#ffb300","--accent-secondary":"#ffaa00","--accent-tertiary":"#cc8800","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.7)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.8)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},cyberpunkGlow:{name:"Cyberpunk Glow",properties:{"--bg-primary":"#0a0a23","--bg-secondary":"#1a1a3a","--bg-tertiary":"#2a2a5a","--bg-hover":"#3a3a7a","--bg-active":"#4a4a9a","--text-primary":"#e0e0ff","--text-secondary":"#a0a0ff","--text-accent":"#ff00ff","--text-warning":"#ff4d4d","--border-color":"#660066","--accent-primary":"#ff00ff","--accent-secondary":"#cc00cc","--accent-tertiary":"#990099","--shadow-light":"0 0 8px #ff00ff","--shadow-medium":"0 0 16px #ff00ff","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},v1Classic:{name:"Stationeers Server UI (Classic)",properties:{"--bg-primary":"#0a0a14","--bg-secondary":"#1b1b2f8f","--bg-tertiary":"#2a2a5a","--bg-hover":"#2a2a5a","--bg-active":"#4a4a9a","--text-primary":"#00fca9","--text-secondary":"#00fca9","--text-accent":"#00fca9","--text-warning":"#ff4d4d","--border-color":"#660066","--accent-primary":"#0eefa9","--accent-secondary":"#cc00cc","--accent-tertiary":"#990099","--shadow-light":"0 0 8px #0df2aa","--shadow-medium":"0 0 16px #0df2aa","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},lightArchipelago:{name:"Light Archipelago",properties:{"--bg-primary":"#f0f4f3","--bg-secondary":"#d9e4e1","--bg-tertiary":"#c0d1cd","--bg-hover":"#b0c4bf","--bg-active":"#a0b4af","--text-primary":"#2a3a33","--text-secondary":"#4a5a53","--text-accent":"#7a9a7a","--text-warning":"#c97a5a","--border-color":"#a0b0a8","--accent-primary":"#7a9a7a","--accent-secondary":"#5f7a5f","--accent-tertiary":"#6a8a6a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.1)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.15)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},oceanBreeze:{name:"Ocean Breeze",properties:{"--bg-primary":"#1a2a38","--bg-secondary":"#253545","--bg-tertiary":"#2f4055","--bg-hover":"#3a4c66","--bg-active":"#4a5c76","--text-primary":"#e0eaf0","--text-secondary":"#b0c0d0","--text-accent":"#68c1e8","--text-warning":"#f0ad4e","--border-color":"#456277","--accent-primary":"#68c1e8","--accent-secondary":"#4fa3ca","--accent-tertiary":"#3a89b0","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},sunsetGlow:{name:"Sunset Glow",properties:{"--bg-primary":"#272133","--bg-secondary":"#332940","--bg-tertiary":"#3e304d","--bg-hover":"#4b3a5d","--bg-active":"#57446d","--text-primary":"#f5e6ff","--text-secondary":"#d1b6e1","--text-accent":"#ff9e7a","--text-warning":"#ffcc66","--border-color":"#5d4970","--accent-primary":"#ff9e7a","--accent-secondary":"#e68a6a","--accent-tertiary":"#cc775a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.35)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.45)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},mintChocolate:{name:"Mint Chocolate",properties:{"--bg-primary":"#1e2721","--bg-secondary":"#26322a","--bg-tertiary":"#2e3d33","--bg-hover":"#38493e","--bg-active":"#425548","--text-primary":"#e0f0e8","--text-secondary":"#b0c5b8","--text-accent":"#7fe0c3","--text-warning":"#d9b382","--border-color":"#3d4940","--accent-primary":"#7fe0c3","--accent-secondary":"#58c4a3","--accent-tertiary":"#3ba483","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},lavenderFields:{name:"Lavender Fields",properties:{"--bg-primary":"#2b2440","--bg-secondary":"#352e4e","--bg-tertiary":"#3f385c","--bg-hover":"#4a426a","--bg-active":"#554c78","--text-primary":"#ece8ff","--text-secondary":"#c7c0e3","--text-accent":"#b28dff","--text-warning":"#ffad9c","--border-color":"#4d4566","--accent-primary":"#b28dff","--accent-secondary":"#9a77e0","--accent-tertiary":"#8360c6","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.35)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.45)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},nordAurora:{name:"Kirkeness",properties:{"--bg-primary":"#2e3440","--bg-secondary":"#3b4252","--bg-tertiary":"#434c5e","--bg-hover":"#4c566a","--bg-active":"#5e6779","--text-primary":"#eceff4","--text-secondary":"#d8dee9","--text-accent":"#88c0d0","--text-warning":"#ebcb8b","--border-color":"#4c566a","--accent-primary":"#88c0d0","--accent-secondary":"#81a1c1","--accent-tertiary":"#5e81ac","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.25)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.35)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}}},sr=Object.keys(oa);let Lr="forest";function hr(e){const t=oa[e];if(!t)return;Lr=e;const r=document.documentElement;Object.entries(t.properties).forEach(([n,s])=>{r.style.setProperty(n,s)}),localStorage.setItem("theme",e)}function ni(){const t=(sr.indexOf(Lr)+1)%sr.length;hr(sr[t])}function si(){return Lr}function ii(){return sr}function li(){const e=localStorage.getItem("theme");e&&oa[e]?hr(e):hr(Lr)}const Ta={initTheme:li,applyTheme:hr,nextTheme:ni,getCurrentTheme:si,getThemes:ii};var oi=z("<button> </button>"),ci=z('<span class="active-marker svelte-z1bun8">✓</span>'),vi=z('<div><div class="backend-info svelte-z1bun8"><span class="status-dot svelte-z1bun8"></span> <span class="backend-name svelte-z1bun8"> </span></div> <!></div>'),ui=z('<div class="backend-dropdown svelte-z1bun8"><div class="dropdown-header svelte-z1bun8"><h3 class="svelte-z1bun8">Select Backend</h3></div> <div class="dropdown-content svelte-z1bun8"></div></div>'),fi=z('<div class="user-dropdown svelte-z1bun8"><div class="user-dropdown-header svelte-z1bun8"><div class="user-info svelte-z1bun8"><div class="user-avatar large svelte-z1bun8">SA</div> <div class="user-details svelte-z1bun8"><div class="user-name svelte-z1bun8">Admin</div> <div class="user-email svelte-z1bun8">Superadmin</div></div></div></div> <div class="dropdown-content svelte-z1bun8"><div class="dropdown-item svelte-z1bun8"><span class="item-icon svelte-z1bun8">🌙</span> <span>Switch Theme</span></div> <div class="divider svelte-z1bun8"></div> <div class="dropdown-item logout svelte-z1bun8"><span class="item-icon svelte-z1bun8">🚪</span> <span>Logout & Reset Interface</span></div></div></div>'),di=z('<nav class="top-nav svelte-z1bun8"><div class="nav-left svelte-z1bun8"><div class="logo svelte-z1bun8"><span class="logo-icon svelte-z1bun8">⚙️</span> <span class="logo-text svelte-z1bun8">SSUI</span></div> <div class="nav-buttons svelte-z1bun8"></div></div> <div class="nav-right svelte-z1bun8"><div class="backend-selector svelte-z1bun8"><button class="backend-toggle svelte-z1bun8"><span class="status-indicator svelte-z1bun8"> </span> <span class="backend-label"> </span> <span class="dropdown-arrow svelte-z1bun8"> </span></button> <!></div> <div class="datetime svelte-z1bun8"><span class="date svelte-z1bun8"> </span> <span class="time svelte-z1bun8"> </span></div> <div class="user-menu-container svelte-z1bun8"><button class="user-button svelte-z1bun8"><span class="user-avatar svelte-z1bun8">SA</span></button> <!></div></div></nav>');function pi(e,t){Re(t,!1);const r=P(),n=P();let s=We(t,"views",24,()=>[]),i=We(t,"activeView",8,"dashboard"),l=We(t,"setActiveView",8),v=P(new Date),o=P(!1),c=P(!1),g=P([]),d=P(""),u=P({}),b,h,C;const S=Ae.subscribe(A=>{const V=Object.keys(A.backends),D=A.active,j=D!==a(d);p(g,V),p(d,D);const ee={...a(u)};a(g).forEach(ge=>{ge in ee||(ee[ge]={status:"unknown",lastChecked:null})}),p(u,ee),j&&a(d)&&(m(a(d)),E())});function m(A){if(!A||!a(g).includes(A))return;const V={...a(u)};V[A]={...V[A],status:"connecting"},p(u,V),clearTimeout(b),b=setTimeout(async()=>{try{const D=await qe("/api/v2/server/status"),j={...a(u)};D?j[A]={status:"connected",lastChecked:new Date,details:D}:j[A]={status:"error",lastChecked:new Date,details:D},p(u,j)}catch(D){const j={...a(u)};j[A]={status:"error",lastChecked:new Date,errorMessage:D.message},p(u,j)}},800)}function E(){h&&clearInterval(h),h=setInterval(()=>{if(a(d)){const A=a(d);m(A)}},1e4)}function x(){C=A=>{const V=document.querySelector(".backend-selector"),D=document.querySelector(".user-menu-container");V&&!V.contains(A.target)&&p(o,!1),D&&!D.contains(A.target)&&p(c,!1)},document.addEventListener("click",C)}nt(()=>{Ta.initTheme(),x();const A=setInterval(()=>{p(v,new Date)},6e4);return a(d)&&m(a(d)),E(),()=>{clearInterval(A),clearInterval(h),clearTimeout(b),S(),document.removeEventListener("click",C)}}),Tr(()=>{clearInterval(h),clearTimeout(b)});function k(A){A.stopPropagation(),p(o,!a(o)),a(o)&&p(c,!1)}function y(A){A.stopPropagation(),p(c,!a(c)),a(c)&&p(o,!1)}function L(A){if(A===a(d)){m(A),p(o,!1);return}pr(A),p(d,A),m(A),E(),p(o,!1)}async function T(){try{localStorage.removeItem("ssui-backend-config"),document.cookie="AuthToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",window.location.href="/login"}catch(A){console.error("Logout failed:",A),p(c,!1)}}function B(A){var D;switch(((D=a(u)[A])==null?void 0:D.status)||"unknown"){case"connected":return"🟢";case"connecting":return"🟠";case"error":return"🔴";default:return"⚪"}}function F(A,{duration:V=300}){return{duration:V,css:D=>`
        transform: translateY(${(1-D)*-10}px);
        opacity: ${D};
      `}}function ae(){Ta.nextTheme()}dt(()=>a(v),()=>{p(r,a(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}),dt(()=>a(v),()=>{p(n,a(v).toLocaleDateString([],{month:"short",day:"numeric"}))}),ta(),et();var X=di(),ne=f(X),se=f(ne),Z=_(se,2);Ve(Z,5,s,Fe,(A,V)=>{var D=oi(),j=f(D);Y(()=>{be(D,1,Us(i()===a(V).id?"active":""),"svelte-z1bun8"),$(j,a(V).name)}),Q("click",D,()=>l()(a(V).id)),w(A,D)});var W=_(ne,2),te=f(W),R=f(te),G=f(R),J=f(G),O=_(G,2),H=f(O),K=_(O,2),q=f(K),de=_(R,2);{var he=A=>{var V=ui(),D=_(f(V),2);Ve(D,5,()=>a(g),Fe,(j,ee)=>{var ge=vi(),oe=f(ge),ue=f(oe),le=_(ue,2),ke=f(le),re=_(oe,2);{var ie=ye=>{var ze=ci();w(ye,ze)};N(re,ye=>{a(ee)===a(d)&&ye(ie)})}Y(()=>{var ye,ze,Se;be(ge,1,`dropdown-item ${a(ee)===a(d)?"active":""}`,"svelte-z1bun8"),Rt(ue,`background-color: ${((ye=a(u)[a(ee)])==null?void 0:ye.status)==="connected"?"var(--accent-primary)":((ze=a(u)[a(ee)])==null?void 0:ze.status)==="connecting"?"var(--text-warning)":((Se=a(u)[a(ee)])==null?void 0:Se.status)==="error"?"var(--text-danger)":"var(--text-secondary)"}`),$(ke,a(ee))}),Q("click",ge,()=>L(a(ee))),w(j,ge)}),tr(1,V,()=>F,()=>({duration:150})),tr(2,V,()=>F,()=>({duration:150})),w(A,V)};N(de,A=>{a(o)&&A(he)})}var xe=_(te,2),we=f(xe),me=f(we),Ce=_(we,2),Te=f(Ce),M=_(xe,2),ve=f(M),I=_(ve,2);{var U=A=>{var V=fi(),D=_(f(V),2),j=f(D),ee=_(j,4);Q("click",j,ae),Q("click",ee,T),tr(1,V,()=>F,()=>({duration:150})),tr(2,V,()=>F,()=>({duration:150})),w(A,V)};N(I,A=>{a(c)&&A(U)})}Y(A=>{$(J,A),$(H,a(d)),$(q,a(o)?"▲":"▼"),$(me,a(n)),$(Te,a(r))},[()=>B(a(d))],He),Q("click",se,()=>l()("dashboard")),Q("click",R,k),Q("click",te,Sa(function(A){Ca.call(this,t,A)})),Q("click",ve,y),Q("click",M,Sa(function(A){Ca.call(this,t,A)})),w(e,X),Ne()}var hi=z('<button><span class="sidebar-icon svelte-14awm4t"><!></span> <span class="sidebar-text svelte-14awm4t"> </span></button>'),gi=z('<aside><div class="pin-container svelte-14awm4t"><button><!></button></div> <nav class="sidebar-nav svelte-14awm4t"></nav> <div class="sidebar-footer svelte-14awm4t"><div class="server-status svelte-14awm4t"><div class="status-indicator online svelte-14awm4t"></div> <span class="status-text svelte-14awm4t">Servers: 3 Online</span></div> <div class="memory-usage svelte-14awm4t"><div class="progress-bar svelte-14awm4t"><div class="progress svelte-14awm4t" style="width: 65%"></div></div> <span class="memory-text svelte-14awm4t">Memory: 65%</span></div></div></aside>');function bi(e,t){Re(t,!1);const r=P();let n=We(t,"views",24,()=>[]),s=We(t,"activeView",8,"dashboard"),i=We(t,"setActiveView",8),l=P(!1),v=P(!1);function o(){p(v,!a(v))}function c(){p(l,!0)}function g(){p(l,!1)}dt(()=>(a(l),a(v)),()=>{p(r,a(l)||a(v))}),ta(),et();var d=gi();let u;var b=f(d),h=f(b);let C;var S=f(h);{var m=k=>{var y=ce("📌");w(k,y)},E=k=>{var y=ce("📍");w(k,y)};N(S,k=>{a(v)?k(m):k(E,!1)})}var x=_(b,2);Ve(x,5,n,Fe,(k,y)=>{var L=hi();let T;var B=f(L),F=f(B);{var ae=Z=>{var W=ce("📊");w(Z,W)},X=(Z,W)=>{{var te=G=>{var J=ce("⚙️");w(G,J)},R=(G,J)=>{{var O=K=>{var q=ce("📝");w(K,q)},H=(K,q)=>{{var de=he=>{var xe=ce(">");w(he,xe)};N(K,he=>{a(y).icon==="terminal"&&he(de)},q)}};N(G,K=>{a(y).icon==="file-text"?K(O):K(H,!1)},J)}};N(Z,G=>{a(y).icon==="settings"?G(te):G(R,!1)},W)}};N(F,Z=>{a(y).icon==="grid"?Z(ae):Z(X,!1)})}var ne=_(B,2),se=f(ne);Y(Z=>{T=be(L,1,"sidebar-button svelte-14awm4t",null,T,Z),$(se,a(y).name)},[()=>({active:s()===a(y).id})],He),Q("click",L,()=>i()(a(y).id)),w(k,L)}),Y((k,y)=>{u=be(d,1,"sidebar svelte-14awm4t",null,u,k),C=be(h,1,"pin-button svelte-14awm4t",null,C,y)},[()=>({expanded:a(r)}),()=>({active:a(v)})],He),Q("click",h,o),Q("mouseenter",d,c),Q("mouseleave",d,g),w(e,d),Ne()}var _i=Zt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),mi=Zt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),yi=z('<div><div class="response-icon svelte-1b4j9ko"><!></div> <div class="response-text svelte-1b4j9ko"> </div></div>'),wi=z('<div class="card server-control svelte-1b4j9ko"><div class="button-group svelte-1b4j9ko"><button> </button> <button> </button></div> <!></div>');function ki(e,t){Re(t,!1);let r=P(!1),n=P(null),s=P(""),i=P(!1);async function l(m){p(r,!0),p(n,m),p(i,!1);try{const E=await qe(`/api/v2/server/${m}`,{method:"POST"}),x=await E.text();E.ok||p(i,!0),p(s,x)}catch(E){p(i,!0),p(s,"Failed to connect to server"),console.error("Error:",E)}finally{p(r,!1)}}et();var v=wi(),o=f(v),c=f(o);let g;var d=f(c),u=_(c,2);let b;var h=f(u),C=_(o,2);{var S=m=>{var E=yi(),x=f(E),k=f(x);{var y=F=>{var ae=_i();w(F,ae)},L=F=>{var ae=mi();w(F,ae)};N(k,F=>{a(i)?F(y):F(L,!1)})}var T=_(x,2),B=f(T);Y(()=>{be(E,1,`response-message ${a(i)?"error":"success"}`,"svelte-1b4j9ko"),$(B,a(s))}),w(m,E)};N(C,m=>{a(s)&&m(S)})}Y((m,E)=>{c.disabled=a(r),g=be(c,1,"start-button svelte-1b4j9ko",null,g,m),$(d,a(r)&&a(n)==="start"?"Starting...":"Start Server"),u.disabled=a(r),b=be(u,1,"stop-button svelte-1b4j9ko",null,b,E),$(h,a(r)&&a(n)==="stop"?"Stopping...":"Stop Server")},[()=>({active:a(n)==="start"&&!a(r)}),()=>({active:a(n)==="stop"&&!a(r)})],He),Q("click",c,()=>l("start")),Q("click",u,()=>l("stop")),w(e,v),Ne()}async function xi(e,t,r,n){p(t,!0),p(r,!1),p(n,"");try{const s=await qe("/api/v2/loader/reloadall",{method:"GET"});let i;try{i=await s.json()}catch{throw new Error("Invalid response format")}!s.ok||i.status!=="OK"?(p(r,!0),p(n,i.message||"Backend reload failed",!0)):p(n,"Backend reload triggered")}catch(s){p(r,!0),p(n,s.message||"Failed to connect to server",!0),console.error("Error:",s)}finally{p(t,!1)}}var Si=Zt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),Ei=Zt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),Ci=z('<div><div class="response-icon svelte-1bn0ayy"><!></div> <div class="response-text svelte-1bn0ayy"> </div></div>'),Ai=z('<div class="card reload-control svelte-1bn0ayy"><button> </button> <!></div>');function Ti(e,t){Re(t,!0);let r=Ee(!1),n=Ee(""),s=Ee(!1);var i=Ai(),l=f(i);l.__click=[xi,r,s,n];let v;Rt(l,"",{},{"background-color":"var(--bg-hover)"});var o=f(l),c=_(l,2);{var g=d=>{var u=Ci(),b=f(u),h=f(b);{var C=x=>{var k=Si();w(x,k)},S=x=>{var k=Ei();w(x,k)};N(h,x=>{a(s)?x(C):x(S,!1)})}var m=_(b,2),E=f(m);Y(()=>{be(u,1,`response-message ${a(s)?"error":"success"}`,"svelte-1bn0ayy"),$(E,a(n))}),w(d,u)};N(c,d=>{a(n)&&d(g)})}Y(d=>{l.disabled=a(r),v=be(l,1,"svelte-1bn0ayy",null,v,d),$(o,a(r)?"🕐 Reloading...":"🔃 Reload Backend")},[()=>({active:!a(r)})]),w(e,i),Ne()}Ar(["click"]);var Li=z('<div class="card quick-actions svelte-1a641ul"><div class="card-header svelte-1a641ul"><h3 class="svelte-1a641ul">Quick Actions</h3> <div class="card-icon svelte-1a641ul">⚡</div></div> <!> <div class="action-buttons svelte-1a641ul"><!></div></div>');function Oi(e){var t=Li(),r=_(f(t),2);ki(r,{});var n=_(r,2),s=f(n);Ti(s,{}),w(e,t)}var Ii=z('<div class="svelte-13trlk3"> </div>'),Ri=z('<div class="console-tab active svelte-13trlk3"><div class="console svelte-13trlk3"></div></div>'),Ni=z('<div><span class="event-timestamp svelte-13trlk3"> </span> <span class="svelte-13trlk3"> </span></div>'),zi=z('<div class="detection-tab active svelte-13trlk3"><div class="detection-console svelte-13trlk3"></div></div>'),Bi=z('<div class="console-view svelte-13trlk3"><div class="console-controls svelte-13trlk3"><div class="console-tabs svelte-13trlk3"><button>Console</button> <button>Detections</button></div> <button class="autoscroll-button svelte-13trlk3"> </button></div> <div class="tab-content svelte-13trlk3"><!></div></div>');function _n(e,t){Re(t,!1);let r=P(),n=P(),s=null,i=null,l=P("console-tab"),v=P(!0);const o=["Teaching AI to say 'please' and 'thank you'...","Calibrating interdimensional server relays...","Spinning up player fun generators...","Scanning for gremlins in the server room...","Brewing energy drinks for the GPU...","Charging up epic loot spawners...","Teaching AI to high-five players...","Polishing textures to a glossy finish...","Herding electrons into neat little rows...","Rebooting server dreams for the 42nd time...","Locating your character after that teleport glitch...","Converting lag into pure chaos, efficiently...","Convincing physics engine that walls are solid...","Calculating odds of your inventory vanishing...","Optimizing server ticks (fingers crossed)...","Syncing game world with cosmic clock...","Patching rips in the fabric of virtual reality...","Convincing server that 'uptime' is not a myth...","Mediating truce between CPU and lag spikes...","Compressing map data until the server squeaks...","Measuring distance to the next game-breaking bug...","Explaining 'netcode' to confused server pigeons...","Calculating chance of a crash (don’t ask)...","Corraling rogue packets back into the pipeline...","Sacrificing bandwidth to the frame-rate deities...","Raising sails!"];let c=P([]),g=P([]),d=P(!1);function u(R){p(l,R),R==="detection-tab"&&p(d,!1)}nt(async()=>{await b("Console initializing...");const R=Math.floor(Math.random()*o.length);h(o[R],"#0af","italic");let G;do G=Math.floor(Math.random()*o.length);while(G===R);h(o[G],"#0af","italic"),E(),x(),Math.random()<.5?(h("ERROR: Console was hacked by AI. Initiating counter-measure...","red"),setTimeout(()=>{h("Sequence complete. AI defeated. Continuing initialization...","green"),m()},1e3)):m()}),Tr(()=>{s&&(s.close(),s=null),i&&(i.close(),i=null)});async function b(R,G=30){let J=0;return new Promise(O=>{const H=setInterval(()=>{J<R.length?(p(c,[...a(c),{text:R.substring(0,++J),color:"white",style:"normal",isTyping:!0}]),p(c,a(c).slice(-1))):(clearInterval(H),p(c,a(c).filter(K=>!K.isTyping)),O())},G)})}function h(R,G="white",J="normal"){p(c,[...a(c),{text:R,color:G,style:J}]),a(v)&&setTimeout(()=>C(),50)}function C(){a(r)&&a(v)&&vt(r,a(r).scrollTop=a(r).scrollHeight)}function S(){a(n)&&a(v)&&vt(n,a(n).scrollTop=a(n).scrollHeight)}function m(){setTimeout(()=>{h("Console ready.🎮 Happy gaming! 🎮","#0f0"),a(v)&&setTimeout(C,50)},500)}function E(){s&&(s.close(),s=null),s=Yr("/console",R=>{h(R)},R=>{console.error("Console stream error:",R),s=null,h("Warning: Console stream unavailable. Retrying...","#ff0"),setTimeout(()=>{!s&&document.visibilityState!=="hidden"&&E()},2e3)})}function x(){i&&(i.close(),i=null),i=Yr("/events",R=>{const G=k(R),J=new Date().toLocaleTimeString();p(g,[...a(g),{timestamp:J,message:R,className:G}]),a(g).length>500&&p(g,a(g).slice(-500)),a(v)&&setTimeout(S,50),a(l)!=="detection-tab"&&p(d,!0)},R=>{console.error("Detection events stream error:",R),i=null,setTimeout(()=>{!i&&document.visibilityState!=="hidden"&&x()},2e3)})}function k(R){return R.includes("ERROR")||R.includes("FATAL")?"error":R.includes("WARNING")?"warning":R.includes("SUCCESS")?"success":"info"}function y(){p(v,!a(v)),a(v)&&(C(),S())}et();var L=Bi(),T=f(L),B=f(T),F=f(B),ae=_(F,2),X=_(B,2),ne=f(X),se=_(T,2),Z=f(se);{var W=R=>{var G=Ri(),J=f(G);Ve(J,5,()=>a(c),Fe,(O,H)=>{var K=Ii(),q=f(K);Y(()=>{Rt(K,`color: ${a(H).color??""}; font-style: ${a(H).style??""}`),$(q,a(H).text)}),w(O,K)}),Gr(J,O=>p(r,O),()=>a(r)),w(R,G)},te=R=>{var G=zi(),J=f(G);Ve(J,5,()=>a(g),Fe,(O,H)=>{var K=Ni(),q=f(K),de=f(q),he=_(q,2),xe=f(he);Y(()=>{be(K,1,`detection-event ${a(H).className??""}`,"svelte-13trlk3"),$(de,`${a(H).timestamp??""}:`),$(xe,a(H).message)}),w(O,K)}),Gr(J,O=>p(n,O),()=>a(n)),w(R,G)};N(Z,R=>{a(l)==="console-tab"?R(W):R(te,!1)})}Y(()=>{be(F,1,`tab-button ${a(l)==="console-tab"?"active":""}`,"svelte-13trlk3"),be(ae,1,`tab-button ${a(l)==="detection-tab"?"active":""} ${a(d)?"notification":""}`,"svelte-13trlk3"),De(X,"title",a(v)?"Disable Auto-scroll":"Enable Auto-scroll"),$(ne,a(v)?"⏬ Auto-scroll: ON":"⏫ Auto-scroll: OFF")}),Q("click",F,()=>u("console-tab")),Q("click",ae,()=>u("detection-tab")),Q("click",X,y),w(e,L),Ne()}var Di=z('<div class="card console-card wide svelte-4btkab"><!></div>');function Mi(e){var t=Di(),r=f(t);_n(r,{}),w(e,t)}var Pi=z('<div class="card activity-card svelte-r575vc"><div class="card-header svelte-r575vc"><h3 class="svelte-r575vc">Recent Activity</h3> <div class="card-icon svelte-r575vc">🔄</div></div> <div class="activity-list svelte-r575vc"><div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">2.0000003 min ago (±0.0001s sync drift)</div> <div class="activity-text svelte-r575vc">Task failed successfully</div></div> <div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">15 min ago (server tick #123456789)</div> <div class="activity-text svelte-r575vc">User "admin" logged in from planet Venus (wtf?)</div></div> <div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">3 decades ago (CPU cycles: 3.2e12)</div> <div class="activity-text svelte-r575vc">If not clear already, this is a mockup!</div></div></div> <button class="btn small svelte-r575vc">View All Activity Logs (42,069 entries)</button></div>');function Ui(e){var t=Pi();w(e,t)}var qi=z('<div class="error svelte-y3l85r"> </div> <button class="retry-button">Retry</button>',1),ji=z('<div class="resource-metrics svelte-y3l85r"><div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">System CPU Usage</div> <div class="metric-bar svelte-y3l85r"></div></div> <div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">Memory Consumption</div> <div class="metric-bar svelte-y3l85r"></div></div> <div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">Disk Space Unused</div> <div class="metric-bar svelte-y3l85r"></div></div></div> <div class="info-grid svelte-y3l85r"><div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">OS Version</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Kernel</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Uptime</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Backend IP Address</div> <div class="info-value svelte-y3l85r"> </div></div></div> <div class="info-grid svelte-y3l85r"><div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Last Refresh</div> <div class="info-value svelte-y3l85r"> </div></div></div>',1),Fi=z('<div class="loading svelte-y3l85r">Loading system information...</div>'),Vi=z('<div class="card info-card svelte-y3l85r"><div class="card-header svelte-y3l85r"><h3 class="svelte-y3l85r">System Information</h3> <div class="card-icon svelte-y3l85r">ℹ️</div></div> <!></div>');function $i(e,t){Re(t,!0);let r=Ee(null),n=Ee(null),s=Ee(null);async function i(){try{const g=await qe("/api/v2/osstats",{raw:!0}),d=await g.json();if(p(s,JSON.stringify({status:g.status,headers:Object.fromEntries(g.headers.entries()),body:d},null,2),!0),d&&typeof d=="object"&&Object.keys(d).length>0)p(r,{...d},!0),p(n,null);else throw new Error("Empty or invalid response data")}catch(g){p(n,`Failed to fetch system information: ${g.message}`),p(r,null),a(s)||p(s,`Error: ${g.message}
Stack: ${g.stack}`),console.error("Fetch error:",g)}}Nt(()=>{i();const g=setInterval(i,3e4);return()=>clearInterval(g)});var l=Vi(),v=_(f(l),2);{var o=g=>{var d=qi(),u=Ge(d),b=f(u),h=_(u,2);h.__click=i,Y(()=>$(b,a(n))),w(g,d)},c=(g,d)=>{{var u=h=>{var C=ji(),S=Ge(C),m=f(S),E=f(m),x=f(E),k=_(E,4),y=_(m,2),L=f(y),T=f(L),B=_(L,4),F=_(y,2),ae=f(F),X=f(ae),ne=_(ae,4),se=_(S,2),Z=f(se),W=_(f(Z),2),te=f(W),R=_(Z,2),G=_(f(R),2),J=f(G),O=_(R,2),H=_(f(O),2),K=f(H),q=_(O,2),de=_(f(q),2),he=f(de),xe=_(se,2),we=f(xe),me=_(f(we),2),Ce=f(me);Y((Te,M,ve,I)=>{$(x,`${Te??""}%`),Rt(k,`--value: ${(typeof a(r).cpuUsage=="number"?a(r).cpuUsage:0)??""}%; --color: var(--accent-primary);`),$(T,`${M??""} GB`),Rt(B,`--value: ${typeof a(r).memoryUsage=="number"?a(r).memoryUsage/1024*10:0}%; --color: var(--accent-secondary);`),$(X,`${ve??""}%`),Rt(ne,`--value: ${typeof a(r).diskUsage=="number"?100-a(r).diskUsage:0}%; --color: var(--accent-tertiary);`),$(te,`${a(r).osName||"Temple OS v3.14.15"} ${(a(r).osVersion||"")??""}`),$(J,a(r).kernel||"Cannot detect"),$(K,a(r).uptime||"Cannot detect"),$(he,a(r).backendIpAddress||"Cannot detect"),$(Ce,I)},[()=>typeof a(r).cpuUsage=="number"?a(r).cpuUsage.toFixed(2):"N/A",()=>typeof a(r).memoryUsage=="number"?(a(r).memoryUsage/1024).toFixed(2):"N/A",()=>typeof a(r).diskUsage=="number"?(100-a(r).diskUsage).toFixed(2):"N/A",()=>a(r).lastRefreshTime?new Date(a(r).lastRefreshTime).toLocaleString():"Cannot detect"]),w(h,C)},b=h=>{var C=Fi();w(h,C)};N(g,h=>{a(r)?h(u):h(b,!1)},d)}};N(v,g=>{a(n)?g(o):g(c,!1)})}w(e,l),Ne()}Ar(["click"]);var Gi=z('<div class="dashboard-grid svelte-kt223o"><!> <!> <!> <!></div>');function Hi(e){var t=Gi(),r=f(t);Oi(r);var n=_(r,2);$i(n,{});var s=_(n,2);Mi(s);var i=_(s,2);Ui(i),w(e,t)}var Wi=z("<button> </button>"),Ji=z('<input type="checkbox" class="svelte-1iyqb86">'),Yi=z('<input type="number" class="svelte-1iyqb86">'),Ki=z('<input type="text" class="svelte-1iyqb86">'),Zi=z('<textarea class="svelte-1iyqb86"></textarea>'),Qi=z('<input type="text" class="svelte-1iyqb86">'),Xi=z('<div class="setting-item svelte-1iyqb86"><label class="svelte-1iyqb86"><span> </span> <!></label> <div class="input-info svelte-1iyqb86"> </div></div>'),el=z('<div class="settings-group svelte-1iyqb86"><h3 class="svelte-1iyqb86"> </h3> <div class="channel-grid svelte-1iyqb86"></div></div>'),tl=z('<div><span class="status-icon svelte-1iyqb86"> </span> <span> </span> <button class="close-status svelte-1iyqb86">×</button></div>'),rl=z('<div class="settings-group-nav svelte-1iyqb86"></div> <!> <!>',1),al=z('<div class="loading-container svelte-1iyqb86"><div class="loading-spinner svelte-1iyqb86"></div> <p>Loading settings...</p></div>'),nl=z('<div class="settings-container svelte-1iyqb86"><h2 class="svelte-1iyqb86">General Settings</h2> <p class="settings-intro svelte-1iyqb86">Configure general application settings. Changes will be applied immediately.</p> <!></div>');function sl(e,t){Re(t,!1);let r=We(t,"activeSidebarTab",8),n=P([]),s=P([]),i=P(""),l=P(""),v=P(!1),o;nt(async()=>{await c()});async function c(){try{const m=await qe("/api/v2/settings"),{data:E,error:x}=await m.json();if(x){b(`Failed to load settings: ${x}`,!0);return}p(n,E),p(s,[...new Set(a(n).map(k=>k.group))]),a(s).length>0&&p(i,a(s)[0])}catch(m){b(`Error fetching settings: ${m.message}`,!0)}}function g(m){p(i,m)}async function d(m,E){try{const x=await qe("/api/v2/settings/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[m]:E})}),{status:k,message:y}=await x.json();if(k==="error"){b(`Failed to update ${m}: ${y}`,!0);return}b(`Updated ${m} successfully`,!1)}catch(x){b(`Error updating ${m}: ${x.message}`,!0)}}function u(m,E){const x=E.target;let k;if(m.type==="bool")k=x.checked;else if(m.type==="int"){if(k=x.value?parseInt(x.value):null,m.required&&!k){b(`Value for ${m.name} is required`,!0);return}}else if(m.type==="array")k=x.value?x.value.split(",").map(y=>y.trim()):[];else if(m.type==="map")try{k=JSON.parse(x.value)}catch(y){b(`Invalid JSON for ${m.name}: ${y.message}`,!0);return}else k=x.value;d(m.name,k)}function b(m,E){p(l,m),p(v,E),o&&clearTimeout(o),o=setTimeout(()=>{p(l,"")},3e4)}et();var h=mt(),C=Ge(h);{var S=m=>{var E=nl(),x=_(f(E),4);{var k=L=>{var T=rl(),B=Ge(T);Ve(B,5,()=>a(s),Fe,(ne,se)=>{var Z=Wi(),W=f(Z);Y(()=>{be(Z,1,`section-nav-button ${a(i)===a(se)?"active":""}`,"svelte-1iyqb86"),$(W,a(se))}),Q("click",Z,()=>g(a(se))),w(ne,Z)});var F=_(B,2);Ve(F,1,()=>a(s),Fe,(ne,se)=>{var Z=mt(),W=Ge(Z);{var te=R=>{var G=el(),J=f(G),O=f(J),H=_(J,2);Ve(H,5,()=>a(n).filter(K=>K.group===a(se)),Fe,(K,q)=>{var de=Xi(),he=f(de),xe=f(he),we=f(xe),me=_(xe,2);{var Ce=I=>{var U=Ji();Y(()=>{De(U,"id",a(q).name),ft(U,a(q).value===!0)}),Q("change",U,A=>u(a(q),A)),w(I,U)},Te=(I,U)=>{{var A=D=>{var j=Yi();Y(()=>{De(j,"id",a(q).name),Lt(j,a(q).value??""),De(j,"min",a(q).min),De(j,"max",a(q).max),j.required=a(q).required}),Q("change",j,ee=>u(a(q),ee)),w(D,j)},V=(D,j)=>{{var ee=oe=>{var ue=Ki();Y(le=>{De(ue,"id",a(q).name),Lt(ue,le)},[()=>{var le;return((le=a(q).value)==null?void 0:le.join(","))||""}],He),Q("change",ue,le=>u(a(q),le)),w(oe,ue)},ge=(oe,ue)=>{{var le=re=>{var ie=Zi();Y(ye=>{De(ie,"id",a(q).name),Lt(ie,ye)},[()=>JSON.stringify(a(q).value,null,2)||"{}"],He),Q("change",ie,ye=>u(a(q),ye)),w(re,ie)},ke=re=>{var ie=Qi();Y(()=>{De(ie,"id",a(q).name),Lt(ie,a(q).value||""),ie.required=a(q).required}),Q("change",ie,ye=>u(a(q),ye)),w(re,ie)};N(oe,re=>{a(q).type==="map"?re(le):re(ke,!1)},ue)}};N(D,oe=>{a(q).type==="array"?oe(ee):oe(ge,!1)},j)}};N(I,D=>{a(q).type==="int"?D(A):D(V,!1)},U)}};N(me,I=>{a(q).type==="bool"?I(Ce):I(Te,!1)})}var M=_(he,2),ve=f(M);Y(()=>{$(we,a(q).description),$(ve,a(q).description)}),w(K,de)}),Y(()=>$(O,a(se))),w(R,G)};N(W,R=>{a(i)===a(se)&&R(te)})}w(ne,Z)});var ae=_(F,2);{var X=ne=>{var se=tl();let Z;var W=f(se),te=f(W),R=_(W,2),G=f(R),J=_(R,2);Y(O=>{Z=be(se,1,"status-message svelte-1iyqb86",null,Z,O),$(te,a(v)?"⚠️":"✓"),$(G,a(l))},[()=>({error:a(v)})],He),Q("click",J,()=>p(l,"")),w(ne,se)};N(ae,ne=>{a(l)&&ne(X)})}w(L,T)},y=L=>{var T=al();w(L,T)};N(x,L=>{a(s).length>0?L(k):L(y,!1)})}w(m,E)};N(C,m=>{r()==="General"&&m(S)})}w(e,h),Ne()}var il=z('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p>Loading runfile configuration...</p></div>'),ll=z('<div class="empty-state svelte-f1rydd"><h3 class="svelte-f1rydd">No Runfile Groups Available</h3> <p>No configuration groups were found for this server type.</p></div>'),ol=z("<button> </button>"),cl=z('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p> </p></div>'),vl=z('<div class="empty-state svelte-f1rydd"><p>No configurable arguments found for this group.</p></div>'),ul=z('<input type="checkbox" class="svelte-f1rydd">'),fl=z('<input type="number" class="svelte-f1rydd">'),dl=z('<input type="text" class="svelte-f1rydd">'),pl=z('<div class="setting-item svelte-f1rydd"><label class="svelte-f1rydd"><span> </span> <!></label> <div class="input-info svelte-f1rydd"> </div></div>'),hl=z('<div class="channel-grid svelte-f1rydd"></div> <div class="form-actions svelte-f1rydd"><button class="save-button svelte-f1rydd"> </button></div>',1),gl=z('<div class="runfile-section svelte-f1rydd"><h3 class="svelte-f1rydd"> </h3> <!></div>'),bl=z('<div><span class="status-icon svelte-f1rydd"> </span> <span> </span> <button class="close-status svelte-f1rydd">×</button></div>'),_l=z('<div class="runfile-container svelte-f1rydd"><div class="runfile-group-nav svelte-f1rydd"></div> <!> <!></div>'),ml=z(`<div class="runfile-settings svelte-f1rydd"><h2 class="svelte-f1rydd">Runfile Configuration</h2> <p class="settings-intro svelte-f1rydd">Configure command line arguments that will be used when launching the game server.
      These settings are saved to a runfile that is used when the server is started.</p> <!></div>`);function yl(e,t){Re(t,!1);let r=P([]),n=P(""),s=P(""),i=P(!1),l,v=P([]),o=P(!0),c=P(!1);nt(async()=>{await g()});async function g(){p(o,!0);try{const y=await qe("/api/v2/runfile/groups"),{data:L,error:T}=await y.json();if(T){S(`Failed to load groups: ${T}`,!0);return}p(r,L),a(r).length>0&&await d(a(r)[0])}catch(y){S(`Error fetching runfile groups: ${y.message}`,!0)}finally{p(o,!1)}}async function d(y){p(o,!0),p(n,y),await u(y),p(o,!1)}async function u(y){try{const L=await qe(`/api/v2/runfile/args?group=${encodeURIComponent(y)}`),{data:T,error:B}=await L.json();if(B){S(`Failed to load args: ${B}`,!0);return}p(v,T)}catch(L){S(`Error fetching runfile args: ${L.message}`,!0)}}async function b(y,L){try{const T=await qe("/api/v2/runfile/args/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flag:y,value:L})}),{error:B}=await T.json();if(B){S(`Failed to update ${y}: ${B}`,!0);return}S(`Updated ${y} successfully`,!1)}catch(T){S(`Error updating ${y}: ${T.message}`,!0)}}function h(y,L){const T=L.target;let B;y.type==="bool"?B=T.checked.toString():B=T.value,b(y.flag,B)}async function C(){p(c,!0);try{const y=await qe("/api/v2/runfile/save",{method:"POST"}),{error:L}=await y.json();if(L){S(`Failed to save runfile: ${L}`,!0);return}S("Runfile saved successfully",!1)}catch(y){S(`Error saving runfile: ${y.message}`,!0)}finally{p(c,!1)}}function S(y,L){p(s,y),p(i,L),l&&clearTimeout(l),l=setTimeout(()=>{p(s,"")},3e4)}et();var m=ml(),E=_(f(m),4);{var x=y=>{var L=il();w(y,L)},k=(y,L)=>{{var T=F=>{var ae=ll();w(F,ae)},B=F=>{var ae=_l(),X=f(ae);Ve(X,5,()=>a(r),Fe,(R,G)=>{var J=ol(),O=f(J);Y(()=>{be(J,1,`section-nav-button ${a(n)===a(G)?"active":""}`,"svelte-f1rydd"),$(O,a(G))}),Q("click",J,()=>d(a(G))),w(R,J)});var ne=_(X,2);{var se=R=>{var G=cl(),J=_(f(G),2),O=f(J);Y(()=>$(O,`Loading ${a(n)??""} settings...`)),w(R,G)},Z=(R,G)=>{{var J=O=>{var H=gl(),K=f(H),q=f(K),de=_(K,2);{var he=we=>{var me=vl();w(we,me)},xe=we=>{var me=hl(),Ce=Ge(me);Ve(Ce,5,()=>a(v),Fe,(I,U)=>{var A=pl(),V=f(A),D=f(V),j=f(D),ee=_(D,2);{var ge=ke=>{var re=ul();Y(()=>{De(re,"id",a(U).flag),ft(re,a(U).runtime_value==="true"),re.disabled=a(U).disabled}),Q("change",re,ie=>h(a(U),ie)),w(ke,re)},oe=(ke,re)=>{{var ie=ze=>{var Se=fl();Y(()=>{De(Se,"id",a(U).flag),Lt(Se,a(U).runtime_value||""),De(Se,"min",a(U).min),De(Se,"max",a(U).max),Se.required=a(U).required,Se.disabled=a(U).disabled}),Q("change",Se,Ft=>h(a(U),Ft)),w(ze,Se)},ye=ze=>{var Se=dl();Y(()=>{De(Se,"id",a(U).flag),Lt(Se,a(U).runtime_value||""),Se.required=a(U).required,Se.disabled=a(U).disabled}),Q("change",Se,Ft=>h(a(U),Ft)),w(ze,Se)};N(ke,ze=>{a(U).type==="int"?ze(ie):ze(ye,!1)},re)}};N(ee,ke=>{a(U).type==="bool"?ke(ge):ke(oe,!1)})}var ue=_(V,2),le=f(ue);Y(()=>{$(j,a(U).ui_label||a(U).flag),$(le,a(U).description||"No description available")}),w(I,A)});var Te=_(Ce,2),M=f(Te),ve=f(M);Y(()=>{M.disabled=a(c),$(ve,a(c)?"Saving...":"Save All Changes")}),Q("click",M,C),w(we,me)};N(de,we=>{a(v).length===0?we(he):we(xe,!1)})}Y(()=>$(q,`${a(n)??""} GameServer Settings`)),w(O,H)};N(R,O=>{a(n)&&O(J)},G)}};N(ne,R=>{a(o)&&a(n)?R(se):R(Z,!1)})}var W=_(ne,2);{var te=R=>{var G=bl();let J;var O=f(G),H=f(O),K=_(O,2),q=f(K),de=_(K,2);Y(he=>{J=be(G,1,"status-message svelte-f1rydd",null,J,he),$(H,a(i)?"⚠️":"✓"),$(q,a(s))},[()=>({error:a(i)})],He),Q("click",de,()=>p(s,"")),w(R,G)};N(W,R=>{a(s)&&R(te)})}w(F,ae)};N(y,F=>{a(r).length===0?F(T):F(B,!1)},L)}};N(E,y=>{a(o)&&a(r).length===0?y(x):y(k,!1)})}w(e,m),Ne()}var wl=z('<span class="status-timestamp svelte-okzcno"> </span>'),kl=z('<button class="action-button danger svelte-okzcno">Remove</button>'),xl=z('<div class="backend-item svelte-okzcno"><div class="backend-info svelte-okzcno"><h3 class="svelte-okzcno"> </h3> <p class="svelte-okzcno"> </p></div> <div class="backend-status svelte-okzcno"><label class="status-toggle svelte-okzcno"><input type="radio" name="activeBackend"> <span class="status-label svelte-okzcno"> </span></label></div> <div class="backend-actions svelte-okzcno"><!></div></div>'),Sl=z('<div class="backend-settings svelte-okzcno"><div class="section-header svelte-okzcno"><h2 class="svelte-okzcno">Backend Connections</h2></div> <div class="current-backends"><div class="backend-controls svelte-okzcno"><h3>Configured Backends</h3> <div class="active-status svelte-okzcno"><!> <!></div> <button class="action-button test-all svelte-okzcno"> </button></div> <div class="backend-list svelte-okzcno"></div></div> <div class="add-backend"><div class="section-header svelte-okzcno"><h3 class="svelte-okzcno">Add New Backend</h3></div> <div class="form-container svelte-okzcno"><div class="form-group svelte-okzcno"><label for="backend-id" class="svelte-okzcno">Backend ID</label> <input type="text" id="backend-id" placeholder="e.g., production" class="svelte-okzcno"></div> <div class="form-group svelte-okzcno"><label for="backend-url" class="svelte-okzcno">Backend URL</label> <input type="text" id="backend-url" placeholder="e.g., https://api.example.com" class="svelte-okzcno"></div> <button class="primary-button svelte-okzcno">+ Add Backend</button></div></div></div>');function El(e,t){Re(t,!1);const r=[];let n=P(),s=P(""),i=P(""),l=P(""),v=P([]),o={},c=P(!1),g=P({status:"unknown",lastChecked:null});const d=Ae.subscribe(O=>{p(n,O),p(l,O.active),p(v,Object.keys(O.backends)),a(v).forEach(H=>{H in o||(o[H]={status:"unknown",lastChecked:null})})});nt(()=>{bn();const O=setInterval(b,1e4);return b(),()=>{d(),clearInterval(O)}});async function u(O,H=!1){if(!a(c)){p(c,!0),a(n).backends[O].url;try{const q={status:(await qe("/api/v2/server/status",{method:"GET",headers:{"Content-Type":"application/json"}})).ok?"online":"offline",lastChecked:new Date};o[O]=q,O===a(l)&&p(g,q)}catch{const q={status:"error",lastChecked:new Date};o[O]=q,O===a(l)&&p(g,q)}finally{p(c,!1),o={...o},p(g,{...a(g)})}}}async function b(){for(const O of a(v))await u(O,!0)}function h(){!a(s)||!a(i)||(gn(a(s),a(i)),p(s,""),p(i,""))}function C(){pr(a(l)),u(a(l))}function S(O){if(O==="default"){alert("Cannot remove the default backend");return}Ae.update(H=>(H.active===O&&(H.active="default",p(l,"default"),p(g,o.default||{status:"unknown",lastChecked:null})),delete H.backends[O],delete o[O],H))}et();var m=Sl(),E=_(f(m),2),x=f(E),k=_(f(x),2),y=f(k);{var L=O=>{var H=ce("🟢 Online");w(O,H)},T=(O,H)=>{{var K=de=>{var he=ce("🔴 Offline");w(de,he)},q=(de,he)=>{{var xe=me=>{var Ce=ce("⚠️ Error");w(me,Ce)},we=me=>{var Ce=ce("⚪ Unknown");w(me,Ce)};N(de,me=>{a(g).status==="error"?me(xe):me(we,!1)},he)}};N(O,de=>{a(g).status==="offline"?de(K):de(q,!1)},H)}};N(y,O=>{a(g).status==="online"?O(L):O(T,!1)})}var B=_(y,2);{var F=O=>{var H=wl(),K=f(H);Y(q=>$(K,`(Last checked: ${q??""})`),[()=>new Date(a(g).lastChecked).toLocaleTimeString()],He),w(O,H)};N(B,O=>{a(g).lastChecked&&O(F)})}var ae=_(k,2),X=f(ae),ne=_(x,2);Ve(ne,5,()=>a(v),Fe,(O,H)=>{var K=xl(),q=f(K),de=f(q),he=f(de),xe=_(de,2),we=f(xe),me=_(q,2),Ce=f(me),Te=f(Ce),M,ve=_(Te,2),I=f(ve),U=_(me,2),A=f(U);{var V=D=>{var j=kl();Q("click",j,()=>S(a(H))),w(D,j)};N(A,D=>{a(H)!=="default"&&D(V)})}Y(()=>{$(he,a(H)),$(we,a(n).backends[a(H)].url),M!==(M=a(H))&&(Te.value=(Te.__value=a(H))??""),$(I,a(H)===a(l)?"Active":"Set Active")}),vn(r,[],Te,()=>(a(H),a(l)),D=>p(l,D)),Q("change",Te,C),w(O,K)});var se=_(E,2),Z=_(f(se),2),W=f(Z),te=_(f(W),2),R=_(W,2),G=_(f(R),2),J=_(R,2);Y(()=>{ae.disabled=a(c),$(X,a(c)?"Testing...":"Test Active Backend")}),Q("click",ae,()=>u(a(l))),Ot(te,()=>a(s),O=>p(s,O)),Ot(G,()=>a(i),O=>p(i,O)),Q("click",J,h),w(e,m),Ne()}var Cl=(e,t)=>t("General"),Al=(e,t)=>t("Runfile"),Tl=(e,t)=>t("Backends"),Ll=(e,t)=>t("Discord"),Ol=z("<div>Discord Settings not yet implemented</div>"),Il=z('<div class="settings-container svelte-1oj27tx"><div class="settings-sidebar svelte-1oj27tx"><button>General</button> <button>Runfile Settings</button> <button>Backends</button> <button>Discord</button></div> <div class="settings-content svelte-1oj27tx"><!></div></div>');function Rl(e,t){Re(t,!1);let r=P("General");function n(h){p(r,h)}et();var s=Il(),i=f(s),l=f(i);l.__click=[Cl,n];var v=_(l,2);v.__click=[Al,n];var o=_(v,2);o.__click=[Tl,n];var c=_(o,2);c.__click=[Ll,n];var g=_(i,2),d=f(g);{var u=h=>{sl(h,{get activeSidebarTab(){return a(r)}})},b=(h,C)=>{{var S=E=>{yl(E,{})},m=(E,x)=>{{var k=L=>{var T=Ol();w(L,T)},y=(L,T)=>{{var B=F=>{El(F,{})};N(L,F=>{a(r)==="Backends"&&F(B)},T)}};N(E,L=>{a(r)==="Discord"?L(k):L(y,!1)},x)}};N(h,E=>{a(r)==="Runfile"?E(S):E(m,!1)},C)}};N(d,h=>{["General","Appearance","SteamCMD","Notifications"].includes(a(r))?h(u):h(b,!1)})}Y(()=>{be(l,1,`settings-nav ${a(r)==="General"?"active":""}`,"svelte-1oj27tx"),be(v,1,`settings-nav ${a(r)==="Runfile"?"active":""}`,"svelte-1oj27tx"),be(o,1,`settings-nav ${a(r)==="Backends"?"active":""}`,"svelte-1oj27tx"),be(c,1,`settings-nav ${a(r)==="Discord"?"active":""}`,"svelte-1oj27tx")}),w(e,s),Ne()}Ar(["click"]);function Nl(e,t,r,n,s){p(t,!0),r(),n(),setTimeout(()=>{s(),p(t,!1)},100)}var zl=(e,t)=>t("all"),Bl=(e,t)=>t("info"),Dl=(e,t)=>t("warning"),Ml=(e,t)=>t("error"),Pl=(e,t)=>t("debug"),Ul=(e,t)=>t("game"),ql=z('<div class="no-logs svelte-1vpcr8y">No logs to display. Select a log level or change the Time Range to view logs...</div>'),jl=z('<div class="log-line svelte-1vpcr8y"><span class="timestamp svelte-1vpcr8y"> </span> <span> </span> <span class="message svelte-1vpcr8y"> </span></div>'),Fl=z('<div class="logs-container svelte-1vpcr8y"><div class="logs-filter svelte-1vpcr8y"><div class="filter-group svelte-1vpcr8y"><label class="svelte-1vpcr8y">Log Level</label> <div class="checkbox-group svelte-1vpcr8y"><label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> All</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Info</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Warning</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Error</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Debug</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Game</label></div></div> <div class="filter-group svelte-1vpcr8y"><label class="svelte-1vpcr8y">Time Range</label> <select class="svelte-1vpcr8y"><option>Recent</option><option>Last 1 Minute</option><option>Last 10 Minutes</option><option>Last 20 Minutes</option><option>Last 30 Minutes</option><option>Last 1 Hour</option><option>Last 12 Hours</option><option>Last 24 Hours</option><option>All Time</option></select></div> <div class="control-buttons svelte-1vpcr8y"><button class="reconnect-button svelte-1vpcr8y">Reconnect</button> <button class="clear-button svelte-1vpcr8y">Clear</button></div></div> <div class="logs-viewer svelte-1vpcr8y"><!></div></div>');function Vl(e,t){Re(t,!0);let r=Ee(Pe([])),n=Ee(Pe([])),s=Pe({all:!1,debug:!1,info:!0,warning:!1,error:!1,game:!1}),i=Ee("Recent"),l=Ee(Pe({})),v=Ee(!1),o,c=Pe({all:null,debug:null,info:null,warning:null,error:null,game:null}),g=Pe({all:!1,debug:!1,info:!1,warning:!1,error:!1,game:!1});const d={all:"Full Backend",debug:"Debug",info:"Info",warning:"Warn",error:"Error",game:"Game"},u={Recent:10*1e3,"Last 1 Minute":60*1e3,"Last 10 Minutes":10*60*1e3,"Last 20 Minutes":20*60*1e3,"Last 30 Minutes":30*60*1e3,"Last 1 Hour":60*60*1e3,"Last 12 Hours":12*60*60*1e3,"Last 24 Hours":24*60*60*1e3,"All Time":1/0};Nt(()=>{const M={};for(const[ve,I]of Object.entries(s))I&&(M[ve]=!0);p(l,M,!0),queueMicrotask(()=>{h()})}),Nt(()=>{p(n,E(a(r)),!0)}),nt(()=>(h(),document.addEventListener("visibilitychange",b),()=>{document.removeEventListener("visibilitychange",b)})),Tr(()=>{y()});function b(){document.visibilityState==="visible"&&h()}function h(){const M=["all","debug","info","warning","error","game"];for(const ve of M)a(l)[ve]&&!c[ve]&&!g[ve]?C(ve):!a(l)[ve]&&c[ve]&&S(ve)}function C(M){if(g[M])return;g[M]=!0,console.log(`Connecting to ${M} log source`);const ve=M==="all"?"/logs/backend":M==="warning"?"/logs/warn":M==="game"?"/console":`/logs/${M}`,I=d[M],U=M==="all"?"ALL":M.toUpperCase(),A=`${I} Log Stream Connected`;c[M]=Yr(ve,V=>{const D=new Date,j=D.toLocaleTimeString(),ee=D.getTime();V===A?a(r).some(oe=>oe.message===A&&oe.level===U)||m({timestamp:j,exactTimestamp:ee,level:U,server:"All",message:A}):m({timestamp:j,exactTimestamp:ee,level:U,server:"All",message:V})},V=>{console.error(`${I} logs stream error:`,V),c[M]=null,g[M]=!1,a(l)[M]&&document.visibilityState!=="hidden"&&setTimeout(()=>{a(l)[M]&&!c[M]&&!g[M]&&C(M)},2e3)}),g[M]=!1}function S(M){const ve=d[M];if(c[M]&&(c[M].close(),c[M]=null,!a(v))){const I=new Date,U=I.toLocaleTimeString(),A=M==="all"?"ALL":M.toUpperCase();m({timestamp:U,exactTimestamp:I.getTime(),level:A,server:"All",message:`${ve} Log Stream Disconnected`})}}function m(M){p(r,[M,...a(r)],!0),a(r).length>2e3&&p(r,a(r).slice(-2e3),!0)}function E(M){if(a(i)==="All Time")return M;const I=Date.now()-u[a(i)];return M.filter(U=>U.exactTimestamp>=I)}function x(M){s[M]=!s[M]}function k(){p(r,[],!0),p(n,[],!0)}function y(){for(const M of Object.keys(c))c[M]&&S(M)}var L=Fl(),T=f(L),B=f(T),F=_(f(B),2),ae=f(F),X=f(ae);X.__change=[zl,x];var ne=_(ae,2),se=f(ne);se.__change=[Bl,x];var Z=_(ne,2),W=f(Z);W.__change=[Dl,x];var te=_(Z,2),R=f(te);R.__change=[Ml,x];var G=_(te,2),J=f(G);J.__change=[Pl,x];var O=_(G,2),H=f(O);H.__change=[Ul,x];var K=_(B,2),q=_(f(K),2),de=_(K,2),he=f(de);he.__click=[Nl,v,y,k,h];var xe=_(he,2);xe.__click=k;var we=_(T,2),me=f(we);{var Ce=M=>{var ve=ql();w(M,ve)},Te=M=>{var ve=mt(),I=Ge(ve);Ve(I,17,()=>a(n),Fe,(U,A)=>{var V=jl(),D=f(V),j=f(D),ee=_(D,2),ge=f(ee),oe=_(ee,2),ue=f(oe);Y(le=>{$(j,a(A).timestamp),be(ee,1,`level ${le??""}`,"svelte-1vpcr8y"),$(ge,a(A).level),$(ue,a(A).message)},[()=>a(A).level.toLowerCase()]),w(U,V)}),w(M,ve)};N(me,M=>{a(n).length===0?M(Ce):M(Te,!1)})}Gr(we,M=>o=M,()=>o),Y(()=>{ft(X,s.all),ft(se,s.info),ft(W,s.warning),ft(R,s.error),ft(J,s.debug),ft(H,s.game)}),Zs(q,()=>a(i),M=>p(i,M)),w(e,L),Ne()}Ar(["change","click"]);var $l=z('<main class="main-content svelte-1us6uc8"><div class="view-header svelte-1us6uc8"><h1> </h1> <p> </p></div> <div class="view-content svelte-1us6uc8"><!></div></main>');function Gl(e,t){let r=We(t,"activeView",8,"dashboard");const n={dashboard:{title:"Dashboard",description:"Server overview and statistics"},servers:{title:"Servers",description:"Manage your game servers"},settings:{title:"Settings",description:"Configure application settings"},logs:{title:"Logs",description:"View server logs and events"},console:{title:"Console",description:"View server console output"}};var s=$l(),i=f(s),l=f(i);let v;var o=f(l),c=_(l,2);let g;var d=f(c),u=_(i,2),b=f(u);{var h=S=>{Hi(S)},C=(S,m)=>{{var E=k=>{Rl(k,{})},x=(k,y)=>{{var L=B=>{Vl(B,{})},T=(B,F)=>{{var ae=X=>{_n(X,{})};N(B,X=>{r()==="console"&&X(ae)},F)}};N(k,B=>{r()==="logs"?B(L):B(T,!1)},y)}};N(S,k=>{r()==="settings"?k(E):k(x,!1)},m)}};N(b,S=>{r()==="dashboard"?S(h):S(C,!1)})}Y((S,m)=>{v=be(l,1,"svelte-1us6uc8",null,v,S),$(o,n[r()].title),g=be(c,1,"description svelte-1us6uc8",null,g,m),$(d,n[r()].description)},[()=>({hide:r()==="dashboard"}),()=>({hide:r()==="dashboard"})],He),w(e,s)}var Hl=z('<div class="error-message svelte-ksqk3p"> </div>'),Wl=z('<div class="initializing svelte-ksqk3p"><div class="loading-spinner svelte-ksqk3p"></div> <p class="svelte-ksqk3p"><!></p> <!></div>');function Jl(e,t){Re(t,!1);let r=We(t,"onStatusChange",8,d=>{}),n=P(!1),s=P("checking"),i=P(null);AbortSignal.timeout||(AbortSignal.timeout=function(u){const b=new AbortController;return setTimeout(()=>b.abort(),u),b.signal});async function l(){try{const d=new URL(window.location.href),u=`${d.protocol}//${d.host}`,b=new AbortController,h=setTimeout(()=>b.abort(),5e3),C=await fetch(`${u}/api/v2/server/status`,{method:"GET",signal:b.signal});return clearTimeout(h),C.status===404?(p(s,"offline"),p(i,"Server endpoint not found. The server may not support this API."),!0):C.ok||C.status===401||C.status===403?(p(s,"online"),!0):(p(s,"error"),p(i,`Server error: ${C.status} ${C.statusText}`),!1)}catch(d){return d.name==="AbortError"?(p(s,"offline"),p(i,"Connection timed out. The server may be slow or unreachable.")):d.message.includes("certificate")||d.message.includes("SSL")||d.message.includes("ERR_CERT")?(p(s,"cert-error"),p(i,"Certificate error. The server may be using an invalid or self-signed certificate. Try accepting the certificate in your browser.")):d.message.includes("Failed to fetch")||d.message.includes("NetworkError")?(p(s,"unreachable"),p(i,"Server not found. The server may be down or the URL may be incorrect.")):(p(s,"offline"),p(i,d.message||"Cannot connect to server")),!1}}nt(async()=>{if(bn(),await l())try{await Qt()}catch(u){console.warn("Auth check failed:",u)}r()({status:a(s),error:a(i)}),p(n,!0)}),et();var v=mt(),o=Ge(v);{var c=d=>{var u=mt(),b=Ge(u);ln(b,t,"default",{}),w(d,u)},g=d=>{var u=Wl(),b=_(f(u),2),h=f(b);{var C=x=>{var k=ce("Connecting to server...");w(x,k)},S=(x,k)=>{{var y=T=>{var B=ce("Initializing application...");w(T,B)},L=(T,B)=>{{var F=X=>{var ne=ce("Cannot connect to server");w(X,ne)},ae=(X,ne)=>{{var se=W=>{var te=ce("Server error");w(W,te)},Z=(W,te)=>{{var R=J=>{var O=ce("Certificate error");w(J,O)},G=(J,O)=>{{var H=K=>{var q=ce("Server not found");w(K,q)};N(J,K=>{a(s)==="unreachable"&&K(H)},O)}};N(W,J=>{a(s)==="cert-error"?J(R):J(G,!1)},te)}};N(X,W=>{a(s)==="error"?W(se):W(Z,!1)},ne)}};N(T,X=>{a(s)==="offline"?X(F):X(ae,!1)},B)}};N(x,T=>{a(s)==="online"?T(y):T(L,!1)},k)}};N(h,x=>{a(s)==="checking"?x(C):x(S,!1)})}var m=_(b,2);{var E=x=>{var k=Hl(),y=f(k);Y(()=>$(y,a(i))),w(x,k)};N(m,x=>{a(i)&&x(E)})}w(d,u)};N(o,d=>{a(n)?d(c):d(g,!1)})}w(e,v),Ne()}var Yl=z('<div class="backend-item svelte-1ygmrwf"><label class="backend-option svelte-1ygmrwf"><input type="radio" name="backend" class="svelte-1ygmrwf"> <div class="backend-details svelte-1ygmrwf"><span class="backend-name svelte-1ygmrwf"> </span> <span class="backend-url svelte-1ygmrwf"> </span></div> <span><!></span></label></div>'),Kl=z('<div class="backend-dropdown svelte-1ygmrwf"><div class="dropdown-header svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Select Backend</h3> <button class="close-btn svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="backend-list svelte-1ygmrwf"></div> <div class="dropdown-actions svelte-1ygmrwf"><button class="test-btn svelte-1ygmrwf"> </button> <button class="switch-btn svelte-1ygmrwf">Switch Server</button></div></div>'),Zl=z(' <a target="_blank" rel="noopener">Check Backend</a>',1),Ql=z('<div class="error-message svelte-1ygmrwf"><!></div>'),Xl=z(`<div class="new-backend-form svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Add New Server</h3> <p class="svelte-1ygmrwf">The current server doesn't have the expected login endpoint or is unreachable. Add a new server with the correct authentication endpoint.</p> <div class="form-group svelte-1ygmrwf"><label for="new-backend-id" class="svelte-1ygmrwf">Server Name</label> <input type="text" id="new-backend-id" placeholder="e.g., production" class="svelte-1ygmrwf"></div> <div class="form-group svelte-1ygmrwf"><label for="new-backend-url" class="svelte-1ygmrwf">Server URL</label> <input type="text" id="new-backend-url" placeholder="e.g., https://api.example.com" class="svelte-1ygmrwf"></div> <div class="backend-form-actions svelte-1ygmrwf"><button class="cancel-btn svelte-1ygmrwf">Cancel</button> <button class="add-backend-btn svelte-1ygmrwf">Add Server</button></div></div>`),eo=Zt('<svg class="loading-spinner svelte-1ygmrwf" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg> Logging in...',1),to=z('<form><div class="form-group svelte-1ygmrwf"><label for="username" class="svelte-1ygmrwf">Username</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-1ygmrwf"></div></div> <div class="form-group svelte-1ygmrwf"><label for="password" class="svelte-1ygmrwf">Password</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-1ygmrwf"></div></div> <button type="submit" class="login-button svelte-1ygmrwf"><!></button></form>'),ro=z('<div class="login-page svelte-1ygmrwf"><div class="login-container svelte-1ygmrwf"><div class="login-card svelte-1ygmrwf"><div class="login-header svelte-1ygmrwf"><h2 class="svelte-1ygmrwf">Backend Login Required</h2> <div class="server-selector svelte-1ygmrwf"><div class="server-info svelte-1ygmrwf"><span class="server-label svelte-1ygmrwf">Server:</span> <span class="server-url svelte-1ygmrwf"> </span> <span><!></span> <button class="change-server-btn svelte-1ygmrwf" title="Change server"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></button></div> <!></div></div> <!> <!></div></div></div>');function ao(e,t){Re(t,!1);const[r,n]=hn(),s=()=>pn(Ae,"$backendConfig",r),i=P(),l=P(),v=P(),o=P(),c=P(),g=[];let d=P(""),u=P(""),b=P(""),h=P(!1),C=P([]),S=P(""),m=P({}),E=P(!1),x=P(!1),k=P(!1),y=P(""),L=P(""),T,B;nt(()=>(T=Ue.subscribe(I=>{I.authError&&(p(b,I.authError),I.authError==="endpoint not found"&&p(k,!0)),p(h,I.isAuthenticating)}),B=Ae.subscribe(I=>{p(C,Object.keys(I.backends)),p(S,I.active),a(C).forEach(U=>{U in a(m)||vt(m,a(m)[U]={status:"unknown",lastChecked:null,error:null})})}),F(a(S)),()=>{T&&T(),B&&B()}));async function F(I){p(x,!0),vt(m,a(m)[I]={status:"checking",lastChecked:new Date,error:null}),p(m,{...a(m)});try{const U=bt(Ae),A=U.backends[I].url==="/"?"":U.backends[I].url,V=new AbortController,D=setTimeout(()=>V.abort(),5e3),j=await fetch(`${A}/api/v2/server/status`,{method:"GET",signal:V.signal});clearTimeout(D),j.ok?vt(m,a(m)[I]={status:"online",lastChecked:new Date,error:null}):j.status===401?vt(m,a(m)[I]={status:"online",lastChecked:new Date,authRequired:!0,error:null}):vt(m,a(m)[I]={status:"offline",lastChecked:new Date,error:`Server responded with ${j.status} ${j.statusText}`})}catch(U){let A="error",V="Failed to connect to the server",D=!1;const j=a(l).startsWith("https://");U.name==="AbortError"?V="Connection timed out. The server may be slow or unreachable.":j?(A="cert-error",D=!0,V="There was an error connecting to the remote Backend. If using a self-signed certificate, please visit the server URL to accept the certificate."):V="Server not found. The server may be down or the URL may be incorrect.",vt(m,a(m)[I]={status:A,lastChecked:new Date,error:V,certificateHint:D,backendUrl:a(l)})}finally{p(x,!1),p(m,{...a(m)})}}async function ae(){if(p(b,""),p(h,!0),!a(d)||!a(u)){p(b,"Username and password are required"),p(h,!1);return}try{const I=await ai(a(d),a(u))}catch(I){p(b,I.message||"Login failed")}finally{p(h,!1)}}async function X(){await pr(a(S)),F(a(S)),p(E,!1),p(b,""),p(k,!1)}function ne(){p(E,!a(E))}async function se(){!a(y)||!a(L)||(gn(a(y),a(L)),p(S,a(y)),await pr(a(y)),F(a(y)),p(k,!1),p(y,""),p(L,""),p(b,""))}dt(()=>s(),()=>{p(i,s().backends[s().active])}),dt(()=>a(i),()=>{var I;p(l,((I=a(i))==null?void 0:I.url)||"/")}),dt(()=>a(l),()=>{p(v,a(l)==="/"?window.location.origin:a(l))}),dt(()=>(a(m),a(S)),()=>{var I;p(o,((I=a(m)[a(S)])==null?void 0:I.status)||"unknown")}),dt(()=>(a(m),a(S)),()=>{var I;p(c,(I=a(m)[a(S)])==null?void 0:I.error)}),ta(),et();var Z=ro(),W=f(Z),te=f(W),R=f(te),G=_(f(R),2),J=f(G),O=_(f(J),2),H=f(O),K=_(O,2),q=f(K);{var de=I=>{var U=ce("🟢");w(I,U)},he=(I,U)=>{{var A=D=>{var j=ce("🔴");w(D,j)},V=(D,j)=>{{var ee=oe=>{var ue=ce("⚠️");w(oe,ue)},ge=(oe,ue)=>{{var le=re=>{var ie=ce("🔒");w(re,ie)},ke=re=>{var ie=ce("⚪");w(re,ie)};N(oe,re=>{a(o)==="cert-error"?re(le):re(ke,!1)},ue)}};N(D,oe=>{a(o)==="error"||a(o)==="unreachable"?oe(ee):oe(ge,!1)},j)}};N(I,D=>{a(o)==="offline"?D(A):D(V,!1)},U)}};N(q,I=>{a(o)==="online"?I(de):I(he,!1)})}var xe=_(J,2);{var we=I=>{var U=Kl(),A=f(U),V=_(f(A),2),D=_(A,2);Ve(D,5,()=>a(C),Fe,(ue,le)=>{var ke=Yl(),re=f(ke),ie=f(re),ye,ze=_(ie,2),Se=f(ze),Ft=f(Se),mn=_(Se,2),yn=f(mn),ca=_(ze,2),wn=f(ca);{var kn=Ke=>{var yt=ce("🟢");w(Ke,yt)},xn=(Ke,yt)=>{{var Sn=wt=>{var kt=ce("🔴");w(wt,kt)},En=(wt,kt)=>{{var Cn=xt=>{var St=ce("⚠️");w(xt,St)},An=(xt,St)=>{{var Xt=Et=>{var Ct=ce("🔒");w(Et,Ct)},Tn=Et=>{var Ct=ce("⚪");w(Et,Ct)};N(xt,Et=>{var Ct;((Ct=a(m)[a(le)])==null?void 0:Ct.status)==="cert-error"?Et(Xt):Et(Tn,!1)},St)}};N(wt,xt=>{var St,Xt;((St=a(m)[a(le)])==null?void 0:St.status)==="error"||((Xt=a(m)[a(le)])==null?void 0:Xt.status)==="unreachable"?xt(Cn):xt(An,!1)},kt)}};N(Ke,wt=>{var kt;((kt=a(m)[a(le)])==null?void 0:kt.status)==="offline"?wt(Sn):wt(En,!1)},yt)}};N(wn,Ke=>{var yt;((yt=a(m)[a(le)])==null?void 0:yt.status)==="online"?Ke(kn):Ke(xn,!1)})}Y(()=>{var Ke;ye!==(ye=a(le))&&(ie.value=(ie.__value=a(le))??""),$(Ft,a(le)),$(yn,s().backends[a(le)].url),be(ca,1,`status-indicator ${((Ke=a(m)[a(le)])==null?void 0:Ke.status)||"unknown"}`,"svelte-1ygmrwf")}),vn(g,[],ie,()=>(a(le),a(S)),Ke=>p(S,Ke)),w(ue,ke)});var j=_(D,2),ee=f(j),ge=f(ee),oe=_(ee,2);Y(()=>{ee.disabled=a(x),$(ge,a(x)?"Testing...":"Test Connection"),oe.disabled=a(S)===s().active}),Q("click",V,()=>p(E,!1)),Q("click",ee,()=>F(a(S))),Q("click",oe,X),w(I,U)};N(xe,I=>{a(E)&&I(we)})}var me=_(R,2);{var Ce=I=>{var U=Ql(),A=f(U);{var V=j=>{var ee=ce("The selected server doesn't have the expected login endpoint.");w(j,ee)},D=(j,ee)=>{{var ge=ue=>{var le=Zl(),ke=Ge(le),re=_(ke);Y(()=>{$(ke,`${a(c)??""} `),De(re,"href",a(m)[a(S)].backendUrl)}),w(ue,le)},oe=(ue,le)=>{{var ke=ie=>{var ye=ce();Y(()=>$(ye,a(c))),w(ie,ye)},re=ie=>{var ye=ce();Y(()=>$(ye,a(b))),w(ie,ye)};N(ue,ie=>{a(c)?ie(ke):ie(re,!1)},le)}};N(j,ue=>{a(o)==="cert-error"?ue(ge):ue(oe,!1)},ee)}};N(A,j=>{a(b)==="endpoint not found"?j(V):j(D,!1)})}w(I,U)};N(me,I=>{(a(b)||a(c))&&I(Ce)})}var Te=_(me,2);{var M=I=>{var U=Xl(),A=_(f(U),4),V=_(f(A),2),D=_(A,2),j=_(f(D),2),ee=_(D,2),ge=f(ee),oe=_(ge,2);Y(()=>{V.disabled=a(h),j.disabled=a(h),ge.disabled=a(h),oe.disabled=a(h)||!a(y)||!a(L)}),Ot(V,()=>a(y),ue=>p(y,ue)),Ot(j,()=>a(L),ue=>p(L,ue)),Q("click",ge,()=>p(k,!1)),Q("click",oe,se),w(I,U)},ve=I=>{var U=to(),A=f(U),V=_(f(A),2),D=_(f(V),2),j=_(A,2),ee=_(f(j),2),ge=_(f(ee),2),oe=_(j,2),ue=f(oe);{var le=re=>{var ie=eo();w(re,ie)},ke=re=>{var ie=ce("Login");w(re,ie)};N(ue,re=>{a(h)?re(le):re(ke,!1)})}Y(()=>{D.disabled=a(h),ge.disabled=a(h),oe.disabled=a(h)||a(o)==="unreachable"||a(o)==="cert-error"}),Ot(D,()=>a(d),re=>p(d,re)),Ot(ge,()=>a(u),re=>p(u,re)),Q("submit",U,Xs(ae)),w(I,U)};N(Te,I=>{a(k)?I(M):I(ve,!1)})}Y(()=>{$(H,a(v)),be(K,1,`status-indicator ${a(o)??""}`,"svelte-1ygmrwf")}),Q("click",J,ne),w(e,Z),Ne(),n()}var no=z('<div class="loading-container svelte-1fcf5wk"><div class="loading-spinner svelte-1fcf5wk"></div> <p class="svelte-1fcf5wk">Checking authentication...</p></div>'),so=z('<div class="error-details svelte-1fcf5wk"> </div>'),io=z('<div class="server-error-container svelte-1fcf5wk"><div><!></div> <h2 class="svelte-1fcf5wk">Server Unavailable</h2> <p class="error-message svelte-1fcf5wk"><!></p> <!> <button class="retry-button svelte-1fcf5wk">Retry Connection</button></div>');function lo(e,t){Re(t,!1);const[r,n]=hn(),s=()=>pn(Ue,"$authState",r);let i=We(t,"checkAuth",8,!0),l=We(t,"serverStatus",8,"online"),v=We(t,"serverError",8,null),o=P(!0),c;nt(async()=>{if(i()&&l()==="online"){c=Ue.subscribe(h=>{p(o,h.isAuthenticating)});try{await Qt()}catch(h){console.error("Auth check failed:",h),p(o,!1)}}else p(o,!1)}),Tr(()=>{c&&c()}),et();var g=mt(),d=Ge(g);{var u=h=>{var C=no();w(h,C)},b=(h,C)=>{{var S=E=>{var x=io(),k=f(x),y=f(k);{var L=W=>{var te=ce("🔴");w(W,te)},T=W=>{var te=ce("⚠️");w(W,te)};N(y,W=>{l()==="offline"?W(L):W(T,!1)})}var B=_(k,4),F=f(B);{var ae=W=>{var te=ce("Cannot connect to the server. Please check your connection or try again later.");w(W,te)},X=W=>{var te=ce("There was an error connecting to the server.");w(W,te)};N(F,W=>{l()==="offline"?W(ae):W(X,!1)})}var ne=_(B,2);{var se=W=>{var te=so(),R=f(te);Y(()=>$(R,v())),w(W,te)};N(ne,W=>{v()&&W(se)})}var Z=_(ne,2);Y(()=>be(k,1,`status-icon ${l()??""}`,"svelte-1fcf5wk")),Q("click",Z,()=>window.location.reload()),w(E,x)},m=(E,x)=>{{var k=L=>{ao(L,{})},y=L=>{var T=mt(),B=Ge(T);ln(B,t,"default",{}),w(L,T)};N(E,L=>{!s().isAuthenticated&&i()?L(k):L(y,!1)},x)}};N(h,E=>{l()==="offline"||l()==="error"?E(S):E(m,!1)},C)}};N(d,h=>{a(o)?h(u):h(b,!1)})}w(e,g),Ne(),n()}var oo=z('<div class="app-container svelte-136oog4"><!> <div class="main-container svelte-136oog4"><!> <!></div></div>');function co(e){let t=P("dashboard");const r=[{id:"dashboard",name:"Dashboard",icon:"grid"},{id:"settings",name:"Settings",icon:"settings"},{id:"logs",name:"Logs",icon:"file-text"},{id:"console",name:"Console",icon:"terminal"}];function n(v){p(t,v)}let s=P("checking"),i=P(null);function l(v){p(s,v.status),p(i,v.error)}Jl(e,{onStatusChange:l,children:(v,o)=>{lo(v,{get serverStatus(){return a(s)},get serverError(){return a(i)},children:(c,g)=>{var d=oo(),u=f(d);pi(u,{views:r,get activeView(){return a(t)},setActiveView:n});var b=_(u,2),h=f(b);bi(h,{views:r,get activeView(){return a(t)},setActiveView:n});var C=_(h,2);Gl(C,{get activeView(){return a(t)}}),w(c,d)},$$slots:{default:!0}})},$$slots:{default:!0}})}Is(co,{target:document.getElementById("app")});
