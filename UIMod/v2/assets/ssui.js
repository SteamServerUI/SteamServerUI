(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const yn="5";var ma;typeof window<"u"&&((ma=window.__svelte??(window.__svelte={})).v??(ma.v=new Set)).add(yn);const Fr=1,Vr=2,ya=4,wn=8,kn=16,xn=1,Sn=2,Cn=4,En=8,An=16,Tn=1,Ln=2,zn=4,wa=1,Rn=2,Ne=Symbol(),On="http://www.w3.org/1999/xhtml",aa=!1;function vr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var Ut=Array.isArray,Nn=Array.prototype.indexOf,Gr=Array.from,ka=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,Dn=Object.getOwnPropertyDescriptors,In=Object.prototype,Mn=Array.prototype,xa=Object.getPrototypeOf,na=Object.isExtensible;function qn(e){return typeof e=="function"}const Ie=()=>{};function Pn(e){for(var t=0;t<e.length;t++)e[t]()}const Ye=2,Sa=4,ur=8,dr=16,it=32,Ot=64,tr=128,Ue=256,rr=512,Pe=1024,Qe=2048,gt=4096,at=8192,fr=16384,Ca=32768,jt=65536,Bn=1<<17,$n=1<<19,Ea=1<<20,zr=1<<21,ft=Symbol("$state"),Un=Symbol("legacy props"),jn=Symbol("");function Fn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Gn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Hn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Jn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Yn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Kn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Zn=!1,Nt=!1,Qn=!1;function Xn(){Nt=!0}function ve(e){if(typeof e!="object"||e===null||ft in e)return e;const t=xa(e);if(t!==In&&t!==Mn)return e;var r=new Map,n=Ut(e),s=z(0),i=fe,l=u=>{var v=fe;He(i);var c=u();return He(v),c};return n&&r.set("length",z(e.length)),new Proxy(e,{defineProperty(u,v,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Jn();var _=r.get(v);return _===void 0?(_=l(()=>z(c.value)),r.set(v,_)):f(_,l(()=>ve(c.value))),!0},deleteProperty(u,v){var c=r.get(v);if(c===void 0)v in u&&(r.set(v,l(()=>z(Ne))),xr(s));else{if(n&&typeof v=="string"){var _=r.get("length"),p=Number(v);Number.isInteger(p)&&p<_.v&&f(_,p)}f(c,Ne),xr(s)}return!0},get(u,v,c){var g;if(v===ft)return e;var _=r.get(v),p=v in u;if(_===void 0&&(!p||(g=Tt(u,v))!=null&&g.writable)&&(_=l(()=>z(ve(p?u[v]:Ne))),r.set(v,_)),_!==void 0){var o=a(_);return o===Ne?void 0:o}return Reflect.get(u,v,c)},getOwnPropertyDescriptor(u,v){var c=Reflect.getOwnPropertyDescriptor(u,v);if(c&&"value"in c){var _=r.get(v);_&&(c.value=a(_))}else if(c===void 0){var p=r.get(v),o=p==null?void 0:p.v;if(p!==void 0&&o!==Ne)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return c},has(u,v){var o;if(v===ft)return!0;var c=r.get(v),_=c!==void 0&&c.v!==Ne||Reflect.has(u,v);if(c!==void 0||ue!==null&&(!_||(o=Tt(u,v))!=null&&o.writable)){c===void 0&&(c=l(()=>z(_?ve(u[v]):Ne)),r.set(v,c));var p=a(c);if(p===Ne)return!1}return _},set(u,v,c,_){var k;var p=r.get(v),o=v in u;if(n&&v==="length")for(var g=c;g<p.v;g+=1){var h=r.get(g+"");h!==void 0?f(h,Ne):g in u&&(h=l(()=>z(Ne)),r.set(g+"",h))}p===void 0?(!o||(k=Tt(u,v))!=null&&k.writable)&&(p=l(()=>z(void 0)),f(p,l(()=>ve(c))),r.set(v,p)):(o=p.v!==Ne,f(p,l(()=>ve(c))));var w=Reflect.getOwnPropertyDescriptor(u,v);if(w!=null&&w.set&&w.set.call(_,c),!o){if(n&&typeof v=="string"){var m=r.get("length"),A=Number(v);Number.isInteger(A)&&A>=m.v&&f(m,A+1)}xr(s)}return!0},ownKeys(u){a(s);var v=Reflect.ownKeys(u).filter(p=>{var o=r.get(p);return o===void 0||o.v!==Ne});for(var[c,_]of r)_.v!==Ne&&!(c in u)&&v.push(c);return v},setPrototypeOf(){Yn()}})}function xr(e,t=1){f(e,e.v+t)}function sa(e){try{if(e!==null&&typeof e=="object"&&ft in e)return e[ft]}catch{}return e}function Aa(e,t){return Object.is(sa(e),sa(t))}var ia,Ta,La,za;function es(){if(ia===void 0){ia=window,Ta=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;La=Tt(t,"firstChild").get,za=Tt(t,"nextSibling").get,na(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),na(r)&&(r.__t=void 0)}}function pr(e=""){return document.createTextNode(e)}function tt(e){return La.call(e)}function _r(e){return za.call(e)}function d(e,t){return tt(e)}function Me(e,t){{var r=tt(e);return r instanceof Comment&&r.data===""?_r(r):r}}function b(e,t=1,r=!1){let n=e;for(;t--;)n=_r(n);return n}function ts(e){e.textContent=""}function Ra(e){return e===this.v}function Oa(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Hr(e){return!Oa(e,this.v)}function Pt(e){var t=Ye|Qe,r=fe!==null&&(fe.f&Ye)!==0?fe:null;return ue===null||r!==null&&(r.f&Ue)!==0?t|=Ue:ue.f|=Ea,{ctx:he,deps:null,effects:null,equals:Ra,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??ue}}function $e(e){const t=Pt(e);return ja(t),t}function Na(e){const t=Pt(e);return t.equals=Hr,t}function Da(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)nt(t[r])}}function rs(e){for(var t=e.parent;t!==null;){if((t.f&Ye)===0)return t;t=t.parent}return null}function Ia(e){var t,r=ue;Xe(rs(e));try{Da(e),t=Ha(e)}finally{Xe(r)}return t}function Ma(e){var t=Ia(e),r=(ct||(e.f&Ue)!==0)&&e.deps!==null?gt:Pe;Ke(e,r),e.equals(t)||(e.v=t,e.wv=Va())}function as(e){ue===null&&fe===null&&Gn(),fe!==null&&(fe.f&Ue)!==0&&ue===null&&Vn(),Ft&&Fn()}function ns(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Dt(e,t,r,n=!0){var s=ue,i={ctx:he,deps:null,nodes_start:null,nodes_end:null,f:e|Qe,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Yr(i),i.f|=Ca}catch(v){throw nt(i),v}else t!==null&&mr(i);var l=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Ea|tr))===0;if(!l&&n&&(s!==null&&ns(i,s),fe!==null&&(fe.f&Ye)!==0)){var u=fe;(u.effects??(u.effects=[])).push(i)}return i}function gr(e){const t=Dt(ur,null,!1);return Ke(t,Pe),t.teardown=e,t}function vt(e){as();var t=ue!==null&&(ue.f&it)!==0&&he!==null&&!he.m;if(t){var r=he;(r.e??(r.e=[])).push({fn:e,effect:ue,reaction:fe})}else{var n=It(e);return n}}function ss(e){const t=Dt(Ot,e,!0);return(r={})=>new Promise(n=>{r.outro?ar(t,()=>{nt(t),n(void 0)}):(nt(t),n(void 0))})}function It(e){return Dt(Sa,e,!1)}function Wr(e){return Dt(ur,e,!0)}function H(e,t=[],r=Pt){const n=t.map(r);return hr(()=>e(...n.map(a)))}function hr(e,t=0){return Dt(ur|dr|t,e,!0)}function Lt(e,t=!0){return Dt(ur|it,e,!0,t)}function qa(e){var t=e.teardown;if(t!==null){const r=Ft,n=fe;la(!0),He(null);try{t.call(null)}finally{la(r),He(n)}}}function Pa(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Ot)!==0?r.parent=null:nt(r,t),r=n}}function is(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&it)===0&&nt(t),t=r}}function nt(e,t=!0){var r=!1;(t||(e.f&$n)!==0)&&e.nodes_start!==null&&(ls(e.nodes_start,e.nodes_end),r=!0),Pa(e,t&&!r),or(e,0),Ke(e,fr);var n=e.transitions;if(n!==null)for(const i of n)i.stop();qa(e);var s=e.parent;s!==null&&s.first!==null&&Ba(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ls(e,t){for(;e!==null;){var r=e===t?null:_r(e);e.remove(),e=r}}function Ba(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function ar(e,t){var r=[];Jr(e,r,!0),$a(r,()=>{nt(e),t&&t()})}function $a(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function Jr(e,t,r){if((e.f&at)===0){if(e.f^=at,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var s=n.next,i=(n.f&jt)!==0||(n.f&it)!==0;Jr(n,t,i?r:!1),n=s}}}function nr(e){Ua(e,!0)}function Ua(e,t){if((e.f&at)!==0){e.f^=at,(e.f&Pe)===0&&(e.f^=Pe),Vt(e)&&(Ke(e,Qe),mr(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&jt)!==0||(r.f&it)!==0;Ua(r,s?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let sr=[];function os(){var e=sr;sr=[],Pn(e)}function zt(e){sr.length===0&&queueMicrotask(os),sr.push(e)}let Qt=!1,Rr=!1,ir=null,pt=!1,Ft=!1;function la(e){Ft=e}let Xt=[];let fe=null,Ze=!1;function He(e){fe=e}let ue=null;function Xe(e){ue=e}let ze=null;function ja(e){fe!==null&&fe.f&zr&&(ze===null?ze=[e]:ze.push(e))}let Le=null,Be=0,Ge=null;function cs(e){Ge=e}let Fa=1,lr=0,ct=!1;function Va(){return++Fa}function Vt(e){var p;var t=e.f;if((t&Qe)!==0)return!0;if((t&gt)!==0){var r=e.deps,n=(t&Ue)!==0;if(r!==null){var s,i,l=(t&rr)!==0,u=n&&ue!==null&&!ct,v=r.length;if(l||u){var c=e,_=c.parent;for(s=0;s<v;s++)i=r[s],(l||!((p=i==null?void 0:i.reactions)!=null&&p.includes(c)))&&(i.reactions??(i.reactions=[])).push(c);l&&(c.f^=rr),u&&_!==null&&(_.f&Ue)===0&&(c.f^=Ue)}for(s=0;s<v;s++)if(i=r[s],Vt(i)&&Ma(i),i.wv>e.wv)return!0}(!n||ue!==null&&!ct)&&Ke(e,Pe)}return!1}function vs(e,t){for(var r=t;r!==null;){if((r.f&tr)!==0)try{r.fn(e);return}catch{r.f^=tr}r=r.parent}throw Qt=!1,e}function oa(e){return(e.f&fr)===0&&(e.parent===null||(e.parent.f&tr)===0)}function br(e,t,r,n){if(Qt){if(r===null&&(Qt=!1),oa(t))throw e;return}if(r!==null&&(Qt=!0),vs(e,t),oa(t))throw e}function Ga(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];ze!=null&&ze.includes(e)||((i.f&Ye)!==0?Ga(i,t,!1):t===i&&(r?Ke(i,Qe):(i.f&Pe)!==0&&Ke(i,gt),mr(i)))}}function Ha(e){var g;var t=Le,r=Be,n=Ge,s=fe,i=ct,l=ze,u=he,v=Ze,c=e.f;Le=null,Be=0,Ge=null,ct=(c&Ue)!==0&&(Ze||!pt||fe===null),fe=(c&(it|Ot))===0?e:null,ze=null,ca(e.ctx),Ze=!1,lr++,e.f|=zr;try{var _=(0,e.fn)(),p=e.deps;if(Le!==null){var o;if(or(e,Be),p!==null&&Be>0)for(p.length=Be+Le.length,o=0;o<Le.length;o++)p[Be+o]=Le[o];else e.deps=p=Le;if(!ct)for(o=Be;o<p.length;o++)((g=p[o]).reactions??(g.reactions=[])).push(e)}else p!==null&&Be<p.length&&(or(e,Be),p.length=Be);if(Gt()&&Ge!==null&&!Ze&&p!==null&&(e.f&(Ye|gt|Qe))===0)for(o=0;o<Ge.length;o++)Ga(Ge[o],e);return s!==null&&s!==e&&(lr++,Ge!==null&&(n===null?n=Ge:n.push(...Ge))),_}finally{Le=t,Be=r,Ge=n,fe=s,ct=i,ze=l,ca(u),Ze=v,e.f^=zr}}function us(e,t){let r=t.reactions;if(r!==null){var n=Nn.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&Ye)!==0&&(Le===null||!Le.includes(t))&&(Ke(t,gt),(t.f&(Ue|rr))===0&&(t.f^=rr),Da(t),or(t,0))}function or(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)us(e,r[n])}function Yr(e){var t=e.f;if((t&fr)===0){Ke(e,Pe);var r=ue,n=he,s=pt;ue=e,pt=!0;try{(t&dr)!==0?is(e):Pa(e),qa(e);var i=Ha(e);e.teardown=typeof i=="function"?i:null,e.wv=Fa;var l=e.deps,u;aa&&Qn&&e.f&Qe}catch(v){br(v,e,r,n||e.ctx)}finally{pt=s,ue=r}}}function ds(){try{Hn()}catch(e){if(ir!==null)br(e,ir,null);else throw e}}function fs(){var e=pt;try{var t=0;for(pt=!0;Xt.length>0;){t++>1e3&&ds();var r=Xt,n=r.length;Xt=[];for(var s=0;s<n;s++){var i=_s(r[s]);ps(i)}Bt.clear()}}finally{Rr=!1,pt=e,ir=null}}function ps(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(fr|at))===0)try{Vt(n)&&(Yr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Ba(n):n.fn=null))}catch(s){br(s,n,null,n.ctx)}}}function mr(e){Rr||(Rr=!0,queueMicrotask(fs));for(var t=ir=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Ot|it))!==0){if((r&Pe)===0)return;t.f^=Pe}}Xt.push(t)}function _s(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(it|Ot))!==0,i=s&&(n&Pe)!==0;if(!i&&(n&at)===0){if((n&Sa)!==0)t.push(r);else if(s)r.f^=Pe;else try{Vt(r)&&Yr(r)}catch(v){br(v,r,null,r.ctx)}var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return t}function a(e){var t=e.f,r=(t&Ye)!==0;if(fe!==null&&!Ze){if(!(ze!=null&&ze.includes(e))){var n=fe.deps;e.rv<lr&&(e.rv=lr,Le===null&&n!==null&&n[Be]===e?Be++:Le===null?Le=[e]:(!ct||!Le.includes(e))&&Le.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&(i.f&Ue)===0&&(s.f^=Ue)}return r&&(s=e,Vt(s)&&Ma(s)),Ft&&Bt.has(e)?Bt.get(e):e.v}function ut(e){var t=Ze;try{return Ze=!0,e()}finally{Ze=t}}const gs=-7169;function Ke(e,t){e.f=e.f&gs|t}const Bt=new Map;function $t(e,t){var r={f:0,v:e,reactions:null,equals:Ra,rv:0,wv:0};return r}function z(e,t){const r=$t(e);return ja(r),r}function Kr(e,t=!1){var n;const r=$t(e);return t||(r.equals=Hr),Nt&&he!==null&&he.l!==null&&((n=he.l).s??(n.s=[])).push(r),r}function f(e,t,r=!1){fe!==null&&!Ze&&Gt()&&(fe.f&(Ye|dr))!==0&&!(ze!=null&&ze.includes(e))&&Kn();let n=r?ve(t):t;return Or(e,n)}function Or(e,t){if(!e.equals(t)){var r=e.v;Ft?Bt.set(e,t):Bt.set(e,r),e.v=t,(e.f&Ye)!==0&&((e.f&Qe)!==0&&Ia(e),Ke(e,(e.f&Ue)===0?Pe:gt)),e.wv=Va(),Wa(e,Qe),Gt()&&ue!==null&&(ue.f&Pe)!==0&&(ue.f&(it|Ot))===0&&(Ge===null?cs([e]):Ge.push(e))}return t}function Wa(e,t){var r=e.reactions;if(r!==null)for(var n=Gt(),s=r.length,i=0;i<s;i++){var l=r[i],u=l.f;(u&Qe)===0&&(!n&&l===ue||(Ke(l,t),(u&(Pe|Ue))!==0&&((u&Ye)!==0?Wa(l,gt):mr(l))))}}let he=null;function ca(e){he=e}function xe(e,t=!1,r){var n=he={p:he,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Nt&&!t&&(he.l={s:null,u:null,r1:[],r2:$t(!1)}),gr(()=>{n.d=!0})}function Se(e){const t=he;if(t!==null){const l=t.e;if(l!==null){var r=ue,n=fe;t.e=null;try{for(var s=0;s<l.length;s++){var i=l[s];Xe(i.effect),He(i.reaction),It(i.fn)}}finally{Xe(r),He(n)}}he=t.p,t.m=!0}return{}}function Gt(){return!Nt||he!==null&&he.l===null}const hs=["touchstart","touchmove"];function bs(e){return hs.includes(e)}let va=!1;function ms(){va||(va=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Zr(e){var t=fe,r=ue;He(null),Xe(null);try{return e()}finally{He(t),Xe(r)}}function Qr(e,t,r,n=r){e.addEventListener(t,()=>Zr(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),ms()}const Ja=new Set,Nr=new Set;function ys(e,t,r,n={}){function s(i){if(n.capture||Mt.call(t,i),!i.cancelBubble)return Zr(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?zt(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function Dr(e,t,r,n,s){var i={capture:n,passive:s},l=ys(e,t,r,i);(t===document.body||t===window||t===document)&&gr(()=>{t.removeEventListener(e,l,i)})}function Re(e){for(var t=0;t<e.length;t++)Ja.add(e[t]);for(var r of Nr)r(e)}function Mt(e){var k;var t=this,r=t.ownerDocument,n=e.type,s=((k=e.composedPath)==null?void 0:k.call(e))||[],i=s[0]||e.target,l=0,u=e.__root;if(u){var v=s.indexOf(u);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;v<=c&&(l=v)}if(i=s[l]||e.target,i!==t){ka(e,"currentTarget",{configurable:!0,get(){return i||r}});var _=fe,p=ue;He(null),Xe(null);try{for(var o,g=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var w=i["__"+n];if(w!=null&&(!i.disabled||e.target===i))if(Ut(w)){var[m,...A]=w;m.apply(i,[e,...A])}else w.call(i,e)}catch(C){o?g.push(C):o=C}if(e.cancelBubble||h===t||h===null)break;i=h}if(o){for(let C of g)queueMicrotask(()=>{throw C});throw o}}finally{e.__root=t,delete e.currentTarget,He(_),Xe(p)}}}function Ya(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Rt(e,t){var r=ue;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function R(e,t){var r=(t&wa)!==0,n=(t&Rn)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ya(i?e:"<!>"+e),r||(s=tt(s)));var l=n||Ta?document.importNode(s,!0):s.cloneNode(!0);if(r){var u=tt(l),v=l.lastChild;Rt(u,v)}else Rt(l,l);return l}}function Ht(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&wa)!==0,i=`<${r}>${n?e:"<!>"+e}</${r}>`,l;return()=>{if(!l){var u=Ya(i),v=tt(u);if(s)for(l=document.createDocumentFragment();tt(v);)l.appendChild(tt(v));else l=tt(v)}var c=l.cloneNode(!0);if(s){var _=tt(c),p=c.lastChild;Rt(_,p)}else Rt(c,c);return c}}function le(e=""){{var t=pr(e+"");return Rt(t,t),t}}function st(){var e=document.createDocumentFragment(),t=document.createComment(""),r=pr();return e.append(t,r),Rt(t,r),e}function y(e,t){e!==null&&e.before(t)}let Ir=!0;function $(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function ws(e,t){return ks(e,t)}const St=new Map;function ks(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:l=!0}){es();var u=new Set,v=p=>{for(var o=0;o<p.length;o++){var g=p[o];if(!u.has(g)){u.add(g);var h=bs(g);t.addEventListener(g,Mt,{passive:h});var w=St.get(g);w===void 0?(document.addEventListener(g,Mt,{passive:h}),St.set(g,1)):St.set(g,w+1)}}};v(Gr(Ja)),Nr.add(v);var c=void 0,_=ss(()=>{var p=r??t.appendChild(pr());return Lt(()=>{if(i){xe({});var o=he;o.c=i}s&&(n.$$events=s),Ir=l,c=e(p,n)||{},Ir=!0,i&&Se()}),()=>{var h;for(var o of u){t.removeEventListener(o,Mt);var g=St.get(o);--g===0?(document.removeEventListener(o,Mt),St.delete(o)):St.set(o,g)}Nr.delete(v),p!==r&&((h=p.parentNode)==null||h.removeChild(p))}});return xs.set(c,_),c}let xs=new WeakMap;function O(e,t,[r,n]=[0,0]){var s=e,i=null,l=null,u=Ne,v=r>0?jt:0,c=!1;const _=(o,g=!0)=>{c=!0,p(g,o)},p=(o,g)=>{u!==(u=o)&&(u?(i?nr(i):g&&(i=Lt(()=>g(s))),l&&ar(l,()=>{l=null})):(l?nr(l):g&&(l=Lt(()=>g(s,[r+1,n]))),i&&ar(i,()=>{i=null})))};hr(()=>{c=!1,t(_),c||p(null,null)},v)}function je(e,t){return t}function Ss(e,t,r,n){for(var s=[],i=t.length,l=0;l<i;l++)Jr(t[l].e,s,!0);var u=i>0&&s.length===0&&r!==null;if(u){var v=r.parentNode;ts(v),v.append(r),n.clear(),lt(e,t[0].prev,t[i-1].next)}$a(s,()=>{for(var c=0;c<i;c++){var _=t[c];u||(n.delete(_.k),lt(e,_.prev,_.next)),nt(_.e,!u)}})}function qe(e,t,r,n,s,i=null){var l=e,u={flags:t,items:new Map,first:null},v=(t&ya)!==0;if(v){var c=e;l=c.appendChild(pr())}var _=null,p=!1,o=Na(()=>{var g=r();return Ut(g)?g:g==null?[]:Gr(g)});hr(()=>{var g=a(o),h=g.length;p&&h===0||(p=h===0,Cs(g,u,l,s,t,n,r),i!==null&&(h===0?_?nr(_):_=Lt(()=>i(l)):_!==null&&ar(_,()=>{_=null})),a(o))})}function Cs(e,t,r,n,s,i,l){var re,se,N,D;var u=(s&wn)!==0,v=(s&(Fr|Vr))!==0,c=e.length,_=t.items,p=t.first,o=p,g,h=null,w,m=[],A=[],k,C,x,T;if(u)for(T=0;T<c;T+=1)k=e[T],C=i(k,T),x=_.get(C),x!==void 0&&((re=x.a)==null||re.measure(),(w??(w=new Set)).add(x));for(T=0;T<c;T+=1){if(k=e[T],C=i(k,T),x=_.get(C),x===void 0){var q=o?o.e.nodes_start:r;h=As(q,t,h,h===null?t.first:h.next,k,C,T,n,s,l),_.set(C,h),m=[],A=[],o=h.next;continue}if(v&&Es(x,k,T,s),(x.e.f&at)!==0&&(nr(x.e),u&&((se=x.a)==null||se.unfix(),(w??(w=new Set)).delete(x))),x!==o){if(g!==void 0&&g.has(x)){if(m.length<A.length){var P=A[0],B;h=P.prev;var G=m[0],K=m[m.length-1];for(B=0;B<m.length;B+=1)ua(m[B],P,r);for(B=0;B<A.length;B+=1)g.delete(A[B]);lt(t,G.prev,K.next),lt(t,h,G),lt(t,K,P),o=P,h=K,T-=1,m=[],A=[]}else g.delete(x),ua(x,o,r),lt(t,x.prev,x.next),lt(t,x,h===null?t.first:h.next),lt(t,h,x),h=x;continue}for(m=[],A=[];o!==null&&o.k!==C;)(o.e.f&at)===0&&(g??(g=new Set)).add(o),A.push(o),o=o.next;if(o===null)continue;x=o}m.push(x),h=x,o=x.next}if(o!==null||g!==void 0){for(var te=g===void 0?[]:Gr(g);o!==null;)(o.e.f&at)===0&&te.push(o),o=o.next;var W=te.length;if(W>0){var X=(s&ya)!==0&&c===0?r:null;if(u){for(T=0;T<W;T+=1)(N=te[T].a)==null||N.measure();for(T=0;T<W;T+=1)(D=te[T].a)==null||D.fix()}Ss(t,te,X,_)}}u&&zt(()=>{var L;if(w!==void 0)for(x of w)(L=x.a)==null||L.apply()}),ue.first=t.first&&t.first.e,ue.last=h&&h.e}function Es(e,t,r,n){(n&Fr)!==0&&Or(e.v,t),(n&Vr)!==0?Or(e.i,r):e.i=r}function As(e,t,r,n,s,i,l,u,v,c){var _=(v&Fr)!==0,p=(v&kn)===0,o=_?p?Kr(s):$t(s):s,g=(v&Vr)===0?l:$t(l),h={i:g,v:o,k:i,a:null,e:null,prev:r,next:n};try{return h.e=Lt(()=>u(e,o,g,c),Zn),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function ua(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var l=_r(i);s.before(i),i=l}}function lt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ka(e,t,...r){var n=e,s=Ie,i;hr(()=>{s!==(s=t())&&(i&&(nt(i),i=null),i=Lt(()=>s(n,...r)))},jt)}function Za(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Za(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ts(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Za(e))&&(n&&(n+=" "),n+=t);return n}function Ls(e){return typeof e=="object"?Ts(e):e??""}const da=[...` 	
\r\f¬†\v\uFEFF`];function zs(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,l=0;(l=n.indexOf(s,l))>=0;){var u=l+i;(l===0||da.includes(n[l-1]))&&(u===n.length||da.includes(n[u]))?n=(l===0?"":n.substring(0,l))+n.substring(u+1):l=u}}return n===""?null:n}function fa(e,t=!1){var r=t?" !important;":";",n="";for(var s in e){var i=e[s];i!=null&&i!==""&&(n+=" "+s+": "+i+r)}return n}function Sr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Rs(e,t){if(t){var r="",n,s;if(Array.isArray(t)?(n=t[0],s=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,l=0,u=!1,v=[];n&&v.push(...Object.keys(n).map(Sr)),s&&v.push(...Object.keys(s).map(Sr));var c=0,_=-1;const w=e.length;for(var p=0;p<w;p++){var o=e[p];if(u?o==="/"&&e[p-1]==="*"&&(u=!1):i?i===o&&(i=!1):o==="/"&&e[p+1]==="*"?u=!0:o==='"'||o==="'"?i=o:o==="("?l++:o===")"&&l--,!u&&i===!1&&l===0){if(o===":"&&_===-1)_=p;else if(o===";"||p===w-1){if(_!==-1){var g=Sr(e.substring(c,_).trim());if(!v.includes(g)){o!==";"&&p++;var h=e.substring(c,p).trim();r+=" "+h+";"}}c=p+1,_=-1}}}}return n&&(r+=fa(n)),s&&(r+=fa(s,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function pe(e,t,r,n,s,i){var l=e.__className;if(l!==r||l===void 0){var u=zs(r,n,i);u==null?e.removeAttribute("class"):e.className=u,e.__className=r}else if(i&&s!==i)for(var v in i){var c=!!i[v];(s==null||c!==!!s[v])&&e.classList.toggle(v,c)}return i}function Cr(e,t={},r,n){for(var s in r){var i=r[s];t[s]!==i&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,n))}}function _t(e,t,r,n){var s=e.__style;if(s!==t){var i=Rs(t,n);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}else n&&(Array.isArray(n)?(Cr(e,r==null?void 0:r[0],n[0]),Cr(e,r==null?void 0:r[1],n[1],"important")):Cr(e,r,n));return n}const Os=Symbol("is custom element"),Ns=Symbol("is html");function Et(e,t){var r=Xr(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function ot(e,t){var r=Xr(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function Ae(e,t,r,n){var s=Xr(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[jn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Ds(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Xr(e){return e.__attributes??(e.__attributes={[Os]:e.nodeName.includes("-"),[Ns]:e.namespaceURI===On})}var pa=new Map;function Ds(e){var t=pa.get(e.nodeName);if(t)return t;pa.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=Dn(n);for(var i in r)r[i].set&&t.push(i);n=xa(n)}return t}const Is=()=>performance.now(),rt={tick:e=>requestAnimationFrame(e),now:()=>Is(),tasks:new Set};function Qa(){const e=rt.now();rt.tasks.forEach(t=>{t.c(e)||(rt.tasks.delete(t),t.f())}),rt.tasks.size!==0&&rt.tick(Qa)}function Ms(e){let t;return rt.tasks.size===0&&rt.tick(Qa),{promise:new Promise(r=>{rt.tasks.add(t={c:e,f:r})}),abort(){rt.tasks.delete(t)}}}function Yt(e,t){Zr(()=>{e.dispatchEvent(new CustomEvent(t))})}function qs(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function _a(e){const t={},r=e.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const l=qs(s.trim());t[l]=i.trim()}return t}const Ps=e=>e;function Kt(e,t,r,n){var s=(e&Tn)!==0,i=(e&Ln)!==0,l=s&&i,u=(e&zn)!==0,v=l?"both":s?"in":"out",c,_=t.inert,p=t.style.overflow,o,g;function h(){var C=fe,x=ue;He(null),Xe(null);try{return c??(c=r()(t,(n==null?void 0:n())??{},{direction:v}))}finally{He(C),Xe(x)}}var w={is_global:u,in(){var C;if(t.inert=_,!s){g==null||g.abort(),(C=g==null?void 0:g.reset)==null||C.call(g);return}i||o==null||o.abort(),Yt(t,"introstart"),o=Mr(t,h(),g,1,()=>{Yt(t,"introend"),o==null||o.abort(),o=c=void 0,t.style.overflow=p})},out(C){if(!i){C==null||C(),c=void 0;return}t.inert=!0,Yt(t,"outrostart"),g=Mr(t,h(),o,0,()=>{Yt(t,"outroend"),C==null||C()})},stop:()=>{o==null||o.abort(),g==null||g.abort()}},m=ue;if((m.transitions??(m.transitions=[])).push(w),s&&Ir){var A=u;if(!A){for(var k=m.parent;k&&(k.f&jt)!==0;)for(;(k=k.parent)&&(k.f&dr)===0;);A=!k||(k.f&Ca)!==0}A&&It(()=>{ut(()=>w.in())})}}function Mr(e,t,r,n,s){var i=n===1;if(qn(t)){var l,u=!1;return zt(()=>{if(!u){var m=t({direction:i?"in":"out"});l=Mr(e,m,r,n,s)}}),{abort:()=>{u=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return s(),{abort:Ie,deactivate:Ie,reset:Ie,t:()=>n};const{delay:v=0,css:c,tick:_,easing:p=Ps}=t;var o=[];if(i&&r===void 0&&(_&&_(0,1),c)){var g=_a(c(0,1));o.push(g,g)}var h=()=>1-n,w=e.animate(o,{duration:v});return w.onfinish=()=>{var m=(r==null?void 0:r.t())??1-n;r==null||r.abort();var A=n-m,k=t.duration*Math.abs(A),C=[];if(k>0){var x=!1;if(c)for(var T=Math.ceil(k/16.666666666666668),q=0;q<=T;q+=1){var P=m+A*p(q/T),B=_a(c(P,1-P));C.push(B),x||(x=B.overflow==="hidden")}x&&(e.style.overflow="hidden"),h=()=>{var G=w.currentTime;return m+A*p(G/k)},_&&Ms(()=>{if(w.playState!=="running")return!1;var G=h();return _(G,1-G),!0})}w=e.animate(C,{duration:k,fill:"forwards"}),w.onfinish=()=>{h=()=>n,_==null||_(n,1-n),s()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=Ie)},deactivate:()=>{s=Ie},reset:()=>{n===0&&(_==null||_(1,0))},t:()=>h()}}function At(e,t,r=t){var n=Gt();Qr(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=Ar(e)?Tr(i):i,r(i),n&&i!==(i=t())){var l=e.selectionStart,u=e.selectionEnd;e.value=i??"",u!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(u,e.value.length))}}),ut(t)==null&&e.value&&r(Ar(e)?Tr(e.value):e.value),Wr(()=>{var s=t();Ar(e)&&s===Tr(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}const Er=new Set;function Xa(e,t,r,n,s=n){var i=r.getAttribute("type")==="checkbox",l=e;if(t!==null)for(var u of t)l=l[u]??(l[u]=[]);l.push(r),Qr(r,"change",()=>{var v=r.__value;i&&(v=Bs(l,v,r.checked)),s(v)},()=>s(i?[]:null)),Wr(()=>{var v=n();i?(v=v||[],r.checked=v.includes(r.__value)):r.checked=Aa(r.__value,v)}),gr(()=>{var v=l.indexOf(r);v!==-1&&l.splice(v,1)}),Er.has(l)||(Er.add(l),zt(()=>{l.sort((v,c)=>v.compareDocumentPosition(c)===4?-1:1),Er.delete(l)})),zt(()=>{})}function Bs(e,t,r){for(var n=new Set,s=0;s<e.length;s+=1)e[s].checked&&n.add(e[s].__value);return r||n.delete(t),Array.from(n)}function Ar(e){var t=e.type;return t==="number"||t==="range"}function Tr(e){return e===""?null:+e}function en(e,t,r){if(e.multiple)return js(e,t);for(var n of e.options){var s=qt(n);if(Aa(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function $s(e,t){It(()=>{var r=new MutationObserver(()=>{var n=e.__value;en(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Us(e,t,r=t){var n=!0;Qr(e,"change",s=>{var i=s?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),qt);else{var u=e.querySelector(i)??e.querySelector("option:not([disabled])");l=u&&qt(u)}r(l)}),It(()=>{var s=t();if(en(e,s,n),n&&s===void 0){var i=e.querySelector(":checked");i!==null&&(s=qt(i),r(s))}e.__value=s,n=!1}),$s(e)}function js(e,t){for(var r of e.options)r.selected=~t.indexOf(qt(r))}function qt(e){return"__value"in e?e.__value:e.value}function ga(e,t){return e===t||(e==null?void 0:e[ft])===t}function qr(e={},t,r,n){return It(()=>{var s,i;return Wr(()=>{s=i,i=[],ut(()=>{e!==r(...i)&&(t(e,...i),s&&ga(r(...s),e)&&t(null,...s))})}),()=>{zt(()=>{i&&ga(r(...i),e)&&t(null,...i)})}}),e}function ha(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Fs(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function et(e){he===null&&vr(),Nt&&he.l!==null?Hs(he).m.push(e):vt(()=>{const t=ut(e);if(typeof t=="function")return t})}function yr(e){he===null&&vr(),et(()=>()=>ut(e))}function Vs(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function Gs(){const e=he;return e===null&&vr(),(t,r,n)=>{var i;const s=(i=e.s.$$events)==null?void 0:i[t];if(s){const l=Ut(s)?s.slice():[s],u=Vs(t,r,n);for(const v of l)v.call(e.x,u);return!u.defaultPrevented}return!0}}function Hs(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function tn(e,t,r){if(e==null)return t(void 0),Ie;const n=ut(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Ct=[];function rn(e,t=Ie){let r=null;const n=new Set;function s(u){if(Oa(e,u)&&(e=u,r)){const v=!Ct.length;for(const c of n)c[1](),Ct.push(c,e);if(v){for(let c=0;c<Ct.length;c+=2)Ct[c][0](Ct[c+1]);Ct.length=0}}}function i(u){s(u(e))}function l(u,v=Ie){const c=[u,v];return n.add(c),n.size===1&&(r=t(s,i)||Ie),u(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:l}}function dt(e){let t;return tn(e,r=>t=r)(),t}let Zt=!1,Pr=Symbol();function an(e,t,r){const n=r[t]??(r[t]={store:null,source:Kr(void 0),unsubscribe:Ie});if(n.store!==e&&!(Pr in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Ie;else{var s=!0;n.unsubscribe=tn(e,i=>{s?n.source.v=i:f(n.source,i)}),s=!1}return e&&Pr in r?dt(e):a(n.source)}function nn(){const e={};function t(){gr(()=>{for(var r in e)e[r].unsubscribe();ka(e,Pr,{enumerable:!1,value:!0})})}return[e,t]}function Ws(e){var t=Zt;try{return Zt=!1,[e(),Zt]}finally{Zt=t}}function ba(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Fe(e,t,r,n){var q;var s=(r&xn)!==0,i=!Nt||(r&Sn)!==0,l=(r&En)!==0,u=(r&An)!==0,v=!1,c;l?[c,v]=Ws(()=>e[t]):c=e[t];var _=ft in e||Un in e,p=l&&(((q=Tt(e,t))==null?void 0:q.set)??(_&&t in e&&(P=>e[t]=P)))||void 0,o=n,g=!0,h=!1,w=()=>(h=!0,g&&(g=!1,u?o=ut(n):o=n),o);c===void 0&&n!==void 0&&(p&&i&&Wn(),c=w(),p&&p(c));var m;if(i)m=()=>{var P=e[t];return P===void 0?w():(g=!0,h=!1,P)};else{var A=(s?Pt:Na)(()=>e[t]);A.f|=Bn,m=()=>{var P=a(A);return P!==void 0&&(o=void 0),P===void 0?o:P}}if((r&Cn)===0)return m;if(p){var k=e.$$legacy;return function(P,B){return arguments.length>0?((!i||!B||k||v)&&p(B?m():P),P):m()}}var C=!1,x=Kr(c),T=Pt(()=>{var P=m(),B=a(x);return C?(C=!1,B):x.v=P});return l&&a(T),s||(T.equals=Hr),function(P,B){if(arguments.length>0){const G=B?a(T):i&&l?ve(P):P;if(!T.equals(G)){if(C=!0,f(x,G),h&&o!==void 0&&(o=G),ba(T))return P;ut(()=>a(T))}return P}return ba(T)?T.v:a(T)}}function Js(){const e=he;return e===null&&vr(),t=>r=>{var s;const n=(s=e.s.$$events)==null?void 0:s[t];if(n){const i=Ut(n)?n.slice():[n];for(const l of i)l.call(e.x,r);return!r.defaultPrevented}return!0}}const ke=rn({active:"default",backends:{default:{url:"/",token:null}}}),De=rn({isAuthenticated:!1,isAuthenticating:!1,authError:null});let Lr=!1;function ea(){const e=dt(ke);return e.backends[e.active]||e.backends.default}function Br(){const e=ea();return e.url==="/"?"":e.url}function $r(){return ea().token}function sn(e,t){ke.update(r=>{var s;const n=((s=r.backends[e])==null?void 0:s.token)||null;return r.backends[e]={url:t,token:n},r})}async function wr(e){let t=!1;if(dt(ke).active!==e){ke.update(n=>(n.backends[e]&&(n.active=e),n));try{await Wt(),t=!0}catch(n){console.error("Error syncing auth state after backend change:",n)}}else t=!0;return t}function Ys(e,t){ke.update(r=>(r.backends[e]&&(r.backends[e].token=t),r)),e===dt(ke).active&&De.update(r=>({...r,isAuthenticated:!!t,authError:null}))}async function Te(e,t={}){const r=Br(),n=$r(),s=e.startsWith("/")||e===""?e:`/${e}`,i=`${r}${s}`;return t.headers=t.headers||{},t.credentials="include",n&&!e.includes("/auth/login")&&(document.cookie.includes("AuthToken=")||(t.headers.Cookie=`AuthToken=${n}`),t.headers.Authorization=`Bearer ${n}`),await fetch(i,t)}async function Ks(e,t={},r){const n={...t},s=new AbortController;n.signal=s.signal;const i=setTimeout(()=>s.abort(),r);try{return await Te(e,n)}finally{clearTimeout(i)}}function Ur(e,t,r=console.error){const n=Br(),s=$r(),i=e.startsWith("/")||e===""?e:`/${e}`,l=n||window.location.origin,u=new URL(`${l}${i}`);s&&u.searchParams.set("token",s);let v=null,c=!0,_=dt(ke).active;try{const p={withCredentials:!0};v=new EventSource(u.toString(),p),v.onmessage=g=>{try{const h=JSON.parse(g.data);t(h)}catch{t(g.data)}},v.onerror=g=>{v.readyState===EventSource.CLOSED&&Wt().catch(console.error),r(g),c&&!v&&setTimeout(()=>{if(c&&document.visibilityState!=="hidden")try{v=new EventSource(u.toString(),p)}catch(h){r(h)}},2e3)};const o=ke.subscribe(g=>{c&&g.active!==_&&(console.log("The Backend changed, I am reconnecting a SSE connection"),_=g.active,v&&(v.close(),v=null),setTimeout(()=>{if(c)try{const h=Br(),w=$r(),m=new URL(`${h||window.location.origin}${i}`);w&&m.searchParams.set("token",w),v=new EventSource(m.toString(),p),v.onmessage=v.onmessage,v.onerror=v.onerror}catch(h){r(h)}},100))});return{close:()=>{v&&(v.close(),v=null),c=!1,o()}}}catch(p){return r(p),c=!1,{close:()=>{}}}}async function Zs(e,t){De.update(r=>({...r,isAuthenticating:!0,authError:null}));try{const r=await Te("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:t})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Authentication failed")}const n=await r.json();return Ys(dt(ke).active,n.token),document.cookie=`AuthToken=${n.token}; path=/; max-age=${60*60*24}`,De.update(s=>({...s,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0}catch(r){return De.update(n=>({...n,isAuthenticated:!1,isAuthenticating:!1,authError:r.message})),!1}}async function Wt(){dt(ke).active,ea(),De.update(e=>({...e,isAuthenticating:!0}));try{const e=await Ks("/api/v2/auth/check",{method:"GET",headers:{Accept:"application/json"},credentials:"include"},500);return e.status===401?(De.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"Authentication required"})),!1):e.status===404?(De.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"endpoint not found"})),!1):e.ok?(De.update(t=>({...t,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0):(De.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:`API error: ${e.status} ${e.statusText}`})),!1)}catch(e){const t=e.name==="AbortError"?"Connection timed out. The server may be slow or unreachable.":e.message||"Connection error";return console.warn("Auth check failed:",e),De.update(r=>({...r,isAuthenticated:!1,isAuthenticating:!1,authError:t})),!1}}function ln(){var e,t,r;if(!Lr)try{const n=localStorage.getItem("ssui-backend-config");if(n){const i=JSON.parse(n),l={active:i.active&&((e=i.backends)!=null&&e[i.active])?i.active:"default",backends:{default:{url:"/",token:((r=(t=i.backends)==null?void 0:t.default)==null?void 0:r.token)||null}}};if(i.backends)for(const[u,v]of Object.entries(i.backends))u!=="default"&&(l.backends[u]={url:v.url,token:v.token||null});ke.set(l)}const s=ke.subscribe(i=>{try{localStorage.setItem("ssui-backend-config",JSON.stringify(i))}catch(l){console.error("Error saving backend config:",l)}});return Lr=!0,Wt().catch(console.error),s}catch(n){console.error("Error initializing API service:",n),Lr=!0}}const ta={forest:{name:"Forest Dark",properties:{"--bg-primary":"#1e1e1e","--bg-secondary":"#252526","--bg-tertiary":"#2d2d2d","--bg-hover":"#3c3c3c","--bg-active":"#3e4033","--text-primary":"#d4d4d4","--text-secondary":"#a9a9a9","--text-accent":"#6a9955","--text-warning":"#ce9178","--border-color":"#3e3e3e","--accent-primary":"#6a9955","--accent-secondary":"#4d7240","--accent-tertiary":"#5f7e52","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},vaxholmDark:{name:"Vaxholm Dark",properties:{"--bg-primary":"#121a12","--bg-secondary":"#1b2a1b","--bg-tertiary":"#243224","--bg-hover":"#2e3a2e","--bg-active":"#3a4a3a","--text-primary":"#d9e6d9","--text-secondary":"#a3b3a3","--text-accent":"#7a9a7a","--text-warning":"#c9a67a","--border-color":"#2a3a2a","--accent-primary":"#7a9a7a","--accent-secondary":"#5f7a5f","--accent-tertiary":"#6a8a6a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.5)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.6)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},archipelagoPastel:{name:"Archipelago Pastel",properties:{"--bg-primary":"#2e3b3e","--bg-secondary":"#3e4b4e","--bg-tertiary":"#4e5b5e","--bg-hover":"#5e6b6e","--bg-active":"#6e7b7e","--text-primary":"#dce7e7","--text-secondary":"#b0c0c0","--text-accent":"#a3c1ad","--text-warning":"#d9bba3","--border-color":"#4a5a5a","--accent-primary":"#a3c1ad","--accent-secondary":"#8bb394","--accent-tertiary":"#7aa383","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.25)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.35)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},colorblindFriendly:{name:"Colorblind Friendly",properties:{"--bg-primary":"#121212","--bg-secondary":"#1e1e1e","--bg-tertiary":"#2a2a2a","--bg-hover":"#383838","--bg-active":"#454545","--text-primary":"#ffffff","--text-secondary":"#bfbfbf","--text-accent":"#ffb300","--text-warning":"#ff3b3b","--border-color":"#666666","--accent-primary":"#ffb300","--accent-secondary":"#ffaa00","--accent-tertiary":"#cc8800","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.7)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.8)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},cyberpunkGlow:{name:"Cyberpunk Glow",properties:{"--bg-primary":"#0a0a23","--bg-secondary":"#1a1a3a","--bg-tertiary":"#2a2a5a","--bg-hover":"#3a3a7a","--bg-active":"#4a4a9a","--text-primary":"#e0e0ff","--text-secondary":"#a0a0ff","--text-accent":"#ff00ff","--text-warning":"#ff4d4d","--border-color":"#660066","--accent-primary":"#ff00ff","--accent-secondary":"#cc00cc","--accent-tertiary":"#990099","--shadow-light":"0 0 8px #ff00ff","--shadow-medium":"0 0 16px #ff00ff","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},v1Classic:{name:"Stationeers Server UI (Classic)",properties:{"--bg-primary":"#0a0a14","--bg-secondary":"#1b1b2f8f","--bg-tertiary":"#2a2a5a","--bg-hover":"#2a2a5a","--bg-active":"#4a4a9a","--text-primary":"#00fca9","--text-secondary":"#00fca9","--text-accent":"#00fca9","--text-warning":"#ff4d4d","--border-color":"#660066","--accent-primary":"#0eefa9","--accent-secondary":"#cc00cc","--accent-tertiary":"#990099","--shadow-light":"0 0 8px #0df2aa","--shadow-medium":"0 0 16px #0df2aa","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},lightArchipelago:{name:"Light Archipelago",properties:{"--bg-primary":"#f0f4f3","--bg-secondary":"#d9e4e1","--bg-tertiary":"#c0d1cd","--bg-hover":"#b0c4bf","--bg-active":"#a0b4af","--text-primary":"#2a3a33","--text-secondary":"#4a5a53","--text-accent":"#7a9a7a","--text-warning":"#c97a5a","--border-color":"#a0b0a8","--accent-primary":"#7a9a7a","--accent-secondary":"#5f7a5f","--accent-tertiary":"#6a8a6a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.1)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.15)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},oceanBreeze:{name:"Ocean Breeze",properties:{"--bg-primary":"#1a2a38","--bg-secondary":"#253545","--bg-tertiary":"#2f4055","--bg-hover":"#3a4c66","--bg-active":"#4a5c76","--text-primary":"#e0eaf0","--text-secondary":"#b0c0d0","--text-accent":"#68c1e8","--text-warning":"#f0ad4e","--border-color":"#456277","--accent-primary":"#68c1e8","--accent-secondary":"#4fa3ca","--accent-tertiary":"#3a89b0","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},sunsetGlow:{name:"Sunset Glow",properties:{"--bg-primary":"#272133","--bg-secondary":"#332940","--bg-tertiary":"#3e304d","--bg-hover":"#4b3a5d","--bg-active":"#57446d","--text-primary":"#f5e6ff","--text-secondary":"#d1b6e1","--text-accent":"#ff9e7a","--text-warning":"#ffcc66","--border-color":"#5d4970","--accent-primary":"#ff9e7a","--accent-secondary":"#e68a6a","--accent-tertiary":"#cc775a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.35)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.45)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},mintChocolate:{name:"Mint Chocolate",properties:{"--bg-primary":"#1e2721","--bg-secondary":"#26322a","--bg-tertiary":"#2e3d33","--bg-hover":"#38493e","--bg-active":"#425548","--text-primary":"#e0f0e8","--text-secondary":"#b0c5b8","--text-accent":"#7fe0c3","--text-warning":"#d9b382","--border-color":"#3d4940","--accent-primary":"#7fe0c3","--accent-secondary":"#58c4a3","--accent-tertiary":"#3ba483","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},lavenderFields:{name:"Lavender Fields",properties:{"--bg-primary":"#2b2440","--bg-secondary":"#352e4e","--bg-tertiary":"#3f385c","--bg-hover":"#4a426a","--bg-active":"#554c78","--text-primary":"#ece8ff","--text-secondary":"#c7c0e3","--text-accent":"#b28dff","--text-warning":"#ffad9c","--border-color":"#4d4566","--accent-primary":"#b28dff","--accent-secondary":"#9a77e0","--accent-tertiary":"#8360c6","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.35)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.45)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},nordAurora:{name:"Kirkeness",properties:{"--bg-primary":"#2e3440","--bg-secondary":"#3b4252","--bg-tertiary":"#434c5e","--bg-hover":"#4c566a","--bg-active":"#5e6779","--text-primary":"#eceff4","--text-secondary":"#d8dee9","--text-accent":"#88c0d0","--text-warning":"#ebcb8b","--border-color":"#4c566a","--accent-primary":"#88c0d0","--accent-secondary":"#81a1c1","--accent-tertiary":"#5e81ac","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.25)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.35)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}}},er=Object.keys(ta);let kr="forest";function cr(e){const t=ta[e];if(!t)return;kr=e;const r=document.documentElement;Object.entries(t.properties).forEach(([n,s])=>{r.style.setProperty(n,s)}),localStorage.setItem("theme",e)}function Qs(){const t=(er.indexOf(kr)+1)%er.length;cr(er[t])}function Xs(){return kr}function ei(){return er}function ti(){const e=localStorage.getItem("theme");e&&ta[e]?cr(e):cr(kr)}const on={initTheme:ti,applyTheme:cr,nextTheme:Qs,getCurrentTheme:Xs,getThemes:ei};function ri(e,t,r){e.stopPropagation(),f(t,!a(t)),a(t)&&f(r,!1)}function ai(e,t,r){e.stopPropagation(),f(t,!a(t)),a(t)&&f(r,!1)}async function ni(e,t){try{localStorage.removeItem("ssui-backend-config"),document.cookie="AuthToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",window.location.href="/login"}catch(r){console.error("Logout failed:",r),f(t,!1)}}function si(){on.nextTheme()}var ii=(e,t)=>t.setActiveView("dashboard"),li=(e,t,r)=>t.setActiveView(a(r).id),oi=R("<button> </button>"),ci=(e,t,r)=>t(a(r)),vi=R('<span class="active-marker svelte-z1bun8">‚úì</span>'),ui=R('<div><div class="backend-info svelte-z1bun8"><span class="status-dot svelte-z1bun8"></span> <span class="backend-name svelte-z1bun8"> </span></div> <!></div>'),di=R('<div class="backend-dropdown svelte-z1bun8"><div class="dropdown-header svelte-z1bun8"><h3 class="svelte-z1bun8">Select Backend</h3></div> <div class="dropdown-content svelte-z1bun8"></div></div>'),fi=R('<div class="user-dropdown svelte-z1bun8"><div class="user-dropdown-header svelte-z1bun8"><div class="user-info svelte-z1bun8"><div class="user-avatar large svelte-z1bun8">SA</div> <div class="user-details svelte-z1bun8"><div class="user-name svelte-z1bun8">Admin</div> <div class="user-email svelte-z1bun8">Superadmin</div></div></div></div> <div class="dropdown-content svelte-z1bun8"><div class="dropdown-item svelte-z1bun8"><span class="item-icon svelte-z1bun8">üåô</span> <span>Switch Theme</span></div> <div class="divider svelte-z1bun8"></div> <div class="dropdown-item logout svelte-z1bun8"><span class="item-icon svelte-z1bun8">üö™</span> <span>Logout & Reset Interface</span></div></div></div>'),pi=R('<nav class="top-nav svelte-z1bun8"><div class="nav-left svelte-z1bun8"><div class="logo svelte-z1bun8"><span class="logo-icon svelte-z1bun8">‚öôÔ∏è</span> <span class="logo-text svelte-z1bun8">SSUI</span></div> <div class="nav-buttons svelte-z1bun8"></div></div> <div class="nav-right svelte-z1bun8"><div class="backend-selector svelte-z1bun8"><button class="backend-toggle svelte-z1bun8"><span class="status-indicator svelte-z1bun8"> </span> <span class="backend-label"> </span> <span class="dropdown-arrow svelte-z1bun8"> </span></button> <!></div> <div class="datetime svelte-z1bun8"><span class="date svelte-z1bun8"> </span> <span class="time svelte-z1bun8"> </span></div> <div class="user-menu-container svelte-z1bun8"><button class="user-button svelte-z1bun8"><span class="user-avatar svelte-z1bun8">SA</span></button> <!></div></div></nav>');function _i(e,t){xe(t,!0);const r=Js();let n=Fe(t,"views",19,()=>[]),s=Fe(t,"activeView",3,"dashboard"),i=z(ve(new Date)),l=z(!1),u=z(!1),v=z(ve([])),c=z(""),_=z(ve({})),p,o,g;const h=ke.subscribe(E=>{const M=Object.keys(E.backends),I=E.active,j=I!==a(c);f(v,M,!0),f(c,I,!0);const J={...a(_)};a(v).forEach(oe=>{oe in J||(J[oe]={status:"unknown",lastChecked:null})}),f(_,J,!0),j&&a(c)&&(w(a(c)),m())});function w(E){if(!E||!a(v).includes(E))return;const M={...a(_)};M[E]={...M[E],status:"connecting"},f(_,M,!0),clearTimeout(p),p=setTimeout(async()=>{try{const I=await Te("/api/v2/server/status"),j={...a(_)};I?j[E]={status:"connected",lastChecked:new Date,details:I}:j[E]={status:"error",lastChecked:new Date,details:I},f(_,j,!0)}catch(I){const j={...a(_)};j[E]={status:"error",lastChecked:new Date,errorMessage:I.message},f(_,j,!0)}},800)}function m(){o&&clearInterval(o),o=setInterval(()=>{if(a(c)){const E=a(c);w(E)}},1e4)}function A(){g=E=>{const M=document.querySelector(".backend-selector"),I=document.querySelector(".user-menu-container");M&&!M.contains(E.target)&&f(l,!1),I&&!I.contains(E.target)&&f(u,!1)},document.addEventListener("click",g)}et(()=>{on.initTheme(),A();const E=setInterval(()=>{f(i,new Date,!0)},6e4);return a(c)&&w(a(c)),m(),()=>{clearInterval(E),clearInterval(o),clearTimeout(p),h(),document.removeEventListener("click",g)}}),yr(()=>{clearInterval(o),clearTimeout(p)});function k(E){if(E===a(c)){w(E),f(l,!1);return}wr(E),f(c,E,!0),w(E),m(),f(l,!1)}function C(E){var I;switch(((I=a(_)[E])==null?void 0:I.status)||"unknown"){case"connected":return"üü¢";case"connecting":return"üü†";case"error":return"üî¥";default:return"‚ö™"}}function x(E,{duration:M=300}){return{duration:M,css:I=>`
        transform: translateY(${(1-I)*-10}px);
        opacity: ${I};
      `}}let T=$e(()=>a(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),q=$e(()=>a(i).toLocaleDateString([],{month:"short",day:"numeric"}));var P=pi(),B=d(P),G=d(B);G.__click=[ii,t];var K=b(G,2);qe(K,21,n,je,(E,M)=>{var I=oi();I.__click=[li,t,M];var j=d(I);H(()=>{pe(I,1,Ls(s()===a(M).id?"active":""),"svelte-z1bun8"),$(j,a(M).name)}),y(E,I)});var te=b(B,2),W=d(te),X=$e(()=>ha(r("click")));W.__click=function(...E){var M;(M=a(X))==null||M.apply(this,E)};var re=d(W);re.__click=[ri,l,u];var se=d(re),N=d(se),D=b(se,2),L=d(D),U=b(D,2),Z=d(U),Y=b(re,2);{var V=E=>{var M=di(),I=b(d(M),2);qe(I,21,()=>a(v),je,(j,J)=>{var oe=ui();oe.__click=[ci,k,J];var ie=d(oe),ae=d(ie),ee=b(ae,2),de=d(ee),ge=b(ie,2);{var Q=ne=>{var We=vi();y(ne,We)};O(ge,ne=>{a(J)===a(c)&&ne(Q)})}H(()=>{var ne,We,Ve;pe(oe,1,`dropdown-item ${a(J)===a(c)?"active":""}`,"svelte-z1bun8"),_t(ae,`background-color: ${((ne=a(_)[a(J)])==null?void 0:ne.status)==="connected"?"var(--accent-primary)":((We=a(_)[a(J)])==null?void 0:We.status)==="connecting"?"var(--text-warning)":((Ve=a(_)[a(J)])==null?void 0:Ve.status)==="error"?"var(--text-danger)":"var(--text-secondary)"}`),$(de,a(J))}),y(j,oe)}),Kt(1,M,()=>x,()=>({duration:150})),Kt(2,M,()=>x,()=>({duration:150})),y(E,M)};O(Y,E=>{a(l)&&E(V)})}var ce=b(W,2),be=d(ce),ye=d(be),_e=b(be,2),me=d(_e),we=b(ce,2),Oe=$e(()=>ha(r("click")));we.__click=function(...E){var M;(M=a(Oe))==null||M.apply(this,E)};var Ee=d(we);Ee.__click=[ai,u,l];var S=b(Ee,2);{var F=E=>{var M=fi(),I=b(d(M),2),j=d(I);j.__click=[si];var J=b(j,4);J.__click=[ni,u],Kt(1,M,()=>x,()=>({duration:150})),Kt(2,M,()=>x,()=>({duration:150})),y(E,M)};O(S,E=>{a(u)&&E(F)})}H(E=>{$(N,E),$(L,a(c)),$(Z,a(l)?"‚ñ≤":"‚ñº"),$(ye,a(q)),$(me,a(T))},[()=>C(a(c))]),y(e,P),Se()}Re(["click"]);function gi(e,t){f(t,!a(t))}var hi=(e,t,r)=>t.setActiveView(a(r).id),bi=R('<button><span class="sidebar-icon svelte-14awm4t"><!></span> <span class="sidebar-text svelte-14awm4t"> </span></button>'),mi=R('<aside><div class="pin-container svelte-14awm4t"><button><!></button></div> <nav class="sidebar-nav svelte-14awm4t"></nav> <div class="sidebar-footer svelte-14awm4t"><div class="server-status svelte-14awm4t"><div class="status-indicator online svelte-14awm4t"></div> <span class="status-text svelte-14awm4t">Servers: 3 Online</span></div> <div class="memory-usage svelte-14awm4t"><div class="progress-bar svelte-14awm4t"><div class="progress svelte-14awm4t" style="width: 65%"></div></div> <span class="memory-text svelte-14awm4t">Memory: 65%</span></div></div></aside>');function yi(e,t){xe(t,!0);let r=Fe(t,"views",19,()=>[]),n=Fe(t,"activeView",3,"dashboard"),s=z(!1),i=z(!1);function l(){f(s,!0)}function u(){f(s,!1)}let v=$e(()=>a(s)||a(i));var c=mi();let _;var p=d(c),o=d(p);let g;o.__click=[gi,i];var h=d(o);{var w=k=>{var C=le("üìå");y(k,C)},m=k=>{var C=le("üìç");y(k,C)};O(h,k=>{a(i)?k(w):k(m,!1)})}var A=b(p,2);qe(A,21,r,je,(k,C)=>{var x=bi();let T;x.__click=[hi,t,C];var q=d(x),P=d(q);{var B=W=>{var X=le("üìä");y(W,X)},G=(W,X)=>{{var re=N=>{var D=le("‚öôÔ∏è");y(N,D)},se=(N,D)=>{{var L=Z=>{var Y=le("üìù");y(Z,Y)},U=(Z,Y)=>{{var V=ce=>{var be=le(">");y(ce,be)};O(Z,ce=>{a(C).icon==="terminal"&&ce(V)},Y)}};O(N,Z=>{a(C).icon==="file-text"?Z(L):Z(U,!1)},D)}};O(W,N=>{a(C).icon==="settings"?N(re):N(se,!1)},X)}};O(P,W=>{a(C).icon==="grid"?W(B):W(G,!1)})}var K=b(q,2),te=d(K);H(W=>{T=pe(x,1,"sidebar-button svelte-14awm4t",null,T,W),$(te,a(C).name)},[()=>({active:n()===a(C).id})]),y(k,x)}),H((k,C)=>{_=pe(c,1,"sidebar svelte-14awm4t",null,_,k),g=pe(o,1,"pin-button svelte-14awm4t",null,g,C)},[()=>({expanded:a(v)}),()=>({active:a(i)})]),Dr("mouseenter",c,l),Dr("mouseleave",c,u),y(e,c),Se()}Re(["click"]);Xn();var wi=(e,t)=>t("start"),ki=(e,t)=>t("stop"),xi=Ht('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),Si=Ht('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),Ci=R('<div><div class="response-icon svelte-1b4j9ko"><!></div> <div class="response-text svelte-1b4j9ko"> </div></div>'),Ei=R('<div class="card server-control svelte-1b4j9ko"><div class="button-group svelte-1b4j9ko"><button> </button> <button> </button></div> <!></div>');function Ai(e,t){xe(t,!0);let r=z(!1),n=z(null),s=z(""),i=z(!1);async function l(A){f(r,!0),f(n,A,!0),f(i,!1);try{const k=await Te(`/api/v2/server/${A}`,{method:"POST"}),C=await k.text();k.ok||f(i,!0),f(s,C,!0)}catch(k){f(i,!0),f(s,"Failed to connect to server"),console.error("Error:",k)}finally{f(r,!1)}}var u=Ei(),v=d(u),c=d(v);c.__click=[wi,l];let _;var p=d(c),o=b(c,2);o.__click=[ki,l];let g;var h=d(o),w=b(v,2);{var m=A=>{var k=Ci(),C=d(k),x=d(C);{var T=G=>{var K=xi();y(G,K)},q=G=>{var K=Si();y(G,K)};O(x,G=>{a(i)?G(T):G(q,!1)})}var P=b(C,2),B=d(P);H(()=>{pe(k,1,`response-message ${a(i)?"error":"success"}`,"svelte-1b4j9ko"),$(B,a(s))}),y(A,k)};O(w,A=>{a(s)&&A(m)})}H((A,k)=>{c.disabled=a(r),_=pe(c,1,"start-button svelte-1b4j9ko",null,_,A),$(p,a(r)&&a(n)==="start"?"Starting...":"Start Server"),o.disabled=a(r),g=pe(o,1,"stop-button svelte-1b4j9ko",null,g,k),$(h,a(r)&&a(n)==="stop"?"Stopping...":"Stop Server")},[()=>({active:a(n)==="start"&&!a(r)}),()=>({active:a(n)==="stop"&&!a(r)})]),y(e,u),Se()}Re(["click"]);async function Ti(e,t,r,n){f(t,!0),f(r,!1),f(n,"");try{const s=await Te("/api/v2/loader/reloadall",{method:"GET"});let i;try{i=await s.json()}catch{throw new Error("Invalid response format")}!s.ok||i.status!=="OK"?(f(r,!0),f(n,i.message||"Backend reload failed",!0)):f(n,"Backend reload triggered")}catch(s){f(r,!0),f(n,s.message||"Failed to connect to server",!0),console.error("Error:",s)}finally{f(t,!1)}}var Li=Ht('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),zi=Ht('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),Ri=R('<div><div class="response-icon svelte-1bn0ayy"><!></div> <div class="response-text svelte-1bn0ayy"> </div></div>'),Oi=R('<div class="card reload-control svelte-1bn0ayy"><button> </button> <!></div>');function Ni(e,t){xe(t,!0);let r=z(!1),n=z(""),s=z(!1);var i=Oi(),l=d(i);l.__click=[Ti,r,s,n];let u;_t(l,"",{},{"background-color":"var(--bg-hover)"});var v=d(l),c=b(l,2);{var _=p=>{var o=Ri(),g=d(o),h=d(g);{var w=C=>{var x=Li();y(C,x)},m=C=>{var x=zi();y(C,x)};O(h,C=>{a(s)?C(w):C(m,!1)})}var A=b(g,2),k=d(A);H(()=>{pe(o,1,`response-message ${a(s)?"error":"success"}`,"svelte-1bn0ayy"),$(k,a(n))}),y(p,o)};O(c,p=>{a(n)&&p(_)})}H(p=>{l.disabled=a(r),u=pe(l,1,"svelte-1bn0ayy",null,u,p),$(v,a(r)?"üïê Reloading...":"üîÉ Reload Backend")},[()=>({active:!a(r)})]),y(e,i),Se()}Re(["click"]);var Di=R('<div class="card quick-actions svelte-1a641ul"><div class="card-header svelte-1a641ul"><h3 class="svelte-1a641ul">Quick Actions</h3> <div class="card-icon svelte-1a641ul">‚ö°</div></div> <!> <div class="action-buttons svelte-1a641ul"><!></div></div>');function Ii(e){var t=Di(),r=b(d(t),2);Ai(r,{});var n=b(r,2),s=d(n);Ni(s,{}),y(e,t)}function Mi(e,t,r,n){f(t,!a(t)),a(t)&&(r(),n())}var qi=(e,t)=>t("console-tab"),Pi=(e,t)=>t("detection-tab"),Bi=R('<div class="svelte-13trlk3"> </div>'),$i=R('<div class="console-tab active svelte-13trlk3"><div class="console svelte-13trlk3"></div></div>'),Ui=R('<div><span class="event-timestamp svelte-13trlk3"> </span> <span class="svelte-13trlk3"> </span></div>'),ji=R('<div class="detection-tab active svelte-13trlk3"><div class="detection-console svelte-13trlk3"></div></div>'),Fi=R('<div class="console-view svelte-13trlk3"><div class="console-controls svelte-13trlk3"><div class="console-tabs svelte-13trlk3"><button>Console</button> <button>Detections</button></div> <button class="autoscroll-button svelte-13trlk3"> </button></div> <div class="tab-content svelte-13trlk3"><!></div></div>');function cn(e,t){xe(t,!0);let r=z(void 0),n=z(void 0),s=null,i=null,l=z("console-tab"),u=z(!0);const v=["Teaching AI to say 'please' and 'thank you'...","Calibrating interdimensional server relays...","Spinning up player fun generators...","Scanning for gremlins in the server room...","Brewing energy drinks for the GPU...","Charging up epic loot spawners...","Teaching AI to high-five players...","Polishing textures to a glossy finish...","Herding electrons into neat little rows...","Rebooting server dreams for the 42nd time...","Locating your character after that teleport glitch...","Converting lag into pure chaos, efficiently...","Convincing physics engine that walls are solid...","Calculating odds of your inventory vanishing...","Optimizing server ticks (fingers crossed)...","Syncing game world with cosmic clock...","Patching rips in the fabric of virtual reality...","Convincing server that 'uptime' is not a myth...","Mediating truce between CPU and lag spikes...","Compressing map data until the server squeaks...","Measuring distance to the next game-breaking bug...","Explaining 'netcode' to confused server pigeons...","Calculating chance of a crash (don‚Äôt ask)...","Corraling rogue packets back into the pipeline...","Sacrificing bandwidth to the frame-rate deities...","Raising sails!"];let c=z(ve([])),_=z(ve([])),p=z(!1);function o(N){f(l,N,!0),N==="detection-tab"&&f(p,!1)}et(async()=>{await g("Console initializing...");const N=Math.floor(Math.random()*v.length);h(v[N],"#0af","italic");let D;do D=Math.floor(Math.random()*v.length);while(D===N);h(v[D],"#0af","italic"),k(),C(),Math.random()<.5?(h("ERROR: Console was hacked by AI. Initiating counter-measure...","red"),setTimeout(()=>{h("Sequence complete. AI defeated. Continuing initialization...","green"),A()},1e3)):A()}),yr(()=>{s&&(s.close(),s=null),i&&(i.close(),i=null)});async function g(N,D=30){let L=0;return new Promise(U=>{const Z=setInterval(()=>{L<N.length?(f(c,[...a(c),{text:N.substring(0,++L),color:"white",style:"normal",isTyping:!0}],!0),f(c,a(c).slice(-1),!0)):(clearInterval(Z),f(c,a(c).filter(Y=>!Y.isTyping),!0),U())},D)})}function h(N,D="white",L="normal"){f(c,[...a(c),{text:N,color:D,style:L}],!0),a(u)&&setTimeout(()=>w(),50)}function w(){a(r)&&a(u)&&(a(r).scrollTop=a(r).scrollHeight)}function m(){a(n)&&a(u)&&(a(n).scrollTop=a(n).scrollHeight)}function A(){setTimeout(()=>{h("Console ready.üéÆ Happy gaming! üéÆ","#0f0"),a(u)&&setTimeout(w,50)},500)}function k(){s&&(s.close(),s=null),s=Ur("/console",N=>{h(N)},N=>{console.error("Console stream error:",N),s=null,h("Warning: Console stream unavailable. Retrying...","#ff0"),setTimeout(()=>{!s&&document.visibilityState!=="hidden"&&k()},2e3)})}function C(){i&&(i.close(),i=null),i=Ur("/events",N=>{const D=x(N),L=new Date().toLocaleTimeString();f(_,[...a(_),{timestamp:L,message:N,className:D}],!0),a(_).length>500&&f(_,a(_).slice(-500),!0),a(u)&&setTimeout(m,50),a(l)!=="detection-tab"&&f(p,!0)},N=>{console.error("Detection events stream error:",N),i=null,setTimeout(()=>{!i&&document.visibilityState!=="hidden"&&C()},2e3)})}function x(N){return N.includes("ERROR")||N.includes("FATAL")?"error":N.includes("WARNING")?"warning":N.includes("SUCCESS")?"success":"info"}var T=Fi(),q=d(T),P=d(q),B=d(P);B.__click=[qi,o];var G=b(B,2);G.__click=[Pi,o];var K=b(P,2);K.__click=[Mi,u,w,m];var te=d(K),W=b(q,2),X=d(W);{var re=N=>{var D=$i(),L=d(D);qe(L,21,()=>a(c),je,(U,Z)=>{var Y=Bi(),V=d(Y);H(()=>{_t(Y,`color: ${a(Z).color??""}; font-style: ${a(Z).style??""}`),$(V,a(Z).text)}),y(U,Y)}),qr(L,U=>f(r,U),()=>a(r)),y(N,D)},se=N=>{var D=ji(),L=d(D);qe(L,21,()=>a(_),je,(U,Z)=>{var Y=Ui(),V=d(Y),ce=d(V),be=b(V,2),ye=d(be);H(()=>{pe(Y,1,`detection-event ${a(Z).className??""}`,"svelte-13trlk3"),$(ce,`${a(Z).timestamp??""}:`),$(ye,a(Z).message)}),y(U,Y)}),qr(L,U=>f(n,U),()=>a(n)),y(N,D)};O(X,N=>{a(l)==="console-tab"?N(re):N(se,!1)})}H(()=>{pe(B,1,`tab-button ${a(l)==="console-tab"?"active":""}`,"svelte-13trlk3"),pe(G,1,`tab-button ${a(l)==="detection-tab"?"active":""} ${a(p)?"notification":""}`,"svelte-13trlk3"),Ae(K,"title",a(u)?"Disable Auto-scroll":"Enable Auto-scroll"),$(te,a(u)?"‚è¨ Auto-scroll: ON":"‚è´ Auto-scroll: OFF")}),y(e,T),Se()}Re(["click"]);var Vi=R('<div class="card console-card wide svelte-4btkab"><!></div>');function Gi(e){var t=Vi(),r=d(t);cn(r,{}),y(e,t)}var Hi=R('<div class="card activity-card svelte-r575vc"><div class="card-header svelte-r575vc"><h3 class="svelte-r575vc">Recent Activity</h3> <div class="card-icon svelte-r575vc">üîÑ</div></div> <div class="activity-list svelte-r575vc"><div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">2.0000003 min ago (¬±0.0001s sync drift)</div> <div class="activity-text svelte-r575vc">Task failed successfully</div></div> <div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">15 min ago (server tick #123456789)</div> <div class="activity-text svelte-r575vc">User "admin" logged in from planet Venus (wtf?)</div></div> <div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">3 decades ago (CPU cycles: 3.2e12)</div> <div class="activity-text svelte-r575vc">If not clear already, this is a mockup!</div></div></div> <button class="btn small svelte-r575vc">View All Activity Logs (42,069 entries)</button></div>');function Wi(e){var t=Hi();y(e,t)}var Ji=R('<div class="error svelte-y3l85r"> </div> <button class="retry-button">Retry</button>',1),Yi=R('<div class="resource-metrics svelte-y3l85r"><div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">System CPU Usage</div> <div class="metric-bar svelte-y3l85r"></div></div> <div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">Memory Consumption</div> <div class="metric-bar svelte-y3l85r"></div></div> <div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">Disk Space Unused</div> <div class="metric-bar svelte-y3l85r"></div></div></div> <div class="info-grid svelte-y3l85r"><div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">OS Version</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Kernel</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Uptime</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Backend IP Address</div> <div class="info-value svelte-y3l85r"> </div></div></div> <div class="info-grid svelte-y3l85r"><div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Last Refresh</div> <div class="info-value svelte-y3l85r"> </div></div></div>',1),Ki=R('<div class="loading svelte-y3l85r">Loading system information...</div>'),Zi=R('<div class="card info-card svelte-y3l85r"><div class="card-header svelte-y3l85r"><h3 class="svelte-y3l85r">System Information</h3> <div class="card-icon svelte-y3l85r">‚ÑπÔ∏è</div></div> <!></div>');function Qi(e,t){xe(t,!0);let r=z(null),n=z(null),s=z(null);async function i(){try{const _=await Te("/api/v2/osstats",{raw:!0}),p=await _.json();if(f(s,JSON.stringify({status:_.status,headers:Object.fromEntries(_.headers.entries()),body:p},null,2),!0),p&&typeof p=="object"&&Object.keys(p).length>0)f(r,{...p},!0),f(n,null);else throw new Error("Empty or invalid response data")}catch(_){f(n,`Failed to fetch system information: ${_.message}`),f(r,null),a(s)||f(s,`Error: ${_.message}
Stack: ${_.stack}`),console.error("Fetch error:",_)}}vt(()=>{i();const _=setInterval(i,3e4);return()=>clearInterval(_)});var l=Zi(),u=b(d(l),2);{var v=_=>{var p=Ji(),o=Me(p),g=d(o),h=b(o,2);h.__click=i,H(()=>$(g,a(n))),y(_,p)},c=(_,p)=>{{var o=h=>{var w=Yi(),m=Me(w),A=d(m),k=d(A),C=d(k),x=b(k,4),T=b(A,2),q=d(T),P=d(q),B=b(q,4),G=b(T,2),K=d(G),te=d(K),W=b(K,4),X=b(m,2),re=d(X),se=b(d(re),2),N=d(se),D=b(re,2),L=b(d(D),2),U=d(L),Z=b(D,2),Y=b(d(Z),2),V=d(Y),ce=b(Z,2),be=b(d(ce),2),ye=d(be),_e=b(X,2),me=d(_e),we=b(d(me),2),Oe=d(we);H((Ee,S,F,E)=>{$(C,`${Ee??""}%`),_t(x,`--value: ${(typeof a(r).cpuUsage=="number"?a(r).cpuUsage:0)??""}%; --color: var(--accent-primary);`),$(P,`${S??""} GB`),_t(B,`--value: ${typeof a(r).memoryUsage=="number"?a(r).memoryUsage/1024*10:0}%; --color: var(--accent-secondary);`),$(te,`${F??""}%`),_t(W,`--value: ${typeof a(r).diskUsage=="number"?100-a(r).diskUsage:0}%; --color: var(--accent-tertiary);`),$(N,`${a(r).osName||"Temple OS v3.14.15"} ${(a(r).osVersion||"")??""}`),$(U,a(r).kernel||"Cannot detect"),$(V,a(r).uptime||"Cannot detect"),$(ye,a(r).backendIpAddress||"Cannot detect"),$(Oe,E)},[()=>typeof a(r).cpuUsage=="number"?a(r).cpuUsage.toFixed(2):"N/A",()=>typeof a(r).memoryUsage=="number"?(a(r).memoryUsage/1024).toFixed(2):"N/A",()=>typeof a(r).diskUsage=="number"?(100-a(r).diskUsage).toFixed(2):"N/A",()=>a(r).lastRefreshTime?new Date(a(r).lastRefreshTime).toLocaleString():"Cannot detect"]),y(h,w)},g=h=>{var w=Ki();y(h,w)};O(_,h=>{a(r)?h(o):h(g,!1)},p)}};O(u,_=>{a(n)?_(v):_(c,!1)})}y(e,l),Se()}Re(["click"]);var Xi=R('<div class="dashboard-grid svelte-kt223o"><!> <!> <!> <!></div>');function el(e){var t=Xi(),r=d(t);Ii(r);var n=b(r,2);Qi(n,{});var s=b(n,2);Gi(s);var i=b(s,2);Wi(i),y(e,t)}var tl=(e,t,r)=>t(a(r)),rl=R("<button> </button>"),al=(e,t,r)=>t(a(r),e),nl=R('<input type="checkbox" class="svelte-1iyqb86">'),sl=(e,t,r)=>t(a(r),e),il=R('<input type="number" class="svelte-1iyqb86">'),ll=(e,t,r)=>t(a(r),e),ol=R('<input type="text" class="svelte-1iyqb86">'),cl=(e,t,r)=>t(a(r),e),vl=R('<textarea class="svelte-1iyqb86"></textarea>'),ul=(e,t,r)=>t(a(r),e),dl=R('<input type="text" class="svelte-1iyqb86">'),fl=R('<div class="setting-item svelte-1iyqb86"><label class="svelte-1iyqb86"><span> </span> <!></label> <div class="input-info svelte-1iyqb86"> </div></div>'),pl=R('<div class="settings-group svelte-1iyqb86"><h3 class="svelte-1iyqb86"> </h3> <div class="channel-grid svelte-1iyqb86"></div></div>'),_l=(e,t)=>f(t,""),gl=R('<div><span class="status-icon svelte-1iyqb86"> </span> <span> </span> <button class="close-status svelte-1iyqb86">√ó</button></div>'),hl=R('<div class="settings-group-nav svelte-1iyqb86"></div> <!> <!>',1),bl=R('<div class="loading-container svelte-1iyqb86"><div class="loading-spinner svelte-1iyqb86"></div> <p>Loading settings...</p></div>'),ml=R('<div class="settings-container svelte-1iyqb86"><h2 class="svelte-1iyqb86">General Settings</h2> <p class="settings-intro svelte-1iyqb86">Configure general application settings. Changes will be applied immediately.</p> <!></div>');function yl(e,t){xe(t,!0);let r=z(ve([])),n=z(ve([])),s=z(""),i=z(""),l=z(!1),u;et(async()=>{await v()});async function v(){try{const m=await Te("/api/v2/settings"),{data:A,error:k}=await m.json();if(k){o(`Failed to load settings: ${k}`,!0);return}f(r,A,!0),f(n,[...new Set(a(r).map(C=>C.group))],!0),a(n).length>0&&f(s,a(n)[0],!0)}catch(m){o(`Error fetching settings: ${m.message}`,!0)}}function c(m){f(s,m,!0)}async function _(m,A){try{const k=await Te("/api/v2/settings/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[m]:A})}),{status:C,message:x}=await k.json();if(C==="error"){o(`Failed to update ${m}: ${x}`,!0);return}o(`Updated ${m} successfully`,!1)}catch(k){o(`Error updating ${m}: ${k.message}`,!0)}}function p(m,A){const k=A.target;let C;if(m.type==="bool")C=k.checked;else if(m.type==="int"){if(C=k.value?parseInt(k.value):null,m.required&&!C){o(`Value for ${m.name} is required`,!0);return}}else if(m.type==="array")C=k.value?k.value.split(",").map(x=>x.trim()):[];else if(m.type==="map")try{C=JSON.parse(k.value)}catch(x){o(`Invalid JSON for ${m.name}: ${x.message}`,!0);return}else C=k.value;_(m.name,C)}function o(m,A){f(i,m,!0),f(l,A,!0),u&&clearTimeout(u),u=setTimeout(()=>{f(i,"")},3e4)}var g=st(),h=Me(g);{var w=m=>{var A=ml(),k=b(d(A),4);{var C=T=>{var q=hl(),P=Me(q);qe(P,21,()=>a(n),je,(te,W)=>{var X=rl();X.__click=[tl,c,W];var re=d(X);H(()=>{pe(X,1,`section-nav-button ${a(s)===a(W)?"active":""}`,"svelte-1iyqb86"),$(re,a(W))}),y(te,X)});var B=b(P,2);qe(B,17,()=>a(n),je,(te,W)=>{var X=st(),re=Me(X);{var se=N=>{var D=pl(),L=d(D),U=d(L),Z=b(L,2);qe(Z,21,()=>a(r).filter(Y=>Y.group===a(W)),je,(Y,V)=>{var ce=fl(),be=d(ce),ye=d(be),_e=d(ye),me=b(ye,2);{var we=F=>{var E=nl();E.__change=[al,p,V],H(()=>{Ae(E,"id",a(V).name),ot(E,a(V).value===!0)}),y(F,E)},Oe=(F,E)=>{{var M=j=>{var J=il();J.__change=[sl,p,V],H(()=>{Ae(J,"id",a(V).name),Et(J,a(V).value??""),Ae(J,"min",a(V).min),Ae(J,"max",a(V).max),J.required=a(V).required}),y(j,J)},I=(j,J)=>{{var oe=ae=>{var ee=ol();ee.__change=[ll,p,V],H(de=>{Ae(ee,"id",a(V).name),Et(ee,de)},[()=>{var de;return((de=a(V).value)==null?void 0:de.join(","))||""}]),y(ae,ee)},ie=(ae,ee)=>{{var de=Q=>{var ne=vl();ne.__change=[cl,p,V],H(We=>{Ae(ne,"id",a(V).name),Et(ne,We)},[()=>JSON.stringify(a(V).value,null,2)||"{}"]),y(Q,ne)},ge=Q=>{var ne=dl();ne.__change=[ul,p,V],H(()=>{Ae(ne,"id",a(V).name),Et(ne,a(V).value||""),ne.required=a(V).required}),y(Q,ne)};O(ae,Q=>{a(V).type==="map"?Q(de):Q(ge,!1)},ee)}};O(j,ae=>{a(V).type==="array"?ae(oe):ae(ie,!1)},J)}};O(F,j=>{a(V).type==="int"?j(M):j(I,!1)},E)}};O(me,F=>{a(V).type==="bool"?F(we):F(Oe,!1)})}var Ee=b(be,2),S=d(Ee);H(()=>{$(_e,a(V).description),$(S,a(V).description)}),y(Y,ce)}),H(()=>$(U,a(W))),y(N,D)};O(re,N=>{a(s)===a(W)&&N(se)})}y(te,X)});var G=b(B,2);{var K=te=>{var W=gl();let X;var re=d(W),se=d(re),N=b(re,2),D=d(N),L=b(N,2);L.__click=[_l,i],H(U=>{X=pe(W,1,"status-message svelte-1iyqb86",null,X,U),$(se,a(l)?"‚ö†Ô∏è":"‚úì"),$(D,a(i))},[()=>({error:a(l)})]),y(te,W)};O(G,te=>{a(i)&&te(K)})}y(T,q)},x=T=>{var q=bl();y(T,q)};O(k,T=>{a(n).length>0?T(C):T(x,!1)})}y(m,A)};O(h,m=>{t.activeSidebarTab==="General"&&m(w)})}y(e,g),Se()}Re(["click","change"]);async function wl(e,t,r){f(t,!0);try{const n=await Te("/api/v2/runfile/save",{method:"POST"}),{error:s}=await n.json();if(s){r(`Failed to save runfile: ${s}`,!0);return}r("Runfile saved successfully",!1)}catch(n){r(`Error saving runfile: ${n.message}`,!0)}finally{f(t,!1)}}var kl=R('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p>Loading runfile configuration...</p></div>'),xl=R('<div class="empty-state svelte-f1rydd"><h3 class="svelte-f1rydd">No Runfile Groups Available</h3> <p>No configuration groups were found for this server type.</p></div>'),Sl=(e,t,r)=>t(a(r)),Cl=R("<button> </button>"),El=R('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p> </p></div>'),Al=R('<div class="empty-state svelte-f1rydd"><p>No configurable arguments found for this group.</p></div>'),Tl=(e,t,r)=>t(a(r),e),Ll=R('<input type="checkbox" class="svelte-f1rydd">'),zl=(e,t,r)=>t(a(r),e),Rl=R('<input type="number" class="svelte-f1rydd">'),Ol=(e,t,r)=>t(a(r),e),Nl=R('<input type="text" class="svelte-f1rydd">'),Dl=R('<div class="setting-item svelte-f1rydd"><label class="svelte-f1rydd"><span> </span> <!></label> <div class="input-info svelte-f1rydd"> </div></div>'),Il=R('<div class="channel-grid svelte-f1rydd"></div> <div class="form-actions svelte-f1rydd"><button class="save-button svelte-f1rydd"> </button></div>',1),Ml=R('<div class="runfile-section svelte-f1rydd"><h3 class="svelte-f1rydd"> </h3> <!></div>'),ql=(e,t)=>f(t,""),Pl=R('<div><span class="status-icon svelte-f1rydd"> </span> <span> </span> <button class="close-status svelte-f1rydd">√ó</button></div>'),Bl=R('<div class="runfile-container svelte-f1rydd"><div class="runfile-group-nav svelte-f1rydd"></div> <!> <!></div>'),$l=R(`<div class="runfile-settings svelte-f1rydd"><h2 class="svelte-f1rydd">Runfile Configuration</h2> <p class="settings-intro svelte-f1rydd">Configure command line arguments that will be used when launching the game server.
      These settings are saved to a runfile that is used when the server is started.</p> <!></div>`);function Ul(e,t){xe(t,!0);let r=z(ve([])),n=z(""),s=z(""),i=z(!1),l,u=z(ve([])),v=z(!0),c=z(!1);et(async()=>{await _()});async function _(){f(v,!0);try{const x=await Te("/api/v2/runfile/groups"),{data:T,error:q}=await x.json();if(q){w(`Failed to load groups: ${q}`,!0);return}f(r,T,!0),a(r).length>0&&await p(a(r)[0])}catch(x){w(`Error fetching runfile groups: ${x.message}`,!0)}finally{f(v,!1)}}async function p(x){f(v,!0),f(n,x,!0),await o(x),f(v,!1)}async function o(x){try{const T=await Te(`/api/v2/runfile/args?group=${encodeURIComponent(x)}`),{data:q,error:P}=await T.json();if(P){w(`Failed to load args: ${P}`,!0);return}f(u,q,!0)}catch(T){w(`Error fetching runfile args: ${T.message}`,!0)}}async function g(x,T){try{const q=await Te("/api/v2/runfile/args/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flag:x,value:T})}),{error:P}=await q.json();if(P){w(`Failed to update ${x}: ${P}`,!0);return}w(`Updated ${x} successfully`,!1)}catch(q){w(`Error updating ${x}: ${q.message}`,!0)}}function h(x,T){const q=T.target;let P;x.type==="bool"?P=q.checked.toString():P=q.value,g(x.flag,P)}function w(x,T){f(s,x,!0),f(i,T,!0),l&&clearTimeout(l),l=setTimeout(()=>{f(s,"")},3e4)}var m=$l(),A=b(d(m),4);{var k=x=>{var T=kl();y(x,T)},C=(x,T)=>{{var q=B=>{var G=xl();y(B,G)},P=B=>{var G=Bl(),K=d(G);qe(K,21,()=>a(r),je,(N,D)=>{var L=Cl();L.__click=[Sl,p,D];var U=d(L);H(()=>{pe(L,1,`section-nav-button ${a(n)===a(D)?"active":""}`,"svelte-f1rydd"),$(U,a(D))}),y(N,L)});var te=b(K,2);{var W=N=>{var D=El(),L=b(d(D),2),U=d(L);H(()=>$(U,`Loading ${a(n)??""} settings...`)),y(N,D)},X=(N,D)=>{{var L=U=>{var Z=Ml(),Y=d(Z),V=d(Y),ce=b(Y,2);{var be=_e=>{var me=Al();y(_e,me)},ye=_e=>{var me=Il(),we=Me(me);qe(we,21,()=>a(u),je,(F,E)=>{var M=Dl(),I=d(M),j=d(I),J=d(j),oe=b(j,2);{var ie=ge=>{var Q=Ll();Q.__change=[Tl,h,E],H(()=>{Ae(Q,"id",a(E).flag),ot(Q,a(E).runtime_value==="true"),Q.disabled=a(E).disabled}),y(ge,Q)},ae=(ge,Q)=>{{var ne=Ve=>{var Ce=Rl();Ce.__change=[zl,h,E],H(()=>{Ae(Ce,"id",a(E).flag),Et(Ce,a(E).runtime_value||""),Ae(Ce,"min",a(E).min),Ae(Ce,"max",a(E).max),Ce.required=a(E).required,Ce.disabled=a(E).disabled}),y(Ve,Ce)},We=Ve=>{var Ce=Nl();Ce.__change=[Ol,h,E],H(()=>{Ae(Ce,"id",a(E).flag),Et(Ce,a(E).runtime_value||""),Ce.required=a(E).required,Ce.disabled=a(E).disabled}),y(Ve,Ce)};O(ge,Ve=>{a(E).type==="int"?Ve(ne):Ve(We,!1)},Q)}};O(oe,ge=>{a(E).type==="bool"?ge(ie):ge(ae,!1)})}var ee=b(I,2),de=d(ee);H(()=>{$(J,a(E).ui_label||a(E).flag),$(de,a(E).description||"No description available")}),y(F,M)});var Oe=b(we,2),Ee=d(Oe);Ee.__click=[wl,c,w];var S=d(Ee);H(()=>{Ee.disabled=a(c),$(S,a(c)?"Saving...":"Save All Changes")}),y(_e,me)};O(ce,_e=>{a(u).length===0?_e(be):_e(ye,!1)})}H(()=>$(V,`${a(n)??""} GameServer Settings`)),y(U,Z)};O(N,U=>{a(n)&&U(L)},D)}};O(te,N=>{a(v)&&a(n)?N(W):N(X,!1)})}var re=b(te,2);{var se=N=>{var D=Pl();let L;var U=d(D),Z=d(U),Y=b(U,2),V=d(Y),ce=b(Y,2);ce.__click=[ql,s],H(be=>{L=pe(D,1,"status-message svelte-f1rydd",null,L,be),$(Z,a(i)?"‚ö†Ô∏è":"‚úì"),$(V,a(s))},[()=>({error:a(i)})]),y(N,D)};O(re,N=>{a(s)&&N(se)})}y(B,G)};O(x,B=>{a(r).length===0?B(q):B(P,!1)},T)}};O(A,x=>{a(v)&&a(r).length===0?x(k):x(C,!1)})}y(e,m),Se()}Re(["click","change"]);function jl(e,t,r){!a(t)||!a(r)||(sn(a(t),a(r)),f(t,""),f(r,""))}function Fl(e,t,r){wr(a(t)),r(a(t))}var Vl=R('<span class="status-timestamp svelte-okzcno"> </span>'),Gl=(e,t,r)=>t(a(r)),Hl=(e,t,r)=>t(a(r)),Wl=R('<button class="action-button danger svelte-okzcno">Remove</button>'),Jl=R('<div class="backend-item svelte-okzcno"><div class="backend-info svelte-okzcno"><h3 class="svelte-okzcno"> </h3> <p class="svelte-okzcno"> </p></div> <div class="backend-status svelte-okzcno"><label class="status-toggle svelte-okzcno"><input type="radio" name="activeBackend"> <span class="status-label svelte-okzcno"> </span></label></div> <div class="backend-actions svelte-okzcno"><!></div></div>'),Yl=R('<div class="backend-settings svelte-okzcno"><div class="section-header svelte-okzcno"><h2 class="svelte-okzcno">Backend Connections</h2></div> <div class="current-backends"><div class="backend-controls svelte-okzcno"><h3>Configured Backends</h3> <div class="active-status svelte-okzcno"><!> <!></div> <button class="action-button test-all svelte-okzcno"> </button></div> <div class="backend-list svelte-okzcno"></div></div> <div class="add-backend"><div class="section-header svelte-okzcno"><h3 class="svelte-okzcno">Add New Backend</h3></div> <div class="form-container svelte-okzcno"><div class="form-group svelte-okzcno"><label for="backend-id" class="svelte-okzcno">Backend ID</label> <input type="text" id="backend-id" placeholder="e.g., production" class="svelte-okzcno"></div> <div class="form-group svelte-okzcno"><label for="backend-url" class="svelte-okzcno">Backend URL</label> <input type="text" id="backend-url" placeholder="e.g., https://api.example.com" class="svelte-okzcno"></div> <button class="primary-button svelte-okzcno">+ Add Backend</button></div></div></div>');function Kl(e,t){xe(t,!0);const r=[];let n=z(void 0),s=z(""),i=z(""),l=z(""),u=z(ve([])),v={},c=z(!1),_=z(ve({status:"unknown",lastChecked:null}));const p=ke.subscribe(L=>{f(n,L,!0),f(l,L.active,!0),f(u,Object.keys(L.backends),!0),a(u).forEach(U=>{U in v||(v[U]={status:"unknown",lastChecked:null})})});et(()=>{ln();const L=setInterval(g,1e4);return g(),()=>{p(),clearInterval(L)}});async function o(L,U=!1){if(!a(c)){f(c,!0),a(n).backends[L].url;try{const Y={status:(await Te("/api/v2/server/status",{method:"GET",headers:{"Content-Type":"application/json"}})).ok?"online":"offline",lastChecked:new Date};v[L]=Y,L===a(l)&&f(_,Y,!0)}catch{const Y={status:"error",lastChecked:new Date};v[L]=Y,L===a(l)&&f(_,Y,!0)}finally{f(c,!1),v={...v},f(_,{...a(_)},!0)}}}async function g(){for(const L of a(u))await o(L,!0)}function h(L){if(L==="default"){alert("Cannot remove the default backend");return}ke.update(U=>(U.active===L&&(U.active="default",f(l,"default"),f(_,v.default||{status:"unknown",lastChecked:null},!0)),delete U.backends[L],delete v[L],U))}var w=Yl(),m=b(d(w),2),A=d(m),k=b(d(A),2),C=d(k);{var x=L=>{var U=le("üü¢ Online");y(L,U)},T=(L,U)=>{{var Z=V=>{var ce=le("üî¥ Offline");y(V,ce)},Y=(V,ce)=>{{var be=_e=>{var me=le("‚ö†Ô∏è Error");y(_e,me)},ye=_e=>{var me=le("‚ö™ Unknown");y(_e,me)};O(V,_e=>{a(_).status==="error"?_e(be):_e(ye,!1)},ce)}};O(L,V=>{a(_).status==="offline"?V(Z):V(Y,!1)},U)}};O(C,L=>{a(_).status==="online"?L(x):L(T,!1)})}var q=b(C,2);{var P=L=>{var U=Vl(),Z=d(U);H(Y=>$(Z,`(Last checked: ${Y??""})`),[()=>new Date(a(_).lastChecked).toLocaleTimeString()]),y(L,U)};O(q,L=>{a(_).lastChecked&&L(P)})}var B=b(k,2);B.__click=[Gl,o,l];var G=d(B),K=b(A,2);qe(K,21,()=>a(u),je,(L,U)=>{var Z=Jl(),Y=d(Z),V=d(Y),ce=d(V),be=b(V,2),ye=d(be),_e=b(Y,2),me=d(_e),we=d(me),Oe;we.__change=[Fl,l,o];var Ee=b(we,2),S=d(Ee),F=b(_e,2),E=d(F);{var M=I=>{var j=Wl();j.__click=[Hl,h,U],y(I,j)};O(E,I=>{a(U)!=="default"&&I(M)})}H(()=>{$(ce,a(U)),$(ye,a(n).backends[a(U)].url),Oe!==(Oe=a(U))&&(we.value=(we.__value=a(U))??""),$(S,a(U)===a(l)?"Active":"Set Active")}),Xa(r,[],we,()=>(a(U),a(l)),I=>f(l,I)),y(L,Z)});var te=b(m,2),W=b(d(te),2),X=d(W),re=b(d(X),2),se=b(X,2),N=b(d(se),2),D=b(se,2);D.__click=[jl,s,i],H(()=>{B.disabled=a(c),$(G,a(c)?"Testing...":"Test Active Backend")}),At(re,()=>a(s),L=>f(s,L)),At(N,()=>a(i),L=>f(i,L)),y(e,w),Se()}Re(["click","change"]);var Zl=(e,t)=>t("General"),Ql=(e,t)=>t("Runfile"),Xl=(e,t)=>t("Backends"),eo=(e,t)=>t("Discord"),to=R("<div>Discord Settings not yet implemented</div>"),ro=R('<div class="settings-container svelte-1oj27tx"><div class="settings-sidebar svelte-1oj27tx"><button>General</button> <button>Runfile Settings</button> <button>Backends</button> <button>Discord</button></div> <div class="settings-content svelte-1oj27tx"><!></div></div>');function ao(e,t){xe(t,!0);let r=z("General");function n(h){f(r,h,!0)}var s=ro(),i=d(s),l=d(i);l.__click=[Zl,n];var u=b(l,2);u.__click=[Ql,n];var v=b(u,2);v.__click=[Xl,n];var c=b(v,2);c.__click=[eo,n];var _=b(i,2),p=d(_);{var o=h=>{yl(h,{get activeSidebarTab(){return a(r)}})},g=(h,w)=>{{var m=k=>{Ul(k,{})},A=(k,C)=>{{var x=q=>{var P=to();y(q,P)},T=(q,P)=>{{var B=G=>{Kl(G,{})};O(q,G=>{a(r)==="Backends"&&G(B)},P)}};O(k,q=>{a(r)==="Discord"?q(x):q(T,!1)},C)}};O(h,k=>{a(r)==="Runfile"?k(m):k(A,!1)},w)}};O(p,h=>{["General","Appearance","SteamCMD","Notifications"].includes(a(r))?h(o):h(g,!1)})}H(()=>{pe(l,1,`settings-nav ${a(r)==="General"?"active":""}`,"svelte-1oj27tx"),pe(u,1,`settings-nav ${a(r)==="Runfile"?"active":""}`,"svelte-1oj27tx"),pe(v,1,`settings-nav ${a(r)==="Backends"?"active":""}`,"svelte-1oj27tx"),pe(c,1,`settings-nav ${a(r)==="Discord"?"active":""}`,"svelte-1oj27tx")}),y(e,s),Se()}Re(["click"]);function no(e,t,r,n,s){f(t,!0),r(),n(),setTimeout(()=>{s(),f(t,!1)},100)}var so=(e,t)=>t("all"),io=(e,t)=>t("info"),lo=(e,t)=>t("warning"),oo=(e,t)=>t("error"),co=(e,t)=>t("debug"),vo=(e,t)=>t("game"),uo=R('<div class="no-logs svelte-1vpcr8y">No logs to display. Select a log level or change the Time Range to view logs...</div>'),fo=R('<div class="log-line svelte-1vpcr8y"><span class="timestamp svelte-1vpcr8y"> </span> <span> </span> <span class="message svelte-1vpcr8y"> </span></div>'),po=R('<div class="logs-container svelte-1vpcr8y"><div class="logs-filter svelte-1vpcr8y"><div class="filter-group svelte-1vpcr8y"><label class="svelte-1vpcr8y">Log Level</label> <div class="checkbox-group svelte-1vpcr8y"><label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> All</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Info</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Warning</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Error</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Debug</label> <label class="svelte-1vpcr8y"><input type="checkbox" class="svelte-1vpcr8y"> Game</label></div></div> <div class="filter-group svelte-1vpcr8y"><label class="svelte-1vpcr8y">Time Range</label> <select class="svelte-1vpcr8y"><option>Recent</option><option>Last 1 Minute</option><option>Last 10 Minutes</option><option>Last 20 Minutes</option><option>Last 30 Minutes</option><option>Last 1 Hour</option><option>Last 12 Hours</option><option>Last 24 Hours</option><option>All Time</option></select></div> <div class="control-buttons svelte-1vpcr8y"><button class="reconnect-button svelte-1vpcr8y">Reconnect</button> <button class="clear-button svelte-1vpcr8y">Clear</button></div></div> <div class="logs-viewer svelte-1vpcr8y"><!></div></div>');function _o(e,t){xe(t,!0);let r=z(ve([])),n=z(ve([])),s=ve({all:!1,debug:!1,info:!0,warning:!1,error:!1,game:!1}),i=z("Recent"),l=z(ve({})),u=z(!1),v,c=ve({all:null,debug:null,info:null,warning:null,error:null,game:null}),_=ve({all:!1,debug:!1,info:!1,warning:!1,error:!1,game:!1});const p={all:"Full Backend",debug:"Debug",info:"Info",warning:"Warn",error:"Error",game:"Game"},o={Recent:10*1e3,"Last 1 Minute":60*1e3,"Last 10 Minutes":10*60*1e3,"Last 20 Minutes":20*60*1e3,"Last 30 Minutes":30*60*1e3,"Last 1 Hour":60*60*1e3,"Last 12 Hours":12*60*60*1e3,"Last 24 Hours":24*60*60*1e3,"All Time":1/0};vt(()=>{const S={};for(const[F,E]of Object.entries(s))E&&(S[F]=!0);f(l,S,!0),queueMicrotask(()=>{h()})}),vt(()=>{f(n,k(a(r)),!0)}),et(()=>(h(),document.addEventListener("visibilitychange",g),()=>{document.removeEventListener("visibilitychange",g)})),yr(()=>{T()});function g(){document.visibilityState==="visible"&&h()}function h(){const S=["all","debug","info","warning","error","game"];for(const F of S)a(l)[F]&&!c[F]&&!_[F]?w(F):!a(l)[F]&&c[F]&&m(F)}function w(S){if(_[S])return;_[S]=!0,console.log(`Connecting to ${S} log source`);const F=S==="all"?"/logs/backend":S==="warning"?"/logs/warn":S==="game"?"/console":`/logs/${S}`,E=p[S],M=S==="all"?"ALL":S.toUpperCase(),I=`${E} Log Stream Connected`;c[S]=Ur(F,j=>{const J=new Date,oe=J.toLocaleTimeString(),ie=J.getTime();j===I?a(r).some(ee=>ee.message===I&&ee.level===M)||A({timestamp:oe,exactTimestamp:ie,level:M,server:"All",message:I}):A({timestamp:oe,exactTimestamp:ie,level:M,server:"All",message:j})},j=>{console.error(`${E} logs stream error:`,j),c[S]=null,_[S]=!1,a(l)[S]&&document.visibilityState!=="hidden"&&setTimeout(()=>{a(l)[S]&&!c[S]&&!_[S]&&w(S)},2e3)}),_[S]=!1}function m(S){const F=p[S];if(c[S]&&(c[S].close(),c[S]=null,!a(u))){const E=new Date,M=E.toLocaleTimeString(),I=S==="all"?"ALL":S.toUpperCase();A({timestamp:M,exactTimestamp:E.getTime(),level:I,server:"All",message:`${F} Log Stream Disconnected`})}}function A(S){f(r,[S,...a(r)],!0),a(r).length>2e3&&f(r,a(r).slice(-2e3),!0)}function k(S){if(a(i)==="All Time")return S;const E=Date.now()-o[a(i)];return S.filter(M=>M.exactTimestamp>=E)}function C(S){s[S]=!s[S]}function x(){f(r,[],!0),f(n,[],!0)}function T(){for(const S of Object.keys(c))c[S]&&m(S)}var q=po(),P=d(q),B=d(P),G=b(d(B),2),K=d(G),te=d(K);te.__change=[so,C];var W=b(K,2),X=d(W);X.__change=[io,C];var re=b(W,2),se=d(re);se.__change=[lo,C];var N=b(re,2),D=d(N);D.__change=[oo,C];var L=b(N,2),U=d(L);U.__change=[co,C];var Z=b(L,2),Y=d(Z);Y.__change=[vo,C];var V=b(B,2),ce=b(d(V),2),be=b(V,2),ye=d(be);ye.__click=[no,u,T,x,h];var _e=b(ye,2);_e.__click=x;var me=b(P,2),we=d(me);{var Oe=S=>{var F=uo();y(S,F)},Ee=S=>{var F=st(),E=Me(F);qe(E,17,()=>a(n),je,(M,I)=>{var j=fo(),J=d(j),oe=d(J),ie=b(J,2),ae=d(ie),ee=b(ie,2),de=d(ee);H(ge=>{$(oe,a(I).timestamp),pe(ie,1,`level ${ge??""}`,"svelte-1vpcr8y"),$(ae,a(I).level),$(de,a(I).message)},[()=>a(I).level.toLowerCase()]),y(M,j)}),y(S,F)};O(we,S=>{a(n).length===0?S(Oe):S(Ee,!1)})}qr(me,S=>v=S,()=>v),H(()=>{ot(te,s.all),ot(X,s.info),ot(se,s.warning),ot(D,s.error),ot(U,s.debug),ot(Y,s.game)}),Us(ce,()=>a(i),S=>f(i,S)),y(e,q),Se()}Re(["change","click"]);var go=R(`<div class="steamcmd-wait svelte-1ihtzz0"><div class="spinner svelte-1ihtzz0"></div> <p class="message svelte-1ihtzz0"> </p> <p class="warning svelte-1ihtzz0">Please don't poke the backend!</p></div>`);function ho(e,t){xe(t,!0);const r=ve(["SteamCMD's brewing coffee...","Untangling virtual cables...","Convincing the server to behave...","SteamCMD's wrestling gremlins...","Negotiating with bandwidth fairies...","Defragmenting digital memories...","Teaching SteamCMD new tricks...","Soothing angry network packets...","Doing server yoga...","Persuading bits to cooperate..."]);let n=z(0),s=z(ve(r[0]));vt(()=>{const v=setInterval(()=>{f(n,(a(n)+1)%r.length),f(s,r[a(n)],!0)},3e3);return()=>clearInterval(v)});var i=go(),l=b(d(i),2),u=d(l);H(()=>$(u,a(s))),y(e,i),Se()}var bo=(e,t)=>e.key==="Enter"&&t(),mo=R('<div tabindex="0" role="button" aria-label="Dismiss notification"><div class="content svelte-1gq1lzr"><span class="icon svelte-1gq1lzr"> </span> <p class="message svelte-1gq1lzr"> </p></div></div>');function yo(e,t){xe(t,!0);const r=Fe(t,"isSuccess",3,!1),n=Gs();function s(){n("dismiss")}var i=mo();let l;i.__click=s,i.__keydown=[bo,s];var u=d(i),v=d(u),c=d(v),_=b(v,2),p=d(_);H(o=>{l=pe(i,1,"popup svelte-1gq1lzr",null,l,o),$(c,r()?"‚úì":"!"),$(p,t.message)},[()=>({success:r()})]),y(e,i),Se()}Re(["click","keydown"]);function wo(e,t){f(t,!a(t))}async function ko(e,t,r,n,s,i,l){e.stopPropagation(),f(t,!0),f(r,!0);try{await Te("/api/v2/gallery/select",{method:"POST",body:JSON.stringify({identifier:n().name})});const u=await Te("/api/v2/settings/save",{method:"POST",body:JSON.stringify({RunfileGame:n().name})});if(u.error)throw new Error(u.error);s("Runfile downloaded and applied successfully!")}catch(u){f(i,u.message||"Failed to download and apply runfile",!0),f(l,!0)}finally{f(t,!1),f(r,!1)}}var xo=e=>e.key==="Enter",So=R('<p class="svelte-165p17q"><strong class="svelte-165p17q">Filename:</strong> </p>'),Co=R('<div class="spinner svelte-165p17q"></div>'),Eo=R('<button class="download-button svelte-165p17q">Download & Apply</button>'),Ao=R('<div class="popup-container svelte-165p17q"><!></div>'),To=R('<div class="card-container svelte-165p17q"><div tabindex="0" role="button"><div class="card-front svelte-165p17q"></div> <div class="card-back svelte-165p17q"><h3 class="runfile-name svelte-165p17q"> </h3> <div class="card-back-content svelte-165p17q"><div class="metadata svelte-165p17q"><p class="svelte-165p17q"><strong class="svelte-165p17q">Version:</strong> </p> <p class="svelte-165p17q"><strong class="svelte-165p17q">Min Version:</strong> </p> <p class="svelte-165p17q"><strong class="svelte-165p17q">Supported OS:</strong> </p> <!></div> <div class="actions-container svelte-165p17q"><div class="actions svelte-165p17q"><!></div> <!></div></div></div></div></div>');function Lo(e,t){xe(t,!0);const r=Fe(t,"runfile",7);let n=z(!1),s=z(!1),i=z(!1),l=z(null),u=z(!1);vt(()=>{r()&&!r().identifier&&(r().identifier=r().name||r().name)});function v(D){f(l,D,!0),f(u,!0)}vt(()=>{if(a(u)){const D=setTimeout(()=>{f(u,!1)},5e3);return()=>clearTimeout(D)}});var c=To(),_=d(c);let p;_.__click=[wo,n],_.__keydown=[xo];var o=d(_),g=b(o,2),h=d(g),w=d(h),m=b(h,2),A=d(m),k=d(A),C=b(d(k)),x=b(k,2),T=b(d(x)),q=b(x,2),P=b(d(q)),B=b(q,2);{var G=D=>{var L=So(),U=b(d(L));H(()=>$(U,` ${r().filename??""}`)),y(D,L)};O(B,D=>{r().filename&&D(G)})}var K=b(A,2),te=d(K),W=d(te);{var X=D=>{var L=st(),U=Me(L);{var Z=V=>{ho(V,{})},Y=V=>{var ce=Co();y(V,ce)};O(U,V=>{a(i)?V(Z):V(Y,!1)})}y(D,L)},re=D=>{var L=Eo();L.__click=[ko,s,i,r,v,l,u],H(()=>Ae(L,"aria-label",`Download and apply ${r().name}`)),y(D,L)};O(W,D=>{a(s)?D(X):D(re,!1)})}var se=b(te,2);{var N=D=>{var L=Ao(),U=d(L);const Z=$e(()=>a(l)&&a(l).includes("successfully"));yo(U,{get message(){return a(l)},get isSuccess(){return a(Z)},$$events:{dismiss:()=>f(u,!1)}}),y(D,L)};O(se,D=>{a(u)&&D(N)})}H(D=>{p=pe(_,1,"card svelte-165p17q",null,p,D),Ae(_,"aria-label",`Runfile card for ${r().name}`),_t(o,`background-image: url('${(r().background_url||"")??""}')`),$(w,r().name),$(C,` ${r().version||"N/A"}`),$(T,` ${r().min_version||"N/A"}`),$(P,` ${r().supported_os||"N/A"}`)},[()=>({flipped:a(n)})]),y(e,c),Se()}Re(["click","keydown"]);function zo(e,t){t(!0)}var Ro=R('<div class="error-banner svelte-1tafnbf"><p class="svelte-1tafnbf"> </p></div>'),Oo=R('<div class="loading svelte-1tafnbf"><div class="spinner svelte-1tafnbf"></div> <p class="svelte-1tafnbf">Loading runfiles...</p></div>'),No=R('<div class="empty-state svelte-1tafnbf"><p class="svelte-1tafnbf">No runfiles available. Try refreshing the gallery.</p></div>'),Do=R('<div class="gallery-grid svelte-1tafnbf"></div>'),Io=R('<div class="gallery-page svelte-1tafnbf"><div class="header svelte-1tafnbf"><button class="refresh-button svelte-1tafnbf" aria-label="Refresh runfile gallery"> </button></div> <!> <!></div>');function Mo(e,t){xe(t,!0);let r=z(ve([])),n=z(!0),s=z(null);async function i(w=!1){f(n,!0),f(s,null);try{const m=await Te(`/api/v2/gallery${w?"?forceUpdate=true":""}`);let A;if(m instanceof Response){if(console.log("API Response status:",m.status),!m.ok)throw new Error(`HTTP error! Status: ${m.status}`);A=await m.json()}else A=m;console.log("Parsed data:",A),A&&A.data&&Array.isArray(A.data)?f(r,A.data,!0):Array.isArray(A)?f(r,A,!0):(console.warn("Unexpected response format:",A),f(r,[],!0)),f(r,a(r).map(k=>(k.identifier||(k.identifier=k.filename||k.name),k)),!0),console.log("Processed runfiles:",a(r))}catch(m){f(s,m.message||"Failed to fetch runfiles",!0),console.error("Error fetching runfiles:",m),f(r,[],!0)}finally{f(n,!1)}}vt(()=>{i()});var l=Io(),u=d(l),v=d(u);v.__click=[zo,i];var c=d(v),_=b(u,2);{var p=w=>{var m=Ro(),A=d(m),k=d(A);H(()=>$(k,a(s))),y(w,m)};O(_,w=>{a(s)&&w(p)})}var o=b(_,2);{var g=w=>{var m=Oo();y(w,m)},h=(w,m)=>{{var A=C=>{var x=No();y(C,x)},k=C=>{var x=Do();qe(x,21,()=>a(r),T=>T.identifier,(T,q)=>{Lo(T,{get runfile(){return a(q)}})}),y(C,x)};O(w,C=>{!a(r)||a(r).length===0?C(A):C(k,!1)},m)}};O(o,w=>{a(n)?w(g):w(h,!1)})}H(()=>{v.disabled=a(n),$(c,a(n)?"Loading...":"Refresh Gallery")}),y(e,l),Se()}Re(["click"]);var qo=R('<main class="main-content svelte-1us6uc8"><div class="view-header svelte-1us6uc8"><h1> </h1> <p> </p></div> <div class="view-content svelte-1us6uc8"><!></div></main>');function Po(e,t){let r=Fe(t,"activeView",3,"dashboard");const n={dashboard:{title:"Dashboard",description:"Server overview and statistics"},servers:{title:"Servers",description:"Manage your game servers"},settings:{title:"Settings",description:"Configure application settings"},logs:{title:"Logs",description:"View server logs and events"},console:{title:"Console",description:"View server console output"},gallery:{title:"Runfile Gallery",description:"Browse runfiles"}};var s=qo(),i=d(s),l=d(i);let u;var v=d(l),c=b(l,2);let _;var p=d(c),o=b(i,2),g=d(o);{var h=m=>{el(m)},w=(m,A)=>{{var k=x=>{ao(x,{})},C=(x,T)=>{{var q=B=>{_o(B,{})},P=(B,G)=>{{var K=W=>{cn(W,{})},te=(W,X)=>{{var re=se=>{Mo(se,{})};O(W,se=>{r()==="gallery"&&se(re)},X)}};O(B,W=>{r()==="console"?W(K):W(te,!1)},G)}};O(x,B=>{r()==="logs"?B(q):B(P,!1)},T)}};O(m,x=>{r()==="settings"?x(k):x(C,!1)},A)}};O(g,m=>{r()==="dashboard"?m(h):m(w,!1)})}H((m,A)=>{u=pe(l,1,"svelte-1us6uc8",null,u,m),$(v,n[r()].title),_=pe(c,1,"description svelte-1us6uc8",null,_,A),$(p,n[r()].description)},[()=>({hide:r()==="dashboard"}),()=>({hide:r()==="dashboard"})]),y(e,s)}var Bo=R('<div class="error-message svelte-1uel83z"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1uel83z"><circle cx="12" cy="12" r="10" class="svelte-1uel83z"></circle><line x1="12" y1="8" x2="12" y2="12" class="svelte-1uel83z"></line><line x1="12" y1="16" x2="12.01" y2="16" class="svelte-1uel83z"></line></svg> <p class="svelte-1uel83z"> </p></div>'),$o=R('<div class="initializing svelte-1uel83z"><div class="content-container svelte-1uel83z"><div class="logo-container svelte-1uel83z"><div class="spinner-container svelte-1uel83z"><div class="loading-spinner svelte-1uel83z"></div></div></div> <div class="status-container svelte-1uel83z"><h2 class="status-title svelte-1uel83z"><!></h2> <div class="status-indicator svelte-1uel83z"><span class="dot dot1 svelte-1uel83z"></span> <span class="dot dot2 svelte-1uel83z"></span> <span class="dot dot3 svelte-1uel83z"></span></div></div> <!></div></div>');function jr(e,t){let r=Fe(t,"serverStatus",8,"checking"),n=Fe(t,"errorMessage",8,null);var s=$o(),i=d(s),l=b(d(i),2),u=d(l),v=d(u);{var c=g=>{var h=le("Connecting to Backend");y(g,h)},_=(g,h)=>{{var w=A=>{var k=le("Initializing Backend");y(A,k)},m=(A,k)=>{{var C=T=>{var q=le("Cannot connect to Backend");y(T,q)},x=(T,q)=>{{var P=G=>{var K=le("Backend error");y(G,K)},B=(G,K)=>{{var te=X=>{var re=le("Backend Certificate or https error");y(X,re)},W=(X,re)=>{{var se=N=>{var D=le("Server not found");y(N,D)};O(X,N=>{r()==="unreachable"&&N(se)},re)}};O(G,X=>{r()==="cert-error"?X(te):X(W,!1)},K)}};O(T,G=>{r()==="error"?G(P):G(B,!1)},q)}};O(A,T=>{r()==="offline"?T(C):T(x,!1)},k)}};O(g,A=>{r()==="online"?A(w):A(m,!1)},h)}};O(v,g=>{r()==="checking"?g(c):g(_,!1)})}var p=b(l,2);{var o=g=>{var h=Bo(),w=b(d(h),2),m=d(w);H(()=>$(m,n())),y(g,h)};O(p,g=>{n()&&g(o)})}y(e,s)}function Uo(e,t){xe(t,!0);let r=Fe(t,"onStatusChange",3,p=>{}),n=z(!1),s=z("checking"),i=z(null);AbortSignal.timeout||(AbortSignal.timeout=function(o){const g=new AbortController;return setTimeout(()=>g.abort(),o),g.signal});async function l(){try{const p=new URL(window.location.href),o=`${p.protocol}//${p.host}`,g=new AbortController,h=setTimeout(()=>g.abort(),5e3),w=await fetch(`${o}/api/v2/server/status`,{method:"GET",signal:g.signal});return clearTimeout(h),w.status===404?(f(s,"offline"),f(i,"Server endpoint not found. The server may not support this API."),De.update(m=>({...m,authError:"endpoint not found"})),!0):w.ok||w.status===401||w.status===403?(f(s,"online"),!0):(f(s,"error"),f(i,`Server error: ${w.status} ${w.statusText}`),!1)}catch(p){return p.name==="AbortError"?(f(s,"offline"),f(i,"Connection timed out. The server may be slow or unreachable.")):p.message.includes("certificate")||p.message.includes("SSL")||p.message.includes("ERR_CERT")?(f(s,"cert-error"),f(i,"Certificate error. The server may be using an invalid or self-signed certificate. Try accepting the certificate in your browser.")):p.message.includes("Failed to fetch")||p.message.includes("NetworkError")?(f(s,"unreachable"),f(i,"Server not found. The server may be down or the URL may be incorrect.")):(f(s,"offline"),f(i,p.message||"Cannot connect to server",!0)),!1}}et(async()=>{if(ln(),await l())try{await Wt()}catch(o){console.warn("Auth check failed:",o)}r()({status:a(s),error:a(i)}),f(n,!0)});var u=st(),v=Me(u);{var c=p=>{var o=st(),g=Me(o);Ka(g,()=>t.children??Ie),y(p,o)},_=p=>{jr(p,{get serverStatus(){return a(s)},get errorMessage(){return a(i)}})};O(v,p=>{a(n)?p(c):p(_,!1)})}y(e,u),Se()}async function jo(e,t,r,n,s,i){await wr(a(t)),r(a(t)),f(n,!1),f(s,""),f(i,!1)}function Fo(e,t){f(t,!a(t))}async function Vo(e,t,r,n,s,i,l){!a(t)||!a(r)||(sn(a(t),a(r)),f(n,a(t),!0),await wr(a(t)),s(a(t)),f(i,!1),f(t,""),f(r,""),f(l,""))}var Go=(e,t)=>f(t,!1),Ho=R('<div class="backend-item svelte-1ygmrwf"><label class="backend-option svelte-1ygmrwf"><input type="radio" name="backend" class="svelte-1ygmrwf"> <div class="backend-details svelte-1ygmrwf"><span class="backend-name svelte-1ygmrwf"> </span> <span class="backend-url svelte-1ygmrwf"> </span></div> <span><!></span></label></div>'),Wo=(e,t,r)=>t(a(r)),Jo=R('<div class="backend-dropdown svelte-1ygmrwf"><div class="dropdown-header svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Select Backend</h3> <button class="close-btn svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="backend-list svelte-1ygmrwf"></div> <div class="dropdown-actions svelte-1ygmrwf"><button class="test-btn svelte-1ygmrwf"> </button> <button class="switch-btn svelte-1ygmrwf">Switch Server</button></div></div>'),Yo=R(' <a target="_blank" rel="noopener">Check Backend</a>',1),Ko=R('<div class="error-message svelte-1ygmrwf"><!></div>'),Zo=(e,t)=>f(t,!1),Qo=R(`<div class="new-backend-form svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Add New Server</h3> <p class="svelte-1ygmrwf">The current server doesn't have the expected login endpoint or is unreachable. Add a new server with the correct authentication endpoint.</p> <div class="form-group svelte-1ygmrwf"><label for="new-backend-id" class="svelte-1ygmrwf">Server Name</label> <input type="text" id="new-backend-id" placeholder="e.g., production" class="svelte-1ygmrwf"></div> <div class="form-group svelte-1ygmrwf"><label for="new-backend-url" class="svelte-1ygmrwf">Server URL</label> <input type="text" id="new-backend-url" placeholder="e.g., https://api.example.com" class="svelte-1ygmrwf"></div> <div class="backend-form-actions svelte-1ygmrwf"><button class="cancel-btn svelte-1ygmrwf">Cancel</button> <button class="add-backend-btn svelte-1ygmrwf">Add Server</button></div></div>`),Xo=Ht('<svg class="loading-spinner svelte-1ygmrwf" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg> Logging in...',1),ec=R('<form><div class="form-group svelte-1ygmrwf"><label for="username" class="svelte-1ygmrwf">Username</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-1ygmrwf"></div></div> <div class="form-group svelte-1ygmrwf"><label for="password" class="svelte-1ygmrwf">Password</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-1ygmrwf"></div></div> <button type="submit" class="login-button svelte-1ygmrwf"><!></button></form>'),tc=R('<div class="login-page svelte-1ygmrwf"><div class="login-container svelte-1ygmrwf"><div class="login-card svelte-1ygmrwf"><div class="login-header svelte-1ygmrwf"><h2 class="svelte-1ygmrwf">Backend Connection Required</h2> <div class="server-selector svelte-1ygmrwf"><div class="server-info svelte-1ygmrwf"><span class="server-label svelte-1ygmrwf">Server:</span> <span class="server-url svelte-1ygmrwf"> </span> <span><!></span> <button class="change-server-btn svelte-1ygmrwf" title="Change server"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></button></div> <!></div></div> <!> <!></div></div></div>');function rc(e,t){xe(t,!0);const[r,n]=nn(),s=()=>an(ke,"$backendConfig",r),i=[];let l=z(""),u=z(""),v=z(""),c=z(!1),_=z(ve([])),p=z(""),o=z(ve({})),g=z(!1),h=z(!1),w=z(!1),m=z(""),A=z(""),k,C;et(()=>(k=De.subscribe(S=>{var F,E;if(S.authError){f(v,S.authError,!0);const M=(F=a(o)[a(p)])==null?void 0:F.status,I=(E=a(o)[a(p)])==null?void 0:E.authRequired;f(w,!(M==="online"&&I))}else f(v,""),f(w,!1);f(c,S.isAuthenticating,!0)}),C=ke.subscribe(S=>{var M,I,j;f(_,Object.keys(S.backends),!0),f(p,S.active,!0),a(_).forEach(J=>{J in a(o)||(a(o)[J]={status:"unknown",lastChecked:null,error:null})});const F=(M=a(o)[a(p)])==null?void 0:M.status,E=(I=a(o)[a(p)])==null?void 0:I.authRequired;["offline","unreachable","cert-error"].includes(F)?(f(w,!0),f(v,((j=a(o)[a(p)])==null?void 0:j.error)||"Cannot connect to the server.",!0)):F==="online"&&E&&f(w,!1)}),C=ke.subscribe(S=>{var E,M;f(_,Object.keys(S.backends),!0),f(p,S.active,!0),a(_).forEach(I=>{I in a(o)||(a(o)[I]={status:"unknown",lastChecked:null,error:null})});const F=(E=a(o)[a(p)])==null?void 0:E.status;["offline","unreachable","cert-error"].includes(F)&&(f(w,!0),f(v,((M=a(o)[a(p)])==null?void 0:M.error)||"Cannot connect to the server.",!0))}),x(a(p)),()=>{k&&k(),C&&C()}));async function x(S){f(h,!0),a(o)[S]={status:"checking",lastChecked:new Date,error:null},f(o,{...a(o)},!0);try{const F=dt(ke),E=F.backends[S].url==="/"?"":F.backends[S].url,M=new AbortController,I=setTimeout(()=>M.abort(),5e3),j=await fetch(`${E}/api/v2/server/status`,{method:"GET",signal:M.signal});clearTimeout(I),j.ok?a(o)[S]={status:"online",lastChecked:new Date,error:null}:j.status===401?a(o)[S]={status:"online",lastChecked:new Date,authRequired:!0,error:null}:a(o)[S]={status:"offline",lastChecked:new Date,error:`Server responded with ${j.status} ${j.statusText}`}}catch(F){let E="error",M="Failed to connect to the server",I=!1;const j=a(B).startsWith("https://");F.name==="AbortError"?M=q()?"You are using the Desktop App, so you must define your Backend.":"Connection timed out. The server may be slow, unreachable, or dead.":j?(E="cert-error",I=!0,M="There was an error connecting to the remote Backend. If using a self-signed certificate, please visit the server URL to accept the certificate."):M="Server not found. The server may be down or the URL may be incorrect.",a(o)[S]={status:E,lastChecked:new Date,error:M,certificateHint:I,backendUrl:a(B)}}finally{f(h,!1),f(o,{...a(o)},!0)}}async function T(){if(f(v,""),f(c,!0),!a(l)||!a(u)){f(v,"Username and password are required"),f(c,!1);return}try{const S=await Zs(a(l),a(u))}catch(S){f(v,S.message||"Login failed",!0)}finally{f(c,!1)}}function q(){return typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}let P=$e(()=>s().backends[s().active]),B=$e(()=>{var S;return((S=a(P))==null?void 0:S.url)||"/"}),G=$e(()=>a(B)==="/"?window.location.origin:a(B)),K=$e(()=>{var S;return((S=a(o)[a(p)])==null?void 0:S.status)||"unknown"}),te=$e(()=>{var S;return(S=a(o)[a(p)])==null?void 0:S.error});var W=tc(),X=d(W),re=d(X),se=d(re),N=b(d(se),2),D=d(N);D.__click=[Fo,g];var L=b(d(D),2),U=d(L),Z=b(L,2),Y=d(Z);{var V=S=>{var F=le("üü¢");y(S,F)},ce=(S,F)=>{{var E=I=>{var j=le("üî¥");y(I,j)},M=(I,j)=>{{var J=ie=>{var ae=le("‚ö†Ô∏è");y(ie,ae)},oe=(ie,ae)=>{{var ee=ge=>{var Q=le("üîí");y(ge,Q)},de=ge=>{var Q=le("‚ö™");y(ge,Q)};O(ie,ge=>{a(K)==="cert-error"?ge(ee):ge(de,!1)},ae)}};O(I,ie=>{a(K)==="error"||a(K)==="unreachable"?ie(J):ie(oe,!1)},j)}};O(S,I=>{a(K)==="offline"?I(E):I(M,!1)},F)}};O(Y,S=>{a(K)==="online"?S(V):S(ce,!1)})}var be=b(D,2);{var ye=S=>{var F=Jo(),E=d(F),M=b(d(E),2);M.__click=[Go,g];var I=b(E,2);qe(I,21,()=>a(_),je,(ae,ee)=>{var de=Ho(),ge=d(de),Q=d(ge),ne,We=b(Q,2),Ve=d(We),Ce=d(Ve),vn=b(Ve,2),un=d(vn),ra=b(We,2),dn=d(ra);{var fn=Je=>{var ht=le("üü¢");y(Je,ht)},pn=(Je,ht)=>{{var _n=bt=>{var mt=le("üî¥");y(bt,mt)},gn=(bt,mt)=>{{var hn=yt=>{var wt=le("‚ö†Ô∏è");y(yt,wt)},bn=(yt,wt)=>{{var Jt=kt=>{var xt=le("üîí");y(kt,xt)},mn=kt=>{var xt=le("‚ö™");y(kt,xt)};O(yt,kt=>{var xt;((xt=a(o)[a(ee)])==null?void 0:xt.status)==="cert-error"?kt(Jt):kt(mn,!1)},wt)}};O(bt,yt=>{var wt,Jt;((wt=a(o)[a(ee)])==null?void 0:wt.status)==="error"||((Jt=a(o)[a(ee)])==null?void 0:Jt.status)==="unreachable"?yt(hn):yt(bn,!1)},mt)}};O(Je,bt=>{var mt;((mt=a(o)[a(ee)])==null?void 0:mt.status)==="offline"?bt(_n):bt(gn,!1)},ht)}};O(dn,Je=>{var ht;((ht=a(o)[a(ee)])==null?void 0:ht.status)==="online"?Je(fn):Je(pn,!1)})}H(()=>{var Je;ne!==(ne=a(ee))&&(Q.value=(Q.__value=a(ee))??""),$(Ce,a(ee)),$(un,s().backends[a(ee)].url),pe(ra,1,`status-indicator ${((Je=a(o)[a(ee)])==null?void 0:Je.status)||"unknown"}`,"svelte-1ygmrwf")}),Xa(i,[],Q,()=>(a(ee),a(p)),Je=>f(p,Je)),y(ae,de)});var j=b(I,2),J=d(j);J.__click=[Wo,x,p];var oe=d(J),ie=b(J,2);ie.__click=[jo,p,x,g,v,w],H(()=>{J.disabled=a(h),$(oe,a(h)?"Testing...":"Test Connection"),ie.disabled=a(p)===s().active}),y(S,F)};O(be,S=>{a(g)&&S(ye)})}var _e=b(se,2);{var me=S=>{var F=Ko(),E=d(F);{var M=j=>{var J=st(),oe=Me(J);{var ie=ee=>{var de=le("You are using the Desktop App, so you must define your Backend.");y(ee,de)},ae=ee=>{var de=le("The selected server doesn't have the expected login endpoint.");y(ee,de)};O(oe,ee=>{q()?ee(ie):ee(ae,!1)})}y(j,J)},I=(j,J)=>{{var oe=ae=>{var ee=Yo(),de=Me(ee),ge=b(de);H(()=>{$(de,`${a(te)??""} `),Ae(ge,"href",a(o)[a(p)].backendUrl)}),y(ae,ee)},ie=(ae,ee)=>{{var de=Q=>{var ne=le();H(()=>$(ne,a(te))),y(Q,ne)},ge=Q=>{var ne=le();H(()=>$(ne,a(v))),y(Q,ne)};O(ae,Q=>{a(te)?Q(de):Q(ge,!1)},ee)}};O(j,ae=>{a(K)==="cert-error"?ae(oe):ae(ie,!1)},J)}};O(E,j=>{a(v)==="endpoint not found"?j(M):j(I,!1)})}y(S,F)};O(_e,S=>{(a(v)||a(te))&&S(me)})}var we=b(_e,2);{var Oe=S=>{var F=Qo(),E=b(d(F),4),M=b(d(E),2),I=b(E,2),j=b(d(I),2),J=b(I,2),oe=d(J);oe.__click=[Zo,w];var ie=b(oe,2);ie.__click=[Vo,m,A,p,x,w,v],H(()=>{M.disabled=a(c),j.disabled=a(c),oe.disabled=a(c),ie.disabled=a(c)||!a(m)||!a(A)}),At(M,()=>a(m),ae=>f(m,ae)),At(j,()=>a(A),ae=>f(A,ae)),y(S,F)},Ee=S=>{var F=ec(),E=$e(()=>Fs(T)),M=d(F),I=b(d(M),2),j=b(d(I),2),J=b(M,2),oe=b(d(J),2),ie=b(d(oe),2),ae=b(J,2),ee=d(ae);{var de=Q=>{var ne=Xo();y(Q,ne)},ge=Q=>{var ne=le("Login");y(Q,ne)};O(ee,Q=>{a(c)?Q(de):Q(ge,!1)})}H(()=>{j.disabled=a(c),ie.disabled=a(c),ae.disabled=a(c)||a(K)==="unreachable"||a(K)==="cert-error"}),Dr("submit",F,function(...Q){var ne;(ne=a(E))==null||ne.apply(this,Q)}),At(j,()=>a(l),Q=>f(l,Q)),At(ie,()=>a(u),Q=>f(u,Q)),y(S,F)};O(we,S=>{a(w)?S(Oe):S(Ee,!1)})}H(()=>{$(U,a(G)),pe(Z,1,`status-indicator ${a(K)??""}`,"svelte-1ygmrwf")}),y(e,W),Se(),n()}Re(["click"]);function ac(e,t){xe(t,!0);const[r,n]=nn(),s=()=>an(De,"$authState",r);let i=Fe(t,"checkAuth",3,!0),l=Fe(t,"serverStatus",3,"online"),u=Fe(t,"serverError",3,null),v=z(!0),c;et(async()=>{if(i()&&l()==="online"){c=De.subscribe(h=>{f(v,h.isAuthenticating,!0)});try{await Wt()}catch(h){console.error("Auth check failed:",h),f(v,!1)}}else f(v,!1)}),yr(()=>{c&&c()});var _=st(),p=Me(_);{var o=h=>{jr(h,{serverStatus:"checking"})},g=(h,w)=>{{var m=k=>{const C=$e(()=>u()?u().toString():"There was an error connecting to the server.");jr(k,{serverStatus:"error",get errorMessage(){return a(C)}})},A=(k,C)=>{{var x=q=>{rc(q,{})},T=q=>{var P=st(),B=Me(P);Ka(B,()=>t.children??Ie),y(q,P)};O(k,q=>{!s().isAuthenticated&&i()?q(x):q(T,!1)},C)}};O(h,k=>{l()==="error"?k(m):k(A,!1)},w)}};O(p,h=>{a(v)?h(o):h(g,!1)})}y(e,_),Se(),n()}var nc=R('<div class="app-container svelte-136oog4"><!> <div class="main-container svelte-136oog4"><!> <!></div></div>');function sc(e){let t=z("dashboard");const r=[{id:"dashboard",name:"Dashboard",icon:"grid"},{id:"settings",name:"Settings",icon:"settings"},{id:"logs",name:"Logs",icon:"file-text"},{id:"console",name:"Console",icon:"terminal"},{id:"gallery",name:"Gallery",icon:"globe"}];function n(u){f(t,u,!0)}let s=z("checking"),i=z(null);function l(u){f(s,u.status,!0),f(i,u.error,!0)}Uo(e,{onStatusChange:l,children:(u,v)=>{ac(u,{get serverStatus(){return a(s)},get serverError(){return a(i)},children:(c,_)=>{var p=nc(),o=d(p);_i(o,{views:r,get activeView(){return a(t)},setActiveView:n});var g=b(o,2),h=d(g);yi(h,{views:r,get activeView(){return a(t)},setActiveView:n});var w=b(h,2);Po(w,{get activeView(){return a(t)}}),y(c,p)},$$slots:{default:!0}})},$$slots:{default:!0}})}ws(sc,{target:document.getElementById("app")});
