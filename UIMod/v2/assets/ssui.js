(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const An="5";var Aa;typeof window<"u"&&((Aa=window.__svelte??(window.__svelte={})).v??(Aa.v=new Set)).add(An);let Lt=!1,Cn=!1;function Tn(){Lt=!0}Tn();const $r=1,Gr=2,Ca=4,qn=8,On=16,In=1,Rn=2,Nn=4,Ln=8,Bn=16,zn=1,Dn=2,Pn=4,Ta=1,Mn=2,Ie=Symbol(),Un="http://www.w3.org/1999/xhtml",sa=!1;function qa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var dr=Array.isArray,jn=Array.prototype.indexOf,Hr=Array.from,Oa=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,Ia=Object.getOwnPropertyDescriptors,Fn=Object.prototype,Vn=Array.prototype,Wr=Object.getPrototypeOf,ia=Object.isExtensible;function $n(e){return typeof e=="function"}const Ye=()=>{};function Gn(e){return e()}function Nr(e){for(var t=0;t<e.length;t++)e[t]()}const Ze=2,Ra=4,pr=8,hr=16,lt=32,Bt=64,rr=128,Me=256,ar=512,qe=1024,tt=2048,pt=4096,st=8192,gr=16384,Na=32768,_r=65536,Hn=1<<17,Wn=1<<19,La=1<<20,Lr=1<<21,it=Symbol("$state"),Jn=Symbol("legacy props"),Yn=Symbol("");function Kn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Zn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Qn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Xn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function es(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ts(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function rs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function as(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ns=!1;function gt(e){if(typeof e!="object"||e===null||it in e)return e;const t=Wr(e);if(t!==Fn&&t!==Vn)return e;var r=new Map,n=dr(e),s=Re(0),i=ue,l=v=>{var o=ue;He(i);var u=v();return He(o),u};return n&&r.set("length",Re(e.length)),new Proxy(e,{defineProperty(v,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ts();var _=r.get(o);return _===void 0?(_=l(()=>Re(u.value)),r.set(o,_)):d(_,l(()=>gt(u.value))),!0},deleteProperty(v,o){var u=r.get(o);if(u===void 0)o in v&&(r.set(o,l(()=>Re(Ie))),Ar(s));else{if(n&&typeof o=="string"){var _=r.get("length"),f=Number(o);Number.isInteger(f)&&f<_.v&&d(_,f)}d(u,Ie),Ar(s)}return!0},get(v,o,u){var g;if(o===it)return e;var _=r.get(o),f=o in v;if(_===void 0&&(!f||(g=qt(v,o))!=null&&g.writable)&&(_=l(()=>Re(gt(f?v[o]:Ie))),r.set(o,_)),_!==void 0){var c=a(_);return c===Ie?void 0:c}return Reflect.get(v,o,u)},getOwnPropertyDescriptor(v,o){var u=Reflect.getOwnPropertyDescriptor(v,o);if(u&&"value"in u){var _=r.get(o);_&&(u.value=a(_))}else if(u===void 0){var f=r.get(o),c=f==null?void 0:f.v;if(f!==void 0&&c!==Ie)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(v,o){var c;if(o===it)return!0;var u=r.get(o),_=u!==void 0&&u.v!==Ie||Reflect.has(v,o);if(u!==void 0||ve!==null&&(!_||(c=qt(v,o))!=null&&c.writable)){u===void 0&&(u=l(()=>Re(_?gt(v[o]):Ie)),r.set(o,u));var f=a(u);if(f===Ie)return!1}return _},set(v,o,u,_){var E;var f=r.get(o),c=o in v;if(n&&o==="length")for(var g=u;g<f.v;g+=1){var h=r.get(g+"");h!==void 0?d(h,Ie):g in v&&(h=l(()=>Re(Ie)),r.set(g+"",h))}f===void 0?(!c||(E=qt(v,o))!=null&&E.writable)&&(f=l(()=>Re(void 0)),d(f,l(()=>gt(u))),r.set(o,f)):(c=f.v!==Ie,d(f,l(()=>gt(u))));var A=Reflect.getOwnPropertyDescriptor(v,o);if(A!=null&&A.set&&A.set.call(_,u),!c){if(n&&typeof o=="string"){var S=r.get("length"),b=Number(o);Number.isInteger(b)&&b>=S.v&&d(S,b+1)}Ar(s)}return!0},ownKeys(v){a(s);var o=Reflect.ownKeys(v).filter(f=>{var c=r.get(f);return c===void 0||c.v!==Ie});for(var[u,_]of r)_.v!==Ie&&!(u in v)&&o.push(u);return o},setPrototypeOf(){rs()}})}function Ar(e,t=1){d(e,e.v+t)}function la(e){try{if(e!==null&&typeof e=="object"&&it in e)return e[it]}catch{}return e}function ss(e,t){return Object.is(la(e),la(t))}var oa,Ba,za,Da;function is(){if(oa===void 0){oa=window,Ba=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;za=qt(t,"firstChild").get,Da=qt(t,"nextSibling").get,ia(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ia(r)&&(r.__t=void 0)}}function br(e=""){return document.createTextNode(e)}function at(e){return za.call(e)}function mr(e){return Da.call(e)}function p(e,t){return at(e)}function Ke(e,t){{var r=at(e);return r instanceof Comment&&r.data===""?mr(r):r}}function y(e,t=1,r=!1){let n=e;for(;t--;)n=mr(n);return n}function ls(e){e.textContent=""}function Pa(e){return e===this.v}function Ma(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Jr(e){return!Ma(e,this.v)}function jt(e){var t=Ze|tt,r=ue!==null&&(ue.f&Ze)!==0?ue:null;return ve===null||r!==null&&(r.f&Me)!==0?t|=Me:ve.f|=La,{ctx:pe,deps:null,effects:null,equals:Pa,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??ve}}function Fe(e){const t=jt(e);return t.equals=Jr,t}function Ua(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)dt(t[r])}}function os(e){for(var t=e.parent;t!==null;){if((t.f&Ze)===0)return t;t=t.parent}return null}function ja(e){var t,r=ve;rt(os(e));try{Ua(e),t=Qa(e)}finally{rt(r)}return t}function Fa(e){var t=ja(e),r=(ft||(e.f&Me)!==0)&&e.deps!==null?pt:qe;We(e,r),e.equals(t)||(e.v=t,e.wv=Ka())}function Va(e){ve===null&&ue===null&&Qn(),ue!==null&&(ue.f&Me)!==0&&ve===null&&Zn(),Gt&&Kn()}function cs(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function zt(e,t,r,n=!0){var s=ve,i={ctx:pe,deps:null,nodes_start:null,nodes_end:null,f:e|tt,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{xr(i),i.f|=Na}catch(o){throw dt(i),o}else t!==null&&Sr(i);var l=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(La|rr))===0;if(!l&&n&&(s!==null&&cs(i,s),ue!==null&&(ue.f&Ze)!==0)){var v=ue;(v.effects??(v.effects=[])).push(i)}return i}function yr(e){const t=zt(pr,null,!1);return We(t,qe),t.teardown=e,t}function nr(e){Va();var t=ve!==null&&(ve.f&lt)!==0&&pe!==null&&!pe.m;if(t){var r=pe;(r.e??(r.e=[])).push({fn:e,effect:ve,reaction:ue})}else{var n=wr(e);return n}}function vs(e){return Va(),Dt(e)}function us(e){const t=zt(Bt,e,!0);return(r={})=>new Promise(n=>{r.outro?sr(t,()=>{dt(t),n(void 0)}):(dt(t),n(void 0))})}function wr(e){return zt(Ra,e,!1)}function ut(e,t){var r=pe,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Dt(()=>{e(),!n.ran&&(n.ran=!0,d(r.l.r2,!0),Qe(t))})}function Yr(){var e=pe;Dt(()=>{if(a(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&qe)!==0&&We(r,pt),Pt(r)&&xr(r),t.ran=!1}e.l.r2.v=!1}})}function Dt(e){return zt(pr,e,!0)}function J(e,t=[],r=jt){const n=t.map(r);return Kr(()=>e(...n.map(a)))}function Kr(e,t=0){return zt(pr|hr|t,e,!0)}function Ft(e,t=!0){return zt(pr|lt,e,!0,t)}function $a(e){var t=e.teardown;if(t!==null){const r=Gt,n=ue;ca(!0),He(null);try{t.call(null)}finally{ca(r),He(n)}}}function Ga(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Bt)!==0?r.parent=null:dt(r,t),r=n}}function fs(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&lt)===0&&dt(t),t=r}}function dt(e,t=!0){var r=!1;(t||(e.f&Wn)!==0)&&e.nodes_start!==null&&(ds(e.nodes_start,e.nodes_end),r=!0),Ga(e,t&&!r),vr(e,0),We(e,gr);var n=e.transitions;if(n!==null)for(const i of n)i.stop();$a(e);var s=e.parent;s!==null&&s.first!==null&&Ha(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ds(e,t){for(;e!==null;){var r=e===t?null:mr(e);e.remove(),e=r}}function Ha(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function sr(e,t){var r=[];Zr(e,r,!0),Wa(r,()=>{dt(e),t&&t()})}function Wa(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function Zr(e,t,r){if((e.f&st)===0){if(e.f^=st,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var s=n.next,i=(n.f&_r)!==0||(n.f&lt)!==0;Zr(n,t,i?r:!1),n=s}}}function ir(e){Ja(e,!0)}function Ja(e,t){if((e.f&st)!==0){e.f^=st,(e.f&qe)===0&&(e.f^=qe),Pt(e)&&(We(e,tt),Sr(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&_r)!==0||(r.f&lt)!==0;Ja(r,s?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let lr=[];function ps(){var e=lr;lr=[],Nr(e)}function It(e){lr.length===0&&queueMicrotask(ps),lr.push(e)}let Xt=!1,Br=!1,or=null,_t=!1,Gt=!1;function ca(e){Gt=e}let er=[];let ue=null,et=!1;function He(e){ue=e}let ve=null;function rt(e){ve=e}let Te=null;function hs(e){ue!==null&&ue.f&Lr&&(Te===null?Te=[e]:Te.push(e))}let Ce=null,ze=0,je=null;function gs(e){je=e}let Ya=1,cr=0,ft=!1;function Ka(){return++Ya}function Pt(e){var f;var t=e.f;if((t&tt)!==0)return!0;if((t&pt)!==0){var r=e.deps,n=(t&Me)!==0;if(r!==null){var s,i,l=(t&ar)!==0,v=n&&ve!==null&&!ft,o=r.length;if(l||v){var u=e,_=u.parent;for(s=0;s<o;s++)i=r[s],(l||!((f=i==null?void 0:i.reactions)!=null&&f.includes(u)))&&(i.reactions??(i.reactions=[])).push(u);l&&(u.f^=ar),v&&_!==null&&(_.f&Me)===0&&(u.f^=Me)}for(s=0;s<o;s++)if(i=r[s],Pt(i)&&Fa(i),i.wv>e.wv)return!0}(!n||ve!==null&&!ft)&&We(e,qe)}return!1}function _s(e,t){for(var r=t;r!==null;){if((r.f&rr)!==0)try{r.fn(e);return}catch{r.f^=rr}r=r.parent}throw Xt=!1,e}function va(e){return(e.f&gr)===0&&(e.parent===null||(e.parent.f&rr)===0)}function kr(e,t,r,n){if(Xt){if(r===null&&(Xt=!1),va(t))throw e;return}if(r!==null&&(Xt=!0),_s(e,t),va(t))throw e}function Za(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];Te!=null&&Te.includes(e)||((i.f&Ze)!==0?Za(i,t,!1):t===i&&(r?We(i,tt):(i.f&qe)!==0&&We(i,pt),Sr(i)))}}function Qa(e){var g;var t=Ce,r=ze,n=je,s=ue,i=ft,l=Te,v=pe,o=et,u=e.f;Ce=null,ze=0,je=null,ft=(u&Me)!==0&&(et||!_t||ue===null),ue=(u&(lt|Bt))===0?e:null,Te=null,ua(e.ctx),et=!1,cr++,e.f|=Lr;try{var _=(0,e.fn)(),f=e.deps;if(Ce!==null){var c;if(vr(e,ze),f!==null&&ze>0)for(f.length=ze+Ce.length,c=0;c<Ce.length;c++)f[ze+c]=Ce[c];else e.deps=f=Ce;if(!ft)for(c=ze;c<f.length;c++)((g=f[c]).reactions??(g.reactions=[])).push(e)}else f!==null&&ze<f.length&&(vr(e,ze),f.length=ze);if(Ht()&&je!==null&&!et&&f!==null&&(e.f&(Ze|pt|tt))===0)for(c=0;c<je.length;c++)Za(je[c],e);return s!==null&&s!==e&&(cr++,je!==null&&(n===null?n=je:n.push(...je))),_}finally{Ce=t,ze=r,je=n,ue=s,ft=i,Te=l,ua(v),et=o,e.f^=Lr}}function bs(e,t){let r=t.reactions;if(r!==null){var n=jn.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&Ze)!==0&&(Ce===null||!Ce.includes(t))&&(We(t,pt),(t.f&(Me|ar))===0&&(t.f^=ar),Ua(t),vr(t,0))}function vr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)bs(e,r[n])}function xr(e){var t=e.f;if((t&gr)===0){We(e,qe);var r=ve,n=pe,s=_t;ve=e,_t=!0;try{(t&hr)!==0?fs(e):Ga(e),$a(e);var i=Qa(e);e.teardown=typeof i=="function"?i:null,e.wv=Ya;var l=e.deps,v;sa&&Cn&&e.f&tt}catch(o){kr(o,e,r,n||e.ctx)}finally{_t=s,ve=r}}}function ms(){try{Xn()}catch(e){if(or!==null)kr(e,or,null);else throw e}}function ys(){var e=_t;try{var t=0;for(_t=!0;er.length>0;){t++>1e3&&ms();var r=er,n=r.length;er=[];for(var s=0;s<n;s++){var i=ks(r[s]);ws(i)}Vt.clear()}}finally{Br=!1,_t=e,or=null}}function ws(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(gr|st))===0)try{Pt(n)&&(xr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Ha(n):n.fn=null))}catch(s){kr(s,n,null,n.ctx)}}}function Sr(e){Br||(Br=!0,queueMicrotask(ys));for(var t=or=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Bt|lt))!==0){if((r&qe)===0)return;t.f^=qe}}er.push(t)}function ks(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(lt|Bt))!==0,i=s&&(n&qe)!==0;if(!i&&(n&st)===0){if((n&Ra)!==0)t.push(r);else if(s)r.f^=qe;else try{Pt(r)&&xr(r)}catch(o){kr(o,r,null,r.ctx)}var l=r.first;if(l!==null){r=l;continue}}var v=r.parent;for(r=r.next;r===null&&v!==null;)r=v.next,v=v.parent}return t}function a(e){var t=e.f,r=(t&Ze)!==0;if(ue!==null&&!et){if(!(Te!=null&&Te.includes(e))){var n=ue.deps;e.rv<cr&&(e.rv=cr,Ce===null&&n!==null&&n[ze]===e?ze++:Ce===null?Ce=[e]:(!ft||!Ce.includes(e))&&Ce.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&(i.f&Me)===0&&(s.f^=Me)}return r&&(s=e,Pt(s)&&Fa(s)),Gt&&Vt.has(e)?Vt.get(e):e.v}function Qe(e){var t=et;try{return et=!0,e()}finally{et=t}}const xs=-7169;function We(e,t){e.f=e.f&xs|t}function Ss(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(it in e)zr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&it in r&&zr(r)}}}function zr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{zr(e[n],t)}catch{}const r=Wr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Ia(r);for(let s in n){const i=n[s].get;if(i)try{i.call(e)}catch{}}}}}const Vt=new Map;function $t(e,t){var r={f:0,v:e,reactions:null,equals:Pa,rv:0,wv:0};return r}function Re(e,t){const r=$t(e);return hs(r),r}function B(e,t=!1){var n;const r=$t(e);return t||(r.equals=Jr),Lt&&pe!==null&&pe.l!==null&&((n=pe.l).s??(n.s=[])).push(r),r}function ct(e,t){return d(e,Qe(()=>a(e))),t}function d(e,t,r=!1){ue!==null&&!et&&Ht()&&(ue.f&(Ze|hr))!==0&&!(Te!=null&&Te.includes(e))&&as();let n=r?gt(t):t;return Dr(e,n)}function Dr(e,t){if(!e.equals(t)){var r=e.v;Gt?Vt.set(e,t):Vt.set(e,r),e.v=t,(e.f&Ze)!==0&&((e.f&tt)!==0&&ja(e),We(e,(e.f&Me)===0?qe:pt)),e.wv=Ka(),Xa(e,tt),Ht()&&ve!==null&&(ve.f&qe)!==0&&(ve.f&(lt|Bt))===0&&(je===null?gs([e]):je.push(e))}return t}function Xa(e,t){var r=e.reactions;if(r!==null)for(var n=Ht(),s=r.length,i=0;i<s;i++){var l=r[i],v=l.f;(v&tt)===0&&(!n&&l===ve||(We(l,t),(v&(qe|Me))!==0&&((v&Ze)!==0?Xa(l,pt):Sr(l))))}}let pe=null;function ua(e){pe=e}function Le(e,t=!1,r){var n=pe={p:pe,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Lt&&!t&&(pe.l={s:null,u:null,r1:[],r2:$t(!1)}),yr(()=>{n.d=!0})}function Be(e){const t=pe;if(t!==null){const l=t.e;if(l!==null){var r=ve,n=ue;t.e=null;try{for(var s=0;s<l.length;s++){var i=l[s];rt(i.effect),He(i.reaction),wr(i.fn)}}finally{rt(r),He(n)}}pe=t.p,t.m=!0}return{}}function Ht(){return!Lt||pe!==null&&pe.l===null}const Es=["touchstart","touchmove"];function As(e){return Es.includes(e)}let fa=!1;function Cs(){fa||(fa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Qr(e){var t=ue,r=ve;He(null),rt(null);try{return e()}finally{He(t),rt(r)}}function en(e,t,r,n=r){e.addEventListener(t,()=>Qr(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),Cs()}const tn=new Set,Pr=new Set;function Ts(e,t,r,n={}){function s(i){if(n.capture||Ut.call(t,i),!i.cancelBubble)return Qr(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?It(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function K(e,t,r,n,s){var i={capture:n,passive:s},l=Ts(e,t,r,i);(t===document.body||t===window||t===document)&&yr(()=>{t.removeEventListener(e,l,i)})}function Xr(e){for(var t=0;t<e.length;t++)tn.add(e[t]);for(var r of Pr)r(e)}function Ut(e){var E;var t=this,r=t.ownerDocument,n=e.type,s=((E=e.composedPath)==null?void 0:E.call(e))||[],i=s[0]||e.target,l=0,v=e.__root;if(v){var o=s.indexOf(v);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;o<=u&&(l=o)}if(i=s[l]||e.target,i!==t){Oa(e,"currentTarget",{configurable:!0,get(){return i||r}});var _=ue,f=ve;He(null),rt(null);try{for(var c,g=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var A=i["__"+n];if(A!=null&&(!i.disabled||e.target===i))if(dr(A)){var[S,...b]=A;S.apply(i,[e,...b])}else A.call(i,e)}catch(x){c?g.push(x):c=x}if(e.cancelBubble||h===t||h===null)break;i=h}if(c){for(let x of g)queueMicrotask(()=>{throw x});throw c}}finally{e.__root=t,delete e.currentTarget,He(_),rt(f)}}}function rn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Rt(e,t){var r=ve;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function N(e,t){var r=(t&Ta)!==0,n=(t&Mn)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=rn(i?e:"<!>"+e),r||(s=at(s)));var l=n||Ba?document.importNode(s,!0):s.cloneNode(!0);if(r){var v=at(l),o=l.lastChild;Rt(v,o)}else Rt(l,l);return l}}function Wt(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&Ta)!==0,i=`<${r}>${n?e:"<!>"+e}</${r}>`,l;return()=>{if(!l){var v=rn(i),o=at(v);if(s)for(l=document.createDocumentFragment();at(o);)l.appendChild(at(o));else l=at(o)}var u=l.cloneNode(!0);if(s){var _=at(u),f=u.lastChild;Rt(_,f)}else Rt(u,u);return u}}function se(e=""){{var t=br(e+"");return Rt(t,t),t}}function Nt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=br();return e.append(t,r),Rt(t,r),e}function w(e,t){e!==null&&e.before(t)}let Mr=!0;function F(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function qs(e,t){return Os(e,t)}const Et=new Map;function Os(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:l=!0}){is();var v=new Set,o=f=>{for(var c=0;c<f.length;c++){var g=f[c];if(!v.has(g)){v.add(g);var h=As(g);t.addEventListener(g,Ut,{passive:h});var A=Et.get(g);A===void 0?(document.addEventListener(g,Ut,{passive:h}),Et.set(g,1)):Et.set(g,A+1)}}};o(Hr(tn)),Pr.add(o);var u=void 0,_=us(()=>{var f=r??t.appendChild(br());return Ft(()=>{if(i){Le({});var c=pe;c.c=i}s&&(n.$$events=s),Mr=l,u=e(f,n)||{},Mr=!0,i&&Be()}),()=>{var h;for(var c of v){t.removeEventListener(c,Ut);var g=Et.get(c);--g===0?(document.removeEventListener(c,Ut),Et.delete(c)):Et.set(c,g)}Pr.delete(o),f!==r&&((h=f.parentNode)==null||h.removeChild(f))}});return Is.set(u,_),u}let Is=new WeakMap;function R(e,t,[r,n]=[0,0]){var s=e,i=null,l=null,v=Ie,o=r>0?_r:0,u=!1;const _=(c,g=!0)=>{u=!0,f(g,c)},f=(c,g)=>{v!==(v=c)&&(v?(i?ir(i):g&&(i=Ft(()=>g(s))),l&&sr(l,()=>{l=null})):(l?ir(l):g&&(l=Ft(()=>g(s,[r+1,n]))),i&&sr(i,()=>{i=null})))};Kr(()=>{u=!1,t(_),u||f(null,null)},o)}function Ve(e,t){return t}function Rs(e,t,r,n){for(var s=[],i=t.length,l=0;l<i;l++)Zr(t[l].e,s,!0);var v=i>0&&s.length===0&&r!==null;if(v){var o=r.parentNode;ls(o),o.append(r),n.clear(),vt(e,t[0].prev,t[i-1].next)}Wa(s,()=>{for(var u=0;u<i;u++){var _=t[u];v||(n.delete(_.k),vt(e,_.prev,_.next)),dt(_.e,!v)}})}function $e(e,t,r,n,s,i=null){var l=e,v={flags:t,items:new Map,first:null},o=(t&Ca)!==0;if(o){var u=e;l=u.appendChild(br())}var _=null,f=!1,c=Fe(()=>{var g=r();return dr(g)?g:g==null?[]:Hr(g)});Kr(()=>{var g=a(c),h=g.length;f&&h===0||(f=h===0,Ns(g,v,l,s,t,n,r),i!==null&&(h===0?_?ir(_):_=Ft(()=>i(l)):_!==null&&sr(_,()=>{_=null})),a(c))})}function Ns(e,t,r,n,s,i,l){var Z,G,ee,I;var v=(s&qn)!==0,o=(s&($r|Gr))!==0,u=e.length,_=t.items,f=t.first,c=f,g,h=null,A,S=[],b=[],E,x,k,m;if(v)for(m=0;m<u;m+=1)E=e[m],x=i(E,m),k=_.get(x),k!==void 0&&((Z=k.a)==null||Z.measure(),(A??(A=new Set)).add(k));for(m=0;m<u;m+=1){if(E=e[m],x=i(E,m),k=_.get(x),k===void 0){var T=c?c.e.nodes_start:r;h=Bs(T,t,h,h===null?t.first:h.next,E,x,m,n,s,l),_.set(x,h),S=[],b=[],c=h.next;continue}if(o&&Ls(k,E,m,s),(k.e.f&st)!==0&&(ir(k.e),v&&((G=k.a)==null||G.unfix(),(A??(A=new Set)).delete(k))),k!==c){if(g!==void 0&&g.has(k)){if(S.length<b.length){var C=b[0],L;h=C.prev;var M=S[0],te=S[S.length-1];for(L=0;L<S.length;L+=1)da(S[L],C,r);for(L=0;L<b.length;L+=1)g.delete(b[L]);vt(t,M.prev,te.next),vt(t,h,M),vt(t,te,C),c=C,h=te,m-=1,S=[],b=[]}else g.delete(k),da(k,c,r),vt(t,k.prev,k.next),vt(t,k,h===null?t.first:h.next),vt(t,h,k),h=k;continue}for(S=[],b=[];c!==null&&c.k!==x;)(c.e.f&st)===0&&(g??(g=new Set)).add(c),b.push(c),c=c.next;if(c===null)continue;k=c}S.push(k),h=k,c=k.next}if(c!==null||g!==void 0){for(var X=g===void 0?[]:Hr(g);c!==null;)(c.e.f&st)===0&&X.push(c),c=c.next;var ae=X.length;if(ae>0){var ie=(s&Ca)!==0&&u===0?r:null;if(v){for(m=0;m<ae;m+=1)(ee=X[m].a)==null||ee.measure();for(m=0;m<ae;m+=1)(I=X[m].a)==null||I.fix()}Rs(t,X,ie,_)}}v&&It(()=>{var V;if(A!==void 0)for(k of A)(V=k.a)==null||V.apply()}),ve.first=t.first&&t.first.e,ve.last=h&&h.e}function Ls(e,t,r,n){(n&$r)!==0&&Dr(e.v,t),(n&Gr)!==0?Dr(e.i,r):e.i=r}function Bs(e,t,r,n,s,i,l,v,o,u){var _=(o&$r)!==0,f=(o&On)===0,c=_?f?B(s):$t(s):s,g=(o&Gr)===0?l:$t(l),h={i:g,v:c,k:i,a:null,e:null,prev:r,next:n};try{return h.e=Ft(()=>v(e,c,g,u),ns),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?t.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function da(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var l=mr(i);s.before(i),i=l}}function vt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function an(e,t,r,n,s){var v;var i=(v=t.$$slots)==null?void 0:v[r],l=!1;i===!0&&(i=t.children,l=!0),i===void 0||i(e,l?()=>n:n)}function nn(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=nn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zs(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=nn(e))&&(n&&(n+=" "),n+=t);return n}function Ds(e){return typeof e=="object"?zs(e):e??""}const pa=[...` 	
\r\f \v\uFEFF`];function Ps(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,l=0;(l=n.indexOf(s,l))>=0;){var v=l+i;(l===0||pa.includes(n[l-1]))&&(v===n.length||pa.includes(n[v]))?n=(l===0?"":n.substring(0,l))+n.substring(v+1):l=v}}return n===""?null:n}function ha(e,t=!1){var r=t?" !important;":";",n="";for(var s in e){var i=e[s];i!=null&&i!==""&&(n+=" "+s+": "+i+r)}return n}function Cr(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ms(e,t){if(t){var r="",n,s;if(Array.isArray(t)?(n=t[0],s=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,l=0,v=!1,o=[];n&&o.push(...Object.keys(n).map(Cr)),s&&o.push(...Object.keys(s).map(Cr));var u=0,_=-1;const A=e.length;for(var f=0;f<A;f++){var c=e[f];if(v?c==="/"&&e[f-1]==="*"&&(v=!1):i?i===c&&(i=!1):c==="/"&&e[f+1]==="*"?v=!0:c==='"'||c==="'"?i=c:c==="("?l++:c===")"&&l--,!v&&i===!1&&l===0){if(c===":"&&_===-1)_=f;else if(c===";"||f===A-1){if(_!==-1){var g=Cr(e.substring(u,_).trim());if(!o.includes(g)){c!==";"&&f++;var h=e.substring(u,f).trim();r+=" "+h+";"}}u=f+1,_=-1}}}}return n&&(r+=ha(n)),s&&(r+=ha(s,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function de(e,t,r,n,s,i){var l=e.__className;if(l!==r||l===void 0){var v=Ps(r,n,i);v==null?e.removeAttribute("class"):e.className=v,e.__className=r}else if(i&&s!==i)for(var o in i){var u=!!i[o];(s==null||u!==!!s[o])&&e.classList.toggle(o,u)}return i}function Tr(e,t={},r,n){for(var s in r){var i=r[s];t[s]!==i&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,n))}}function Ot(e,t,r,n){var s=e.__style;if(s!==t){var i=Ms(t,n);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}else n&&(Array.isArray(n)?(Tr(e,r==null?void 0:r[0],n[0]),Tr(e,r==null?void 0:r[1],n[1],"important")):Tr(e,r,n));return n}const Us=Symbol("is custom element"),js=Symbol("is html");function Ct(e,t){var r=ea(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function sn(e,t){var r=ea(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function Ne(e,t,r,n){var s=ea(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[Yn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Fs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ea(e){return e.__attributes??(e.__attributes={[Us]:e.nodeName.includes("-"),[js]:e.namespaceURI===Un})}var ga=new Map;function Fs(e){var t=ga.get(e.nodeName);if(t)return t;ga.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=Ia(n);for(var i in r)r[i].set&&t.push(i);n=Wr(n)}return t}const Vs=()=>performance.now(),nt={tick:e=>requestAnimationFrame(e),now:()=>Vs(),tasks:new Set};function ln(){const e=nt.now();nt.tasks.forEach(t=>{t.c(e)||(nt.tasks.delete(t),t.f())}),nt.tasks.size!==0&&nt.tick(ln)}function $s(e){let t;return nt.tasks.size===0&&nt.tick(ln),{promise:new Promise(r=>{nt.tasks.add(t={c:e,f:r})}),abort(){nt.tasks.delete(t)}}}function Kt(e,t){Qr(()=>{e.dispatchEvent(new CustomEvent(t))})}function Gs(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function _a(e){const t={},r=e.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const l=Gs(s.trim());t[l]=i.trim()}return t}const Hs=e=>e;function Zt(e,t,r,n){var s=(e&zn)!==0,i=(e&Dn)!==0,l=s&&i,v=(e&Pn)!==0,o=l?"both":s?"in":"out",u,_=t.inert,f=t.style.overflow,c,g;function h(){var x=ue,k=ve;He(null),rt(null);try{return u??(u=r()(t,(n==null?void 0:n())??{},{direction:o}))}finally{He(x),rt(k)}}var A={is_global:v,in(){var x;if(t.inert=_,!s){g==null||g.abort(),(x=g==null?void 0:g.reset)==null||x.call(g);return}i||c==null||c.abort(),Kt(t,"introstart"),c=Ur(t,h(),g,1,()=>{Kt(t,"introend"),c==null||c.abort(),c=u=void 0,t.style.overflow=f})},out(x){if(!i){x==null||x(),u=void 0;return}t.inert=!0,Kt(t,"outrostart"),g=Ur(t,h(),c,0,()=>{Kt(t,"outroend"),x==null||x()})},stop:()=>{c==null||c.abort(),g==null||g.abort()}},S=ve;if((S.transitions??(S.transitions=[])).push(A),s&&Mr){var b=v;if(!b){for(var E=S.parent;E&&(E.f&_r)!==0;)for(;(E=E.parent)&&(E.f&hr)===0;);b=!E||(E.f&Na)!==0}b&&wr(()=>{Qe(()=>A.in())})}}function Ur(e,t,r,n,s){var i=n===1;if($n(t)){var l,v=!1;return It(()=>{if(!v){var S=t({direction:i?"in":"out"});l=Ur(e,S,r,n,s)}}),{abort:()=>{v=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return s(),{abort:Ye,deactivate:Ye,reset:Ye,t:()=>n};const{delay:o=0,css:u,tick:_,easing:f=Hs}=t;var c=[];if(i&&r===void 0&&(_&&_(0,1),u)){var g=_a(u(0,1));c.push(g,g)}var h=()=>1-n,A=e.animate(c,{duration:o});return A.onfinish=()=>{var S=(r==null?void 0:r.t())??1-n;r==null||r.abort();var b=n-S,E=t.duration*Math.abs(b),x=[];if(E>0){var k=!1;if(u)for(var m=Math.ceil(E/16.666666666666668),T=0;T<=m;T+=1){var C=S+b*f(T/m),L=_a(u(C,1-C));x.push(L),k||(k=L.overflow==="hidden")}k&&(e.style.overflow="hidden"),h=()=>{var M=A.currentTime;return S+b*f(M/E)},_&&$s(()=>{if(A.playState!=="running")return!1;var M=h();return _(M,1-M),!0})}A=e.animate(x,{duration:E,fill:"forwards"}),A.onfinish=()=>{h=()=>n,_==null||_(n,1-n),s()}},{abort:()=>{A&&(A.cancel(),A.effect=null,A.onfinish=Ye)},deactivate:()=>{s=Ye},reset:()=>{n===0&&(_==null||_(1,0))},t:()=>h()}}function Tt(e,t,r=t){var n=Ht();en(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=Or(e)?Ir(i):i,r(i),n&&i!==(i=t())){var l=e.selectionStart,v=e.selectionEnd;e.value=i??"",v!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(v,e.value.length))}}),Qe(t)==null&&e.value&&r(Or(e)?Ir(e.value):e.value),Dt(()=>{var s=t();Or(e)&&s===Ir(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}const qr=new Set;function on(e,t,r,n,s=n){var i=r.getAttribute("type")==="checkbox",l=e;if(t!==null)for(var v of t)l=l[v]??(l[v]=[]);l.push(r),en(r,"change",()=>{var o=r.__value;i&&(o=Ws(l,o,r.checked)),s(o)},()=>s(i?[]:null)),Dt(()=>{var o=n();i?(o=o||[],r.checked=o.includes(r.__value)):r.checked=ss(r.__value,o)}),yr(()=>{var o=l.indexOf(r);o!==-1&&l.splice(o,1)}),qr.has(l)||(qr.add(l),It(()=>{l.sort((o,u)=>o.compareDocumentPosition(u)===4?-1:1),qr.delete(l)})),It(()=>{})}function Ws(e,t,r){for(var n=new Set,s=0;s<e.length;s+=1)e[s].checked&&n.add(e[s].__value);return r||n.delete(t),Array.from(n)}function Or(e){var t=e.type;return t==="number"||t==="range"}function Ir(e){return e===""?null:+e}function ba(e,t){return e===t||(e==null?void 0:e[it])===t}function ma(e={},t,r,n){return wr(()=>{var s,i;return Dt(()=>{s=i,i=[],Qe(()=>{e!==r(...i)&&(t(e,...i),s&&ba(r(...s),e)&&t(null,...s))})}),()=>{It(()=>{i&&ba(r(...i),e)&&t(null,...i)})}}),e}function ya(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Js(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function Xe(e=!1){const t=pe,r=t.l.u;if(!r)return;let n=()=>Ss(t.s);if(e){let s=0,i={};const l=jt(()=>{let v=!1;const o=t.s;for(const u in o)o[u]!==i[u]&&(i[u]=o[u],v=!0);return v&&s++,s});n=()=>a(l)}r.b.length&&vs(()=>{wa(t,n),Nr(r.b)}),nr(()=>{const s=Qe(()=>r.m.map(Gn));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&nr(()=>{wa(t,n),Nr(r.a)})}function wa(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}function ka(e,t){var i;var r=(i=e.$$events)==null?void 0:i[t.type],n=dr(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function ot(e){pe===null&&qa(),Lt&&pe.l!==null?Ys(pe).m.push(e):nr(()=>{const t=Qe(e);if(typeof t=="function")return t})}function ta(e){pe===null&&qa(),ot(()=>()=>Qe(e))}function Ys(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function cn(e,t,r){if(e==null)return t(void 0),Ye;const n=Qe(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const At=[];function vn(e,t=Ye){let r=null;const n=new Set;function s(v){if(Ma(e,v)&&(e=v,r)){const o=!At.length;for(const u of n)u[1](),At.push(u,e);if(o){for(let u=0;u<At.length;u+=2)At[u][0](At[u+1]);At.length=0}}}function i(v){s(v(e))}function l(v,o=Ye){const u=[v,o];return n.add(u),n.size===1&&(r=t(s,i)||Ye),v(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:l}}function ht(e){let t;return cn(e,r=>t=r)(),t}let Qt=!1,jr=Symbol();function un(e,t,r){const n=r[t]??(r[t]={store:null,source:B(void 0),unsubscribe:Ye});if(n.store!==e&&!(jr in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Ye;else{var s=!0;n.unsubscribe=cn(e,i=>{s?n.source.v=i:d(n.source,i)}),s=!1}return e&&jr in r?ht(e):a(n.source)}function fn(){const e={};function t(){yr(()=>{for(var r in e)e[r].unsubscribe();Oa(e,jr,{enumerable:!1,value:!0})})}return[e,t]}function Ks(e){var t=Qt;try{return Qt=!1,[e(),Qt]}finally{Qt=t}}function xa(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Ge(e,t,r,n){var T;var s=(r&In)!==0,i=!Lt||(r&Rn)!==0,l=(r&Ln)!==0,v=(r&Bn)!==0,o=!1,u;l?[u,o]=Ks(()=>e[t]):u=e[t];var _=it in e||Jn in e,f=l&&(((T=qt(e,t))==null?void 0:T.set)??(_&&t in e&&(C=>e[t]=C)))||void 0,c=n,g=!0,h=!1,A=()=>(h=!0,g&&(g=!1,v?c=Qe(n):c=n),c);u===void 0&&n!==void 0&&(f&&i&&es(),u=A(),f&&f(u));var S;if(i)S=()=>{var C=e[t];return C===void 0?A():(g=!0,h=!1,C)};else{var b=(s?jt:Fe)(()=>e[t]);b.f|=Hn,S=()=>{var C=a(b);return C!==void 0&&(c=void 0),C===void 0?c:C}}if((r&Nn)===0)return S;if(f){var E=e.$$legacy;return function(C,L){return arguments.length>0?((!i||!L||E||o)&&f(L?S():C),C):S()}}var x=!1,k=B(u),m=jt(()=>{var C=S(),L=a(k);return x?(x=!1,L):k.v=C});return l&&a(m),s||(m.equals=Jr),function(C,L){if(arguments.length>0){const M=L?a(m):i&&l?gt(C):C;if(!m.equals(M)){if(x=!0,d(k,M),h&&c!==void 0&&(c=M),xa(m))return C;Qe(()=>a(m))}return C}return xa(m)?m.v:a(m)}}const xe=vn({active:"default",backends:{default:{url:"/",token:null}}}),De=vn({isAuthenticated:!1,isAuthenticating:!1,authError:null});let Rr=!1;function ra(){const e=ht(xe);return e.backends[e.active]||e.backends.default}function Fr(){const e=ra();return e.url==="/"?"":e.url}function Vr(){return ra().token}function dn(e,t){xe.update(r=>{var s;const n=((s=r.backends[e])==null?void 0:s.token)||null;return r.backends[e]={url:t,token:n},r})}async function ur(e){let t=!1;if(ht(xe).active!==e){xe.update(n=>(n.backends[e]&&(n.active=e),n));try{await Jt(),t=!0}catch(n){console.error("Error syncing auth state after backend change:",n)}}else t=!0;return t}function Zs(e,t){xe.update(r=>(r.backends[e]&&(r.backends[e].token=t),r)),e===ht(xe).active&&De.update(r=>({...r,isAuthenticated:!!t,authError:null}))}async function Pe(e,t={}){const r=Fr(),n=Vr(),s=e.startsWith("/")||e===""?e:`/${e}`,i=`${r}${s}`;return t.headers=t.headers||{},t.credentials="include",n&&!e.includes("/auth/login")&&(document.cookie.includes("AuthToken=")||(t.headers.Cookie=`AuthToken=${n}`),t.headers.Authorization=`Bearer ${n}`),fetch(i,t)}function Sa(e,t,r=console.error){const n=Fr(),s=Vr(),i=e.startsWith("/")||e===""?e:`/${e}`,l=n||window.location.origin,v=new URL(`${l}${i}`);s&&v.searchParams.set("token",s);let o=null,u=!0,_=ht(xe).active;try{const f={withCredentials:!0};o=new EventSource(v.toString(),f),o.onmessage=g=>{try{const h=JSON.parse(g.data);t(h)}catch{t(g.data)}},o.onerror=g=>{o.readyState===EventSource.CLOSED&&Jt().catch(console.error),r(g),u&&!o&&setTimeout(()=>{if(u&&document.visibilityState!=="hidden")try{o=new EventSource(v.toString(),f)}catch(h){r(h)}},2e3)};const c=xe.subscribe(g=>{u&&g.active!==_&&(console.log("The Backend changed, I am reconnecting a SSE connection"),_=g.active,o&&(o.close(),o=null),setTimeout(()=>{if(u)try{const h=Fr(),A=Vr(),S=new URL(`${h||window.location.origin}${i}`);A&&S.searchParams.set("token",A),o=new EventSource(S.toString(),f),o.onmessage=o.onmessage,o.onerror=o.onerror}catch(h){r(h)}},100))});return{close:()=>{o&&(o.close(),o=null),u=!1,c()}}}catch(f){return r(f),u=!1,{close:()=>{}}}}async function Qs(e,t){De.update(r=>({...r,isAuthenticating:!0,authError:null}));try{const r=await Pe("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:t})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Authentication failed")}const n=await r.json();return Zs(ht(xe).active,n.token),document.cookie=`AuthToken=${n.token}; path=/; max-age=${60*60*24}`,De.update(s=>({...s,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0}catch(r){return De.update(n=>({...n,isAuthenticated:!1,isAuthenticating:!1,authError:r.message})),!1}}async function Jt(){ht(xe).active,ra(),De.update(e=>({...e,isAuthenticating:!0}));try{const e=await Pe("/api/v2/auth/check",{method:"GET",headers:{Accept:"application/json"},credentials:"include"});return e.status===401?(De.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"Authentication required"})),!1):e.status===404?(De.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:"endpoint not found"})),!1):e.ok?(De.update(t=>({...t,isAuthenticated:!0,isAuthenticating:!1,authError:null})),!0):(De.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:`API error: ${e.status} ${e.statusText}`})),!1)}catch(e){return console.warn("Auth check failed:",e),De.update(t=>({...t,isAuthenticated:!1,isAuthenticating:!1,authError:e.message||"Connection error"})),!1}}function pn(){var e,t,r;if(!Rr)try{const n=localStorage.getItem("ssui-backend-config");if(n){const i=JSON.parse(n),l={active:i.active&&((e=i.backends)!=null&&e[i.active])?i.active:"default",backends:{default:{url:"/",token:((r=(t=i.backends)==null?void 0:t.default)==null?void 0:r.token)||null}}};if(i.backends)for(const[v,o]of Object.entries(i.backends))v!=="default"&&(l.backends[v]={url:o.url,token:o.token||null});xe.set(l)}const s=xe.subscribe(i=>{try{localStorage.setItem("ssui-backend-config",JSON.stringify(i))}catch(l){console.error("Error saving backend config:",l)}});return Rr=!0,Jt().catch(console.error),s}catch(n){console.error("Error initializing API service:",n),Rr=!0}}const aa={forest:{name:"Forest Dark",properties:{"--bg-primary":"#1e1e1e","--bg-secondary":"#252526","--bg-tertiary":"#2d2d2d","--bg-hover":"#3c3c3c","--bg-active":"#3e4033","--text-primary":"#d4d4d4","--text-secondary":"#a9a9a9","--text-accent":"#6a9955","--text-warning":"#ce9178","--border-color":"#3e3e3e","--accent-primary":"#6a9955","--accent-secondary":"#4d7240","--accent-tertiary":"#5f7e52","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.3)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.4)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},vaxholmDark:{name:"Vaxholm Dark",properties:{"--bg-primary":"#121a12","--bg-secondary":"#1b2a1b","--bg-tertiary":"#243224","--bg-hover":"#2e3a2e","--bg-active":"#3a4a3a","--text-primary":"#d9e6d9","--text-secondary":"#a3b3a3","--text-accent":"#7a9a7a","--text-warning":"#c9a67a","--border-color":"#2a3a2a","--accent-primary":"#7a9a7a","--accent-secondary":"#5f7a5f","--accent-tertiary":"#6a8a6a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.5)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.6)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},archipelagoPastel:{name:"Archipelago Pastel",properties:{"--bg-primary":"#2e3b3e","--bg-secondary":"#3e4b4e","--bg-tertiary":"#4e5b5e","--bg-hover":"#5e6b6e","--bg-active":"#6e7b7e","--text-primary":"#dce7e7","--text-secondary":"#b0c0c0","--text-accent":"#a3c1ad","--text-warning":"#d9bba3","--border-color":"#4a5a5a","--accent-primary":"#a3c1ad","--accent-secondary":"#8bb394","--accent-tertiary":"#7aa383","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.25)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.35)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},colorblindFriendly:{name:"Colorblind Friendly",properties:{"--bg-primary":"#121212","--bg-secondary":"#1e1e1e","--bg-tertiary":"#2a2a2a","--bg-hover":"#383838","--bg-active":"#454545","--text-primary":"#ffffff","--text-secondary":"#bfbfbf","--text-accent":"#ffb300","--text-warning":"#ff3b3b","--border-color":"#666666","--accent-primary":"#ffb300","--accent-secondary":"#ffaa00","--accent-tertiary":"#cc8800","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.7)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.8)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},cyberpunkGlow:{name:"Cyberpunk Glow",properties:{"--bg-primary":"#0a0a23","--bg-secondary":"#1a1a3a","--bg-tertiary":"#2a2a5a","--bg-hover":"#3a3a7a","--bg-active":"#4a4a9a","--text-primary":"#e0e0ff","--text-secondary":"#a0a0ff","--text-accent":"#ff00ff","--text-warning":"#ff4d4d","--border-color":"#660066","--accent-primary":"#ff00ff","--accent-secondary":"#cc00cc","--accent-tertiary":"#990099","--shadow-light":"0 0 8px #ff00ff","--shadow-medium":"0 0 16px #ff00ff","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},v1Classic:{name:"Stationeers Server UI (Classic)",properties:{"--bg-primary":"#0a0a14","--bg-secondary":"#1b1b2f8f","--bg-tertiary":"#2a2a5a","--bg-hover":"#2a2a5a","--bg-active":"#4a4a9a","--text-primary":"#00fca9","--text-secondary":"#00fca9","--text-accent":"#00fca9","--text-warning":"#ff4d4d","--border-color":"#660066","--accent-primary":"#0eefa9","--accent-secondary":"#cc00cc","--accent-tertiary":"#990099","--shadow-light":"0 0 8px #0df2aa","--shadow-medium":"0 0 16px #0df2aa","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}},lightArchipelago:{name:"Light Archipelago",properties:{"--bg-primary":"#f0f4f3","--bg-secondary":"#d9e4e1","--bg-tertiary":"#c0d1cd","--bg-hover":"#b0c4bf","--bg-active":"#a0b4af","--text-primary":"#2a3a33","--text-secondary":"#4a5a53","--text-accent":"#7a9a7a","--text-warning":"#c97a5a","--border-color":"#a0b0a8","--accent-primary":"#7a9a7a","--accent-secondary":"#5f7a5f","--accent-tertiary":"#6a8a6a","--shadow-light":"0 2px 8px rgba(0, 0, 0, 0.1)","--shadow-medium":"0 4px 12px rgba(0, 0, 0, 0.15)","--transition-speed":"250ms","--top-nav-height":"3rem","--sidebar-width":"250px","--sidebar-collapsed-width":"60px"}}},tr=Object.keys(aa);let Er="forest";function fr(e){const t=aa[e];if(!t)return;Er=e;const r=document.documentElement;Object.entries(t.properties).forEach(([n,s])=>{r.style.setProperty(n,s)}),localStorage.setItem("theme",e)}function Xs(){const t=(tr.indexOf(Er)+1)%tr.length;fr(tr[t])}function ei(){return Er}function ti(){return tr}function ri(){const e=localStorage.getItem("theme");e&&aa[e]?fr(e):fr(Er)}const Ea={initTheme:ri,applyTheme:fr,nextTheme:Xs,getCurrentTheme:ei,getThemes:ti};var ai=N("<button> </button>"),ni=N('<span class="active-marker svelte-z1bun8">✓</span>'),si=N('<div><div class="backend-info svelte-z1bun8"><span class="status-dot svelte-z1bun8"></span> <span class="backend-name svelte-z1bun8"> </span></div> <!></div>'),ii=N('<div class="backend-dropdown svelte-z1bun8"><div class="dropdown-header svelte-z1bun8"><h3 class="svelte-z1bun8">Select Backend</h3></div> <div class="dropdown-content svelte-z1bun8"></div></div>'),li=N('<div class="user-dropdown svelte-z1bun8"><div class="user-dropdown-header svelte-z1bun8"><div class="user-info svelte-z1bun8"><div class="user-avatar large svelte-z1bun8">SA</div> <div class="user-details svelte-z1bun8"><div class="user-name svelte-z1bun8">Admin</div> <div class="user-email svelte-z1bun8">Superadmin</div></div></div></div> <div class="dropdown-content svelte-z1bun8"><div class="dropdown-item svelte-z1bun8"><span class="item-icon svelte-z1bun8">🌙</span> <span>Switch Theme</span></div> <div class="divider svelte-z1bun8"></div> <div class="dropdown-item logout svelte-z1bun8"><span class="item-icon svelte-z1bun8">🚪</span> <span>Logout & Reset Interface</span></div></div></div>'),oi=N('<nav class="top-nav svelte-z1bun8"><div class="nav-left svelte-z1bun8"><div class="logo svelte-z1bun8"><span class="logo-icon svelte-z1bun8">⚙️</span> <span class="logo-text svelte-z1bun8">SSUI</span></div> <div class="nav-buttons svelte-z1bun8"></div></div> <div class="nav-right svelte-z1bun8"><div class="backend-selector svelte-z1bun8"><button class="backend-toggle svelte-z1bun8"><span class="status-indicator svelte-z1bun8"> </span> <span class="backend-label"> </span> <span class="dropdown-arrow svelte-z1bun8"> </span></button> <!></div> <div class="datetime svelte-z1bun8"><span class="date svelte-z1bun8"> </span> <span class="time svelte-z1bun8"> </span></div> <div class="user-menu-container svelte-z1bun8"><button class="user-button svelte-z1bun8"><span class="user-avatar svelte-z1bun8">SA</span></button> <!></div></div></nav>');function ci(e,t){Le(t,!1);const r=B(),n=B();let s=Ge(t,"views",24,()=>[]),i=Ge(t,"activeView",8,"dashboard"),l=Ge(t,"setActiveView",8),v=B(new Date),o=B(!1),u=B(!1),_=B([]),f=B(""),c=B({}),g,h,A;const S=xe.subscribe(O=>{const W=Object.keys(O.backends),D=O.active,j=D!==a(f);d(_,W),d(f,D);const ne={...a(c)};a(_).forEach(ge=>{ge in ne||(ne[ge]={status:"unknown",lastChecked:null})}),d(c,ne),j&&a(f)&&(b(a(f)),E())});function b(O){if(!O||!a(_).includes(O))return;const W={...a(c)};W[O]={...W[O],status:"connecting"},d(c,W),clearTimeout(g),g=setTimeout(async()=>{try{const D=await Pe("/api/v2/server/status"),j={...a(c)};D?j[O]={status:"connected",lastChecked:new Date,details:D}:j[O]={status:"error",lastChecked:new Date,details:D},d(c,j)}catch(D){const j={...a(c)};j[O]={status:"error",lastChecked:new Date,errorMessage:D.message},d(c,j)}},800)}function E(){h&&clearInterval(h),h=setInterval(()=>{if(a(f)){const O=a(f);b(O)}},1e4)}function x(){A=O=>{const W=document.querySelector(".backend-selector"),D=document.querySelector(".user-menu-container");W&&!W.contains(O.target)&&d(o,!1),D&&!D.contains(O.target)&&d(u,!1)},document.addEventListener("click",A)}ot(()=>{Ea.initTheme(),x();const O=setInterval(()=>{d(v,new Date)},6e4);return a(f)&&b(a(f)),E(),()=>{clearInterval(O),clearInterval(h),clearTimeout(g),S(),document.removeEventListener("click",A)}}),ta(()=>{clearInterval(h),clearTimeout(g)});function k(O){O.stopPropagation(),d(o,!a(o)),a(o)&&d(u,!1)}function m(O){O.stopPropagation(),d(u,!a(u)),a(u)&&d(o,!1)}function T(O){if(O===a(f)){b(O),d(o,!1);return}ur(O),d(f,O),b(O),E(),d(o,!1)}async function C(){try{localStorage.removeItem("ssui-backend-config"),document.cookie="AuthToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",window.location.href="/login"}catch(O){console.error("Logout failed:",O),d(u,!1)}}function L(O){var D;switch(((D=a(c)[O])==null?void 0:D.status)||"unknown"){case"connected":return"🟢";case"connecting":return"🟠";case"error":return"🔴";default:return"⚪"}}function M(O,{duration:W=300}){return{duration:W,css:D=>`
        transform: translateY(${(1-D)*-10}px);
        opacity: ${D};
      `}}function te(){Ea.nextTheme()}ut(()=>a(v),()=>{d(r,a(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}),ut(()=>a(v),()=>{d(n,a(v).toLocaleDateString([],{month:"short",day:"numeric"}))}),Yr(),Xe();var X=oi(),ae=p(X),ie=p(ae),Z=y(ie,2);$e(Z,5,s,Ve,(O,W)=>{var D=ai(),j=p(D);J(()=>{de(D,1,Ds(i()===a(W).id?"active":""),"svelte-z1bun8"),F(j,a(W).name)}),K("click",D,()=>l()(a(W).id)),w(O,D)});var G=y(ae,2),ee=p(G),I=p(ee),V=p(I),H=p(V),q=y(V,2),$=p(q),Y=y(q,2),P=p(Y),fe=y(I,2);{var he=O=>{var W=ii(),D=y(p(W),2);$e(D,5,()=>a(_),Ve,(j,ne)=>{var ge=si(),ce=p(ge),oe=p(ce),le=y(oe,2),me=p(le),Q=y(ce,2);{var re=be=>{var Oe=ni();w(be,Oe)};R(Q,be=>{a(ne)===a(f)&&be(re)})}J(()=>{var be,Oe,ye;de(ge,1,`dropdown-item ${a(ne)===a(f)?"active":""}`,"svelte-z1bun8"),Ot(oe,`background-color: ${((be=a(c)[a(ne)])==null?void 0:be.status)==="connected"?"var(--accent-primary)":((Oe=a(c)[a(ne)])==null?void 0:Oe.status)==="connecting"?"var(--text-warning)":((ye=a(c)[a(ne)])==null?void 0:ye.status)==="error"?"var(--text-danger)":"var(--text-secondary)"}`),F(me,a(ne))}),K("click",ge,()=>T(a(ne))),w(j,ge)}),Zt(1,W,()=>M,()=>({duration:150})),Zt(2,W,()=>M,()=>({duration:150})),w(O,W)};R(fe,O=>{a(o)&&O(he)})}var we=y(ee,2),ke=p(we),_e=p(ke),Se=y(ke,2),Ee=p(Se),Ae=y(we,2),Ue=p(Ae),z=y(Ue,2);{var U=O=>{var W=li(),D=y(p(W),2),j=p(D),ne=y(j,4);K("click",j,te),K("click",ne,C),Zt(1,W,()=>M,()=>({duration:150})),Zt(2,W,()=>M,()=>({duration:150})),w(O,W)};R(z,O=>{a(u)&&O(U)})}J(O=>{F(H,O),F($,a(f)),F(P,a(o)?"▲":"▼"),F(_e,a(n)),F(Ee,a(r))},[()=>L(a(f))],Fe),K("click",ie,()=>l()("dashboard")),K("click",I,k),K("click",ee,ya(function(O){ka.call(this,t,O)})),K("click",Ue,m),K("click",Ae,ya(function(O){ka.call(this,t,O)})),w(e,X),Be()}var vi=N('<button><span class="sidebar-icon svelte-14awm4t"><!></span> <span class="sidebar-text svelte-14awm4t"> </span></button>'),ui=N('<aside><div class="pin-container svelte-14awm4t"><button><!></button></div> <nav class="sidebar-nav svelte-14awm4t"></nav> <div class="sidebar-footer svelte-14awm4t"><div class="server-status svelte-14awm4t"><div class="status-indicator online svelte-14awm4t"></div> <span class="status-text svelte-14awm4t">Servers: 3 Online</span></div> <div class="memory-usage svelte-14awm4t"><div class="progress-bar svelte-14awm4t"><div class="progress svelte-14awm4t" style="width: 65%"></div></div> <span class="memory-text svelte-14awm4t">Memory: 65%</span></div></div></aside>');function fi(e,t){Le(t,!1);const r=B();let n=Ge(t,"views",24,()=>[]),s=Ge(t,"activeView",8,"dashboard"),i=Ge(t,"setActiveView",8),l=B(!1),v=B(!1);function o(){d(v,!a(v))}function u(){d(l,!0)}function _(){d(l,!1)}ut(()=>(a(l),a(v)),()=>{d(r,a(l)||a(v))}),Yr(),Xe();var f=ui();let c;var g=p(f),h=p(g);let A;var S=p(h);{var b=k=>{var m=se("📌");w(k,m)},E=k=>{var m=se("📍");w(k,m)};R(S,k=>{a(v)?k(b):k(E,!1)})}var x=y(g,2);$e(x,5,n,Ve,(k,m)=>{var T=vi();let C;var L=p(T),M=p(L);{var te=Z=>{var G=se("📊");w(Z,G)},X=(Z,G)=>{{var ee=V=>{var H=se("⚙️");w(V,H)},I=(V,H)=>{{var q=Y=>{var P=se("📝");w(Y,P)},$=(Y,P)=>{{var fe=he=>{var we=se(">");w(he,we)};R(Y,he=>{a(m).icon==="terminal"&&he(fe)},P)}};R(V,Y=>{a(m).icon==="file-text"?Y(q):Y($,!1)},H)}};R(Z,V=>{a(m).icon==="settings"?V(ee):V(I,!1)},G)}};R(M,Z=>{a(m).icon==="grid"?Z(te):Z(X,!1)})}var ae=y(L,2),ie=p(ae);J(Z=>{C=de(T,1,"sidebar-button svelte-14awm4t",null,C,Z),F(ie,a(m).name)},[()=>({active:s()===a(m).id})],Fe),K("click",T,()=>i()(a(m).id)),w(k,T)}),J((k,m)=>{c=de(f,1,"sidebar svelte-14awm4t",null,c,k),A=de(h,1,"pin-button svelte-14awm4t",null,A,m)},[()=>({expanded:a(r)}),()=>({active:a(v)})],Fe),K("click",h,o),K("mouseenter",f,u),K("mouseleave",f,_),w(e,f),Be()}var di=Wt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),pi=Wt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),hi=N('<div><div class="response-icon svelte-1b4j9ko"><!></div> <div class="response-text svelte-1b4j9ko"> </div></div>'),gi=N('<div class="card server-control svelte-1b4j9ko"><div class="button-group svelte-1b4j9ko"><button> </button> <button> </button></div> <!></div>');function _i(e,t){Le(t,!1);let r=B(!1),n=B(null),s=B(""),i=B(!1);async function l(b){d(r,!0),d(n,b),d(i,!1);try{const E=await Pe(`/api/v2/server/${b}`,{method:"POST"}),x=await E.text();E.ok||d(i,!0),d(s,x)}catch(E){d(i,!0),d(s,"Failed to connect to server"),console.error("Error:",E)}finally{d(r,!1)}}Xe();var v=gi(),o=p(v),u=p(o);let _;var f=p(u),c=y(u,2);let g;var h=p(c),A=y(o,2);{var S=b=>{var E=hi(),x=p(E),k=p(x);{var m=M=>{var te=di();w(M,te)},T=M=>{var te=pi();w(M,te)};R(k,M=>{a(i)?M(m):M(T,!1)})}var C=y(x,2),L=p(C);J(()=>{de(E,1,`response-message ${a(i)?"error":"success"}`,"svelte-1b4j9ko"),F(L,a(s))}),w(b,E)};R(A,b=>{a(s)&&b(S)})}J((b,E)=>{u.disabled=a(r),_=de(u,1,"start-button svelte-1b4j9ko",null,_,b),F(f,a(r)&&a(n)==="start"?"Starting...":"Start Server"),c.disabled=a(r),g=de(c,1,"stop-button svelte-1b4j9ko",null,g,E),F(h,a(r)&&a(n)==="stop"?"Stopping...":"Stop Server")},[()=>({active:a(n)==="start"&&!a(r)}),()=>({active:a(n)==="stop"&&!a(r)})],Fe),K("click",u,()=>l("start")),K("click",c,()=>l("stop")),w(e,v),Be()}async function bi(e,t,r,n){d(t,!0),d(r,!1),d(n,"");try{const s=await Pe("/api/v2/loader/reloadall",{method:"GET"});let i;try{i=await s.json()}catch{throw new Error("Invalid response format")}!s.ok||i.status!=="OK"?(d(r,!0),d(n,i.message||"Backend reload failed",!0)):d(n,"Backend reload triggered")}catch(s){d(r,!0),d(n,s.message||"Failed to connect to server",!0),console.error("Error:",s)}finally{d(t,!1)}}var mi=Wt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>'),yi=Wt('<svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"></path></svg>'),wi=N('<div><div class="response-icon svelte-1bn0ayy"><!></div> <div class="response-text svelte-1bn0ayy"> </div></div>'),ki=N('<div class="card reload-control svelte-1bn0ayy"><button> </button> <!></div>');function xi(e,t){Le(t,!0);let r=Re(!1),n=Re(""),s=Re(!1);var i=ki(),l=p(i);l.__click=[bi,r,s,n];let v;Ot(l,"",{},{"background-color":"var(--bg-hover)"});var o=p(l),u=y(l,2);{var _=f=>{var c=wi(),g=p(c),h=p(g);{var A=x=>{var k=mi();w(x,k)},S=x=>{var k=yi();w(x,k)};R(h,x=>{a(s)?x(A):x(S,!1)})}var b=y(g,2),E=p(b);J(()=>{de(c,1,`response-message ${a(s)?"error":"success"}`,"svelte-1bn0ayy"),F(E,a(n))}),w(f,c)};R(u,f=>{a(n)&&f(_)})}J(f=>{l.disabled=a(r),v=de(l,1,"svelte-1bn0ayy",null,v,f),F(o,a(r)?"🕐 Reloading...":"🔃 Reload Backend")},[()=>({active:!a(r)})]),w(e,i),Be()}Xr(["click"]);var Si=N('<div class="card quick-actions svelte-1a641ul"><div class="card-header svelte-1a641ul"><h3 class="svelte-1a641ul">Quick Actions</h3> <div class="card-icon svelte-1a641ul">⚡</div></div> <!> <div class="action-buttons svelte-1a641ul"><!></div></div>');function Ei(e){var t=Si(),r=y(p(t),2);_i(r,{});var n=y(r,2),s=p(n);xi(s,{}),w(e,t)}var Ai=N('<div class="svelte-13trlk3"> </div>'),Ci=N('<div class="console-tab active svelte-13trlk3"><div class="console svelte-13trlk3"></div></div>'),Ti=N('<div><span class="event-timestamp svelte-13trlk3"> </span> <span class="svelte-13trlk3"> </span></div>'),qi=N('<div class="detection-tab active svelte-13trlk3"><div class="detection-console svelte-13trlk3"></div></div>'),Oi=N('<div class="console-view svelte-13trlk3"><div class="console-controls svelte-13trlk3"><div class="console-tabs svelte-13trlk3"><button>Console</button> <button>Detections</button></div> <button class="autoscroll-button svelte-13trlk3"> </button></div> <div class="tab-content svelte-13trlk3"><!></div></div>');function hn(e,t){Le(t,!1);let r=B(),n=B(),s=null,i=null,l=B("console-tab"),v=B(!0);const o=["Teaching AI to say 'please' and 'thank you'...","Calibrating interdimensional server relays...","Spinning up player fun generators...","Scanning for gremlins in the server room...","Brewing energy drinks for the GPU...","Charging up epic loot spawners...","Teaching AI to high-five players...","Polishing textures to a glossy finish...","Herding electrons into neat little rows...","Rebooting server dreams for the 42nd time...","Locating your character after that teleport glitch...","Converting lag into pure chaos, efficiently...","Convincing physics engine that walls are solid...","Calculating odds of your inventory vanishing...","Optimizing server ticks (fingers crossed)...","Syncing game world with cosmic clock...","Patching rips in the fabric of virtual reality...","Convincing server that 'uptime' is not a myth...","Mediating truce between CPU and lag spikes...","Compressing map data until the server squeaks...","Measuring distance to the next game-breaking bug...","Explaining 'netcode' to confused server pigeons...","Calculating chance of a crash (don’t ask)...","Corraling rogue packets back into the pipeline...","Sacrificing bandwidth to the frame-rate deities...","Raising sails!"];let u=B([]),_=B([]),f=B(!1);function c(I){d(l,I),I==="detection-tab"&&d(f,!1)}ot(async()=>{await g("Console initializing...");const I=Math.floor(Math.random()*o.length);h(o[I],"#0af","italic");let V;do V=Math.floor(Math.random()*o.length);while(V===I);h(o[V],"#0af","italic"),E(),x(),Math.random()<.5?(h("ERROR: Console was hacked by AI. Initiating counter-measure...","red"),setTimeout(()=>{h("Sequence complete. AI defeated. Continuing initialization...","green"),b()},1e3)):b()}),ta(()=>{s&&(s.close(),s=null),i&&(i.close(),i=null)});async function g(I,V=30){let H=0;return new Promise(q=>{const $=setInterval(()=>{H<I.length?(d(u,[...a(u),{text:I.substring(0,++H),color:"white",style:"normal",isTyping:!0}]),d(u,a(u).slice(-1))):(clearInterval($),d(u,a(u).filter(Y=>!Y.isTyping)),q())},V)})}function h(I,V="white",H="normal"){d(u,[...a(u),{text:I,color:V,style:H}]),a(v)&&setTimeout(()=>A(),50)}function A(){a(r)&&a(v)&&ct(r,a(r).scrollTop=a(r).scrollHeight)}function S(){a(n)&&a(v)&&ct(n,a(n).scrollTop=a(n).scrollHeight)}function b(){setTimeout(()=>{h("Console ready.🎮 Happy gaming! 🎮","#0f0"),a(v)&&setTimeout(A,50)},500)}function E(){s&&(s.close(),s=null),s=Sa("/console",I=>{h(I)},I=>{console.error("Console stream error:",I),s=null,h("Warning: Console stream unavailable. Retrying...","#ff0"),setTimeout(()=>{!s&&document.visibilityState!=="hidden"&&E()},2e3)})}function x(){i&&(i.close(),i=null),i=Sa("/events",I=>{const V=k(I),H=new Date().toLocaleTimeString();d(_,[...a(_),{timestamp:H,message:I,className:V}]),a(_).length>500&&d(_,a(_).slice(-500)),a(v)&&setTimeout(S,50),a(l)!=="detection-tab"&&d(f,!0)},I=>{console.error("Detection events stream error:",I),i=null,setTimeout(()=>{!i&&document.visibilityState!=="hidden"&&x()},2e3)})}function k(I){return I.includes("ERROR")||I.includes("FATAL")?"error":I.includes("WARNING")?"warning":I.includes("SUCCESS")?"success":"info"}function m(){d(v,!a(v)),a(v)&&(A(),S())}Xe();var T=Oi(),C=p(T),L=p(C),M=p(L),te=y(M,2),X=y(L,2),ae=p(X),ie=y(C,2),Z=p(ie);{var G=I=>{var V=Ci(),H=p(V);$e(H,5,()=>a(u),Ve,(q,$)=>{var Y=Ai(),P=p(Y);J(()=>{Ot(Y,`color: ${a($).color??""}; font-style: ${a($).style??""}`),F(P,a($).text)}),w(q,Y)}),ma(H,q=>d(r,q),()=>a(r)),w(I,V)},ee=I=>{var V=qi(),H=p(V);$e(H,5,()=>a(_),Ve,(q,$)=>{var Y=Ti(),P=p(Y),fe=p(P),he=y(P,2),we=p(he);J(()=>{de(Y,1,`detection-event ${a($).className??""}`,"svelte-13trlk3"),F(fe,`${a($).timestamp??""}:`),F(we,a($).message)}),w(q,Y)}),ma(H,q=>d(n,q),()=>a(n)),w(I,V)};R(Z,I=>{a(l)==="console-tab"?I(G):I(ee,!1)})}J(()=>{de(M,1,`tab-button ${a(l)==="console-tab"?"active":""}`,"svelte-13trlk3"),de(te,1,`tab-button ${a(l)==="detection-tab"?"active":""} ${a(f)?"notification":""}`,"svelte-13trlk3"),Ne(X,"title",a(v)?"Disable Auto-scroll":"Enable Auto-scroll"),F(ae,a(v)?"⏬ Auto-scroll: ON":"⏫ Auto-scroll: OFF")}),K("click",M,()=>c("console-tab")),K("click",te,()=>c("detection-tab")),K("click",X,m),w(e,T),Be()}var Ii=N('<div class="card console-card wide svelte-4btkab"><!></div>');function Ri(e){var t=Ii(),r=p(t);hn(r,{}),w(e,t)}var Ni=N('<div class="card activity-card svelte-r575vc"><div class="card-header svelte-r575vc"><h3 class="svelte-r575vc">Recent Activity</h3> <div class="card-icon svelte-r575vc">🔄</div></div> <div class="activity-list svelte-r575vc"><div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">2.0000003 min ago (±0.0001s sync drift)</div> <div class="activity-text svelte-r575vc">Task failed successfully</div></div> <div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">15 min ago (server tick #123456789)</div> <div class="activity-text svelte-r575vc">User "admin" logged in from planet Venus (wtf?)</div></div> <div class="activity-item svelte-r575vc"><div class="activity-time svelte-r575vc">3 decades ago (CPU cycles: 3.2e12)</div> <div class="activity-text svelte-r575vc">If not clear already, this is a mockup!</div></div></div> <button class="btn small svelte-r575vc">View All Activity Logs (42,069 entries)</button></div>');function Li(e){var t=Ni();w(e,t)}var Bi=N('<div class="error svelte-y3l85r"> </div> <button class="retry-button">Retry</button>',1),zi=N('<div class="resource-metrics svelte-y3l85r"><div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">System CPU Usage</div> <div class="metric-bar svelte-y3l85r"></div></div> <div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">Memory Consumption</div> <div class="metric-bar svelte-y3l85r"></div></div> <div class="metric svelte-y3l85r"><div class="metric-value svelte-y3l85r"> </div> <div class="metric-label svelte-y3l85r">Disk Space Unused</div> <div class="metric-bar svelte-y3l85r"></div></div></div> <div class="info-grid svelte-y3l85r"><div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">OS Version</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Kernel</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Uptime</div> <div class="info-value svelte-y3l85r"> </div></div> <div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Backend IP Address</div> <div class="info-value svelte-y3l85r"> </div></div></div> <div class="info-grid svelte-y3l85r"><div class="info-item svelte-y3l85r"><div class="info-label svelte-y3l85r">Last Refresh</div> <div class="info-value svelte-y3l85r"> </div></div></div>',1),Di=N('<div class="loading svelte-y3l85r">Loading system information...</div>'),Pi=N('<div class="card info-card svelte-y3l85r"><div class="card-header svelte-y3l85r"><h3 class="svelte-y3l85r">System Information</h3> <div class="card-icon svelte-y3l85r">ℹ️</div></div> <!></div>');function Mi(e,t){Le(t,!0);let r=Re(null),n=Re(null),s=Re(null);async function i(){try{const _=await Pe("/api/v2/osstats",{raw:!0}),f=await _.json();if(d(s,JSON.stringify({status:_.status,headers:Object.fromEntries(_.headers.entries()),body:f},null,2),!0),f&&typeof f=="object"&&Object.keys(f).length>0)d(r,{...f},!0),d(n,null);else throw new Error("Empty or invalid response data")}catch(_){d(n,`Failed to fetch system information: ${_.message}`),d(r,null),a(s)||d(s,`Error: ${_.message}
Stack: ${_.stack}`),console.error("Fetch error:",_)}}nr(()=>{i();const _=setInterval(i,3e4);return()=>clearInterval(_)});var l=Pi(),v=y(p(l),2);{var o=_=>{var f=Bi(),c=Ke(f),g=p(c),h=y(c,2);h.__click=i,J(()=>F(g,a(n))),w(_,f)},u=(_,f)=>{{var c=h=>{var A=zi(),S=Ke(A),b=p(S),E=p(b),x=p(E),k=y(E,4),m=y(b,2),T=p(m),C=p(T),L=y(T,4),M=y(m,2),te=p(M),X=p(te),ae=y(te,4),ie=y(S,2),Z=p(ie),G=y(p(Z),2),ee=p(G),I=y(Z,2),V=y(p(I),2),H=p(V),q=y(I,2),$=y(p(q),2),Y=p($),P=y(q,2),fe=y(p(P),2),he=p(fe),we=y(ie,2),ke=p(we),_e=y(p(ke),2),Se=p(_e);J((Ee,Ae,Ue,z)=>{F(x,`${Ee??""}%`),Ot(k,`--value: ${(typeof a(r).cpuUsage=="number"?a(r).cpuUsage:0)??""}%; --color: var(--accent-primary);`),F(C,`${Ae??""} GB`),Ot(L,`--value: ${typeof a(r).memoryUsage=="number"?a(r).memoryUsage/1024*10:0}%; --color: var(--accent-secondary);`),F(X,`${Ue??""}%`),Ot(ae,`--value: ${typeof a(r).diskUsage=="number"?100-a(r).diskUsage:0}%; --color: var(--accent-tertiary);`),F(ee,`${a(r).osName||"Temple OS v3.14.15"} ${(a(r).osVersion||"")??""}`),F(H,a(r).kernel||"Cannot detect"),F(Y,a(r).uptime||"Cannot detect"),F(he,a(r).backendIpAddress||"Cannot detect"),F(Se,z)},[()=>typeof a(r).cpuUsage=="number"?a(r).cpuUsage.toFixed(2):"N/A",()=>typeof a(r).memoryUsage=="number"?(a(r).memoryUsage/1024).toFixed(2):"N/A",()=>typeof a(r).diskUsage=="number"?(100-a(r).diskUsage).toFixed(2):"N/A",()=>a(r).lastRefreshTime?new Date(a(r).lastRefreshTime).toLocaleString():"Cannot detect"]),w(h,A)},g=h=>{var A=Di();w(h,A)};R(_,h=>{a(r)?h(c):h(g,!1)},f)}};R(v,_=>{a(n)?_(o):_(u,!1)})}w(e,l),Be()}Xr(["click"]);var Ui=N('<div class="dashboard-grid svelte-kt223o"><!> <!> <!> <!></div>');function ji(e){var t=Ui(),r=p(t);Ei(r);var n=y(r,2);Mi(n,{});var s=y(n,2);Ri(s);var i=y(s,2);Li(i),w(e,t)}var Fi=N("<button> </button>"),Vi=N('<input type="checkbox" class="svelte-1iyqb86">'),$i=N('<input type="number" class="svelte-1iyqb86">'),Gi=N('<input type="text" class="svelte-1iyqb86">'),Hi=N('<textarea class="svelte-1iyqb86"></textarea>'),Wi=N('<input type="text" class="svelte-1iyqb86">'),Ji=N('<div class="setting-item svelte-1iyqb86"><label class="svelte-1iyqb86"><span> </span> <!></label> <div class="input-info svelte-1iyqb86"> </div></div>'),Yi=N('<div class="settings-group svelte-1iyqb86"><h3 class="svelte-1iyqb86"> </h3> <div class="channel-grid svelte-1iyqb86"></div></div>'),Ki=N('<div><span class="status-icon svelte-1iyqb86"> </span> <span> </span> <button class="close-status svelte-1iyqb86">×</button></div>'),Zi=N('<div class="settings-group-nav svelte-1iyqb86"></div> <!> <!>',1),Qi=N('<div class="loading-container svelte-1iyqb86"><div class="loading-spinner svelte-1iyqb86"></div> <p>Loading settings...</p></div>'),Xi=N('<div class="settings-container svelte-1iyqb86"><h2 class="svelte-1iyqb86">General Settings</h2> <p class="settings-intro svelte-1iyqb86">Configure general application settings. Changes will be applied immediately.</p> <!></div>');function el(e,t){Le(t,!1);let r=Ge(t,"activeSidebarTab",8),n=B([]),s=B([]),i=B(""),l=B(""),v=B(!1),o;ot(async()=>{await u()});async function u(){try{const b=await Pe("/api/v2/settings"),{data:E,error:x}=await b.json();if(x){g(`Failed to load settings: ${x}`,!0);return}d(n,E),d(s,[...new Set(a(n).map(k=>k.group))]),a(s).length>0&&d(i,a(s)[0])}catch(b){g(`Error fetching settings: ${b.message}`,!0)}}function _(b){d(i,b)}async function f(b,E){try{const x=await Pe("/api/v2/settings/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[b]:E})}),{status:k,message:m}=await x.json();if(k==="error"){g(`Failed to update ${b}: ${m}`,!0);return}g(`Updated ${b} successfully`,!1)}catch(x){g(`Error updating ${b}: ${x.message}`,!0)}}function c(b,E){const x=E.target;let k;if(b.type==="bool")k=x.checked;else if(b.type==="int"){if(k=x.value?parseInt(x.value):null,b.required&&!k){g(`Value for ${b.name} is required`,!0);return}}else if(b.type==="array")k=x.value?x.value.split(",").map(m=>m.trim()):[];else if(b.type==="map")try{k=JSON.parse(x.value)}catch(m){g(`Invalid JSON for ${b.name}: ${m.message}`,!0);return}else k=x.value;f(b.name,k)}function g(b,E){d(l,b),d(v,E),o&&clearTimeout(o),o=setTimeout(()=>{d(l,"")},3e4)}Xe();var h=Nt(),A=Ke(h);{var S=b=>{var E=Xi(),x=y(p(E),4);{var k=T=>{var C=Zi(),L=Ke(C);$e(L,5,()=>a(s),Ve,(ae,ie)=>{var Z=Fi(),G=p(Z);J(()=>{de(Z,1,`section-nav-button ${a(i)===a(ie)?"active":""}`,"svelte-1iyqb86"),F(G,a(ie))}),K("click",Z,()=>_(a(ie))),w(ae,Z)});var M=y(L,2);$e(M,1,()=>a(s),Ve,(ae,ie)=>{var Z=Nt(),G=Ke(Z);{var ee=I=>{var V=Yi(),H=p(V),q=p(H),$=y(H,2);$e($,5,()=>a(n).filter(Y=>Y.group===a(ie)),Ve,(Y,P)=>{var fe=Ji(),he=p(fe),we=p(he),ke=p(we),_e=y(we,2);{var Se=z=>{var U=Vi();J(()=>{Ne(U,"id",a(P).name),sn(U,a(P).value===!0)}),K("change",U,O=>c(a(P),O)),w(z,U)},Ee=(z,U)=>{{var O=D=>{var j=$i();J(()=>{Ne(j,"id",a(P).name),Ct(j,a(P).value??""),Ne(j,"min",a(P).min),Ne(j,"max",a(P).max),j.required=a(P).required}),K("change",j,ne=>c(a(P),ne)),w(D,j)},W=(D,j)=>{{var ne=ce=>{var oe=Gi();J(le=>{Ne(oe,"id",a(P).name),Ct(oe,le)},[()=>{var le;return((le=a(P).value)==null?void 0:le.join(","))||""}],Fe),K("change",oe,le=>c(a(P),le)),w(ce,oe)},ge=(ce,oe)=>{{var le=Q=>{var re=Hi();J(be=>{Ne(re,"id",a(P).name),Ct(re,be)},[()=>JSON.stringify(a(P).value,null,2)||"{}"],Fe),K("change",re,be=>c(a(P),be)),w(Q,re)},me=Q=>{var re=Wi();J(()=>{Ne(re,"id",a(P).name),Ct(re,a(P).value||""),re.required=a(P).required}),K("change",re,be=>c(a(P),be)),w(Q,re)};R(ce,Q=>{a(P).type==="map"?Q(le):Q(me,!1)},oe)}};R(D,ce=>{a(P).type==="array"?ce(ne):ce(ge,!1)},j)}};R(z,D=>{a(P).type==="int"?D(O):D(W,!1)},U)}};R(_e,z=>{a(P).type==="bool"?z(Se):z(Ee,!1)})}var Ae=y(he,2),Ue=p(Ae);J(()=>{F(ke,a(P).description),F(Ue,a(P).description)}),w(Y,fe)}),J(()=>F(q,a(ie))),w(I,V)};R(G,I=>{a(i)===a(ie)&&I(ee)})}w(ae,Z)});var te=y(M,2);{var X=ae=>{var ie=Ki();let Z;var G=p(ie),ee=p(G),I=y(G,2),V=p(I),H=y(I,2);J(q=>{Z=de(ie,1,"status-message svelte-1iyqb86",null,Z,q),F(ee,a(v)?"⚠️":"✓"),F(V,a(l))},[()=>({error:a(v)})],Fe),K("click",H,()=>d(l,"")),w(ae,ie)};R(te,ae=>{a(l)&&ae(X)})}w(T,C)},m=T=>{var C=Qi();w(T,C)};R(x,T=>{a(s).length>0?T(k):T(m,!1)})}w(b,E)};R(A,b=>{r()==="General"&&b(S)})}w(e,h),Be()}var tl=N('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p>Loading runfile configuration...</p></div>'),rl=N('<div class="empty-state svelte-f1rydd"><h3 class="svelte-f1rydd">No Runfile Groups Available</h3> <p>No configuration groups were found for this server type.</p></div>'),al=N("<button> </button>"),nl=N('<div class="loading-container svelte-f1rydd"><div class="loading-spinner svelte-f1rydd"></div> <p> </p></div>'),sl=N('<div class="empty-state svelte-f1rydd"><p>No configurable arguments found for this group.</p></div>'),il=N('<input type="checkbox" class="svelte-f1rydd">'),ll=N('<input type="number" class="svelte-f1rydd">'),ol=N('<input type="text" class="svelte-f1rydd">'),cl=N('<div class="setting-item svelte-f1rydd"><label class="svelte-f1rydd"><span> </span> <!></label> <div class="input-info svelte-f1rydd"> </div></div>'),vl=N('<div class="channel-grid svelte-f1rydd"></div> <div class="form-actions svelte-f1rydd"><button class="save-button svelte-f1rydd"> </button></div>',1),ul=N('<div class="runfile-section svelte-f1rydd"><h3 class="svelte-f1rydd"> </h3> <!></div>'),fl=N('<div><span class="status-icon svelte-f1rydd"> </span> <span> </span> <button class="close-status svelte-f1rydd">×</button></div>'),dl=N('<div class="runfile-container svelte-f1rydd"><div class="runfile-group-nav svelte-f1rydd"></div> <!> <!></div>'),pl=N(`<div class="runfile-settings svelte-f1rydd"><h2 class="svelte-f1rydd">Runfile Configuration</h2> <p class="settings-intro svelte-f1rydd">Configure command line arguments that will be used when launching the game server.
      These settings are saved to a runfile that is used when the server is started.</p> <!></div>`);function hl(e,t){Le(t,!1);let r=B([]),n=B(""),s=B(""),i=B(!1),l,v=B([]),o=B(!0),u=B(!1);ot(async()=>{await _()});async function _(){d(o,!0);try{const m=await Pe("/api/v2/runfile/groups"),{data:T,error:C}=await m.json();if(C){S(`Failed to load groups: ${C}`,!0);return}d(r,T),a(r).length>0&&await f(a(r)[0])}catch(m){S(`Error fetching runfile groups: ${m.message}`,!0)}finally{d(o,!1)}}async function f(m){d(o,!0),d(n,m),await c(m),d(o,!1)}async function c(m){try{const T=await Pe(`/api/v2/runfile/args?group=${encodeURIComponent(m)}`),{data:C,error:L}=await T.json();if(L){S(`Failed to load args: ${L}`,!0);return}d(v,C)}catch(T){S(`Error fetching runfile args: ${T.message}`,!0)}}async function g(m,T){try{const C=await Pe("/api/v2/runfile/args/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flag:m,value:T})}),{error:L}=await C.json();if(L){S(`Failed to update ${m}: ${L}`,!0);return}S(`Updated ${m} successfully`,!1)}catch(C){S(`Error updating ${m}: ${C.message}`,!0)}}function h(m,T){const C=T.target;let L;m.type==="bool"?L=C.checked.toString():L=C.value,g(m.flag,L)}async function A(){d(u,!0);try{const m=await Pe("/api/v2/runfile/save",{method:"POST"}),{error:T}=await m.json();if(T){S(`Failed to save runfile: ${T}`,!0);return}S("Runfile saved successfully",!1)}catch(m){S(`Error saving runfile: ${m.message}`,!0)}finally{d(u,!1)}}function S(m,T){d(s,m),d(i,T),l&&clearTimeout(l),l=setTimeout(()=>{d(s,"")},3e4)}Xe();var b=pl(),E=y(p(b),4);{var x=m=>{var T=tl();w(m,T)},k=(m,T)=>{{var C=M=>{var te=rl();w(M,te)},L=M=>{var te=dl(),X=p(te);$e(X,5,()=>a(r),Ve,(I,V)=>{var H=al(),q=p(H);J(()=>{de(H,1,`section-nav-button ${a(n)===a(V)?"active":""}`,"svelte-f1rydd"),F(q,a(V))}),K("click",H,()=>f(a(V))),w(I,H)});var ae=y(X,2);{var ie=I=>{var V=nl(),H=y(p(V),2),q=p(H);J(()=>F(q,`Loading ${a(n)??""} settings...`)),w(I,V)},Z=(I,V)=>{{var H=q=>{var $=ul(),Y=p($),P=p(Y),fe=y(Y,2);{var he=ke=>{var _e=sl();w(ke,_e)},we=ke=>{var _e=vl(),Se=Ke(_e);$e(Se,5,()=>a(v),Ve,(z,U)=>{var O=cl(),W=p(O),D=p(W),j=p(D),ne=y(D,2);{var ge=me=>{var Q=il();J(()=>{Ne(Q,"id",a(U).flag),sn(Q,a(U).runtime_value==="true"),Q.disabled=a(U).disabled}),K("change",Q,re=>h(a(U),re)),w(me,Q)},ce=(me,Q)=>{{var re=Oe=>{var ye=ll();J(()=>{Ne(ye,"id",a(U).flag),Ct(ye,a(U).runtime_value||""),Ne(ye,"min",a(U).min),Ne(ye,"max",a(U).max),ye.required=a(U).required,ye.disabled=a(U).disabled}),K("change",ye,Mt=>h(a(U),Mt)),w(Oe,ye)},be=Oe=>{var ye=ol();J(()=>{Ne(ye,"id",a(U).flag),Ct(ye,a(U).runtime_value||""),ye.required=a(U).required,ye.disabled=a(U).disabled}),K("change",ye,Mt=>h(a(U),Mt)),w(Oe,ye)};R(me,Oe=>{a(U).type==="int"?Oe(re):Oe(be,!1)},Q)}};R(ne,me=>{a(U).type==="bool"?me(ge):me(ce,!1)})}var oe=y(W,2),le=p(oe);J(()=>{F(j,a(U).ui_label||a(U).flag),F(le,a(U).description||"No description available")}),w(z,O)});var Ee=y(Se,2),Ae=p(Ee),Ue=p(Ae);J(()=>{Ae.disabled=a(u),F(Ue,a(u)?"Saving...":"Save All Changes")}),K("click",Ae,A),w(ke,_e)};R(fe,ke=>{a(v).length===0?ke(he):ke(we,!1)})}J(()=>F(P,`${a(n)??""} GameServer Settings`)),w(q,$)};R(I,q=>{a(n)&&q(H)},V)}};R(ae,I=>{a(o)&&a(n)?I(ie):I(Z,!1)})}var G=y(ae,2);{var ee=I=>{var V=fl();let H;var q=p(V),$=p(q),Y=y(q,2),P=p(Y),fe=y(Y,2);J(he=>{H=de(V,1,"status-message svelte-f1rydd",null,H,he),F($,a(i)?"⚠️":"✓"),F(P,a(s))},[()=>({error:a(i)})],Fe),K("click",fe,()=>d(s,"")),w(I,V)};R(G,I=>{a(s)&&I(ee)})}w(M,te)};R(m,M=>{a(r).length===0?M(C):M(L,!1)},T)}};R(E,m=>{a(o)&&a(r).length===0?m(x):m(k,!1)})}w(e,b),Be()}var gl=N('<span class="status-timestamp svelte-okzcno"> </span>'),_l=N('<button class="action-button danger svelte-okzcno">Remove</button>'),bl=N('<div class="backend-item svelte-okzcno"><div class="backend-info svelte-okzcno"><h3 class="svelte-okzcno"> </h3> <p class="svelte-okzcno"> </p></div> <div class="backend-status svelte-okzcno"><label class="status-toggle svelte-okzcno"><input type="radio" name="activeBackend"> <span class="status-label svelte-okzcno"> </span></label></div> <div class="backend-actions svelte-okzcno"><!></div></div>'),ml=N('<div class="backend-settings svelte-okzcno"><div class="section-header svelte-okzcno"><h2 class="svelte-okzcno">Backend Connections</h2></div> <div class="current-backends"><div class="backend-controls svelte-okzcno"><h3>Configured Backends</h3> <div class="active-status svelte-okzcno"><!> <!></div> <button class="action-button test-all svelte-okzcno"> </button></div> <div class="backend-list svelte-okzcno"></div></div> <div class="add-backend"><div class="section-header svelte-okzcno"><h3 class="svelte-okzcno">Add New Backend</h3></div> <div class="form-container svelte-okzcno"><div class="form-group svelte-okzcno"><label for="backend-id" class="svelte-okzcno">Backend ID</label> <input type="text" id="backend-id" placeholder="e.g., production" class="svelte-okzcno"></div> <div class="form-group svelte-okzcno"><label for="backend-url" class="svelte-okzcno">Backend URL</label> <input type="text" id="backend-url" placeholder="e.g., https://api.example.com" class="svelte-okzcno"></div> <button class="primary-button svelte-okzcno">+ Add Backend</button></div></div></div>');function yl(e,t){Le(t,!1);const r=[];let n=B(),s=B(""),i=B(""),l=B(""),v=B([]),o={},u=B(!1),_=B({status:"unknown",lastChecked:null});const f=xe.subscribe(q=>{d(n,q),d(l,q.active),d(v,Object.keys(q.backends)),a(v).forEach($=>{$ in o||(o[$]={status:"unknown",lastChecked:null})})});ot(()=>{pn();const q=setInterval(g,1e4);return g(),()=>{f(),clearInterval(q)}});async function c(q,$=!1){if(!a(u)){d(u,!0),a(n).backends[q].url;try{const P={status:(await Pe("/api/v2/server/status",{method:"GET",headers:{"Content-Type":"application/json"}})).ok?"online":"offline",lastChecked:new Date};o[q]=P,q===a(l)&&d(_,P)}catch{const P={status:"error",lastChecked:new Date};o[q]=P,q===a(l)&&d(_,P)}finally{d(u,!1),o={...o},d(_,{...a(_)})}}}async function g(){for(const q of a(v))await c(q,!0)}function h(){!a(s)||!a(i)||(dn(a(s),a(i)),d(s,""),d(i,""))}function A(){ur(a(l)),c(a(l))}function S(q){if(q==="default"){alert("Cannot remove the default backend");return}xe.update($=>($.active===q&&($.active="default",d(l,"default"),d(_,o.default||{status:"unknown",lastChecked:null})),delete $.backends[q],delete o[q],$))}Xe();var b=ml(),E=y(p(b),2),x=p(E),k=y(p(x),2),m=p(k);{var T=q=>{var $=se("🟢 Online");w(q,$)},C=(q,$)=>{{var Y=fe=>{var he=se("🔴 Offline");w(fe,he)},P=(fe,he)=>{{var we=_e=>{var Se=se("⚠️ Error");w(_e,Se)},ke=_e=>{var Se=se("⚪ Unknown");w(_e,Se)};R(fe,_e=>{a(_).status==="error"?_e(we):_e(ke,!1)},he)}};R(q,fe=>{a(_).status==="offline"?fe(Y):fe(P,!1)},$)}};R(m,q=>{a(_).status==="online"?q(T):q(C,!1)})}var L=y(m,2);{var M=q=>{var $=gl(),Y=p($);J(P=>F(Y,`(Last checked: ${P??""})`),[()=>new Date(a(_).lastChecked).toLocaleTimeString()],Fe),w(q,$)};R(L,q=>{a(_).lastChecked&&q(M)})}var te=y(k,2),X=p(te),ae=y(x,2);$e(ae,5,()=>a(v),Ve,(q,$)=>{var Y=bl(),P=p(Y),fe=p(P),he=p(fe),we=y(fe,2),ke=p(we),_e=y(P,2),Se=p(_e),Ee=p(Se),Ae,Ue=y(Ee,2),z=p(Ue),U=y(_e,2),O=p(U);{var W=D=>{var j=_l();K("click",j,()=>S(a($))),w(D,j)};R(O,D=>{a($)!=="default"&&D(W)})}J(()=>{F(he,a($)),F(ke,a(n).backends[a($)].url),Ae!==(Ae=a($))&&(Ee.value=(Ee.__value=a($))??""),F(z,a($)===a(l)?"Active":"Set Active")}),on(r,[],Ee,()=>(a($),a(l)),D=>d(l,D)),K("change",Ee,A),w(q,Y)});var ie=y(E,2),Z=y(p(ie),2),G=p(Z),ee=y(p(G),2),I=y(G,2),V=y(p(I),2),H=y(I,2);J(()=>{te.disabled=a(u),F(X,a(u)?"Testing...":"Test Active Backend")}),K("click",te,()=>c(a(l))),Tt(ee,()=>a(s),q=>d(s,q)),Tt(V,()=>a(i),q=>d(i,q)),K("click",H,h),w(e,b),Be()}var wl=(e,t)=>t("General"),kl=(e,t)=>t("Runfile"),xl=(e,t)=>t("Backends"),Sl=(e,t)=>t("Discord"),El=N("<div>Discord Settings not yet implemented</div>"),Al=N('<div class="settings-container svelte-1oj27tx"><div class="settings-sidebar svelte-1oj27tx"><button>General</button> <button>Runfile Settings</button> <button>Backends</button> <button>Discord</button></div> <div class="settings-content svelte-1oj27tx"><!></div></div>');function Cl(e,t){Le(t,!1);let r=B("General");function n(h){d(r,h)}Xe();var s=Al(),i=p(s),l=p(i);l.__click=[wl,n];var v=y(l,2);v.__click=[kl,n];var o=y(v,2);o.__click=[xl,n];var u=y(o,2);u.__click=[Sl,n];var _=y(i,2),f=p(_);{var c=h=>{el(h,{get activeSidebarTab(){return a(r)}})},g=(h,A)=>{{var S=E=>{hl(E,{})},b=(E,x)=>{{var k=T=>{var C=El();w(T,C)},m=(T,C)=>{{var L=M=>{yl(M,{})};R(T,M=>{a(r)==="Backends"&&M(L)},C)}};R(E,T=>{a(r)==="Discord"?T(k):T(m,!1)},x)}};R(h,E=>{a(r)==="Runfile"?E(S):E(b,!1)},A)}};R(f,h=>{["General","Appearance","SteamCMD","Notifications"].includes(a(r))?h(c):h(g,!1)})}J(()=>{de(l,1,`settings-nav ${a(r)==="General"?"active":""}`,"svelte-1oj27tx"),de(v,1,`settings-nav ${a(r)==="Runfile"?"active":""}`,"svelte-1oj27tx"),de(o,1,`settings-nav ${a(r)==="Backends"?"active":""}`,"svelte-1oj27tx"),de(u,1,`settings-nav ${a(r)==="Discord"?"active":""}`,"svelte-1oj27tx")}),w(e,s),Be()}Xr(["click"]);var Tl=N(`<div class="logs-container svelte-tkpu1q"><div class="logs-filter svelte-tkpu1q"><div class="filter-group svelte-tkpu1q"><label class="svelte-tkpu1q">Server</label> <select class="svelte-tkpu1q"><option>All Servers</option><option>Server 1</option><option>Server 2</option><option>Server 3</option><option>Server 4</option></select></div> <div class="filter-group svelte-tkpu1q"><label class="svelte-tkpu1q">Log Level</label> <div class="checkbox-group svelte-tkpu1q"><label class="svelte-tkpu1q"><input type="checkbox" checked class="svelte-tkpu1q"> Info</label> <label class="svelte-tkpu1q"><input type="checkbox" checked class="svelte-tkpu1q"> Warning</label> <label class="svelte-tkpu1q"><input type="checkbox" checked class="svelte-tkpu1q"> Error</label> <label class="svelte-tkpu1q"><input type="checkbox" checked class="svelte-tkpu1q"> Debug</label></div></div> <div class="filter-group svelte-tkpu1q"><label class="svelte-tkpu1q">Time Range</label> <select class="svelte-tkpu1q"><option>Last Hour</option><option>Last 24 Hours</option><option>Last Week</option><option>All Time</option></select></div> <button class="refresh-button svelte-tkpu1q">Refresh</button></div> <div class="logs-viewer svelte-tkpu1q"><div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:34:56</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 1</span> <span class="message svelte-tkpu1q">Server started successfully</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:34:58</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 2</span> <span class="message svelte-tkpu1q">Player 'JohnDoe' connected</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:35:01</span> <span class="level warning svelte-tkpu1q">WARN</span> <span class="server svelte-tkpu1q">Server 3</span> <span class="message svelte-tkpu1q">High CPU usage detected (85%)</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:35:15</span> <span class="level error svelte-tkpu1q">ERROR</span> <span class="server svelte-tkpu1q">Server 4</span> <span class="message svelte-tkpu1q">Failed to write to config file: Permission denied</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:35:30</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 2</span> <span class="message svelte-tkpu1q">Player 'JaneDoe' connected</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:36:05</span> <span class="level debug svelte-tkpu1q">DEBUG</span> <span class="server svelte-tkpu1q">Server 1</span> <span class="message svelte-tkpu1q">Memory usage: 3.2GB/8GB</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:36:42</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 3</span> <span class="message svelte-tkpu1q">Map changed to 'de_dust2'</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:37:15</span> <span class="level warning svelte-tkpu1q">WARN</span> <span class="server svelte-tkpu1q">Server 2</span> <span class="message svelte-tkpu1q">Possible network lag detected</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:38:01</span> <span class="level info svelte-tkpu1q">INFO</span> <span class="server svelte-tkpu1q">Server 1</span> <span class="message svelte-tkpu1q">Autosave completed successfully</span></div> <div class="log-line svelte-tkpu1q"><span class="timestamp svelte-tkpu1q">12:39:30</span> <span class="level error svelte-tkpu1q">ERROR</span> <span class="server svelte-tkpu1q">Server 4</span> <span class="message svelte-tkpu1q">Connection to Steam API timed out</span></div></div></div>`);function ql(e){var t=Tl();w(e,t)}var Ol=N('<main class="main-content svelte-1us6uc8"><div class="view-header svelte-1us6uc8"><h1> </h1> <p> </p></div> <div class="view-content svelte-1us6uc8"><!></div></main>');function Il(e,t){let r=Ge(t,"activeView",8,"dashboard");const n={dashboard:{title:"Dashboard",description:"Server overview and statistics"},servers:{title:"Servers",description:"Manage your game servers"},settings:{title:"Settings",description:"Configure application settings"},logs:{title:"Logs",description:"View server logs and events"},console:{title:"Console",description:"View server console output"}};var s=Ol(),i=p(s),l=p(i);let v;var o=p(l),u=y(l,2);let _;var f=p(u),c=y(i,2),g=p(c);{var h=S=>{ji(S)},A=(S,b)=>{{var E=k=>{Cl(k,{})},x=(k,m)=>{{var T=L=>{ql(L)},C=(L,M)=>{{var te=X=>{hn(X,{})};R(L,X=>{r()==="console"&&X(te)},M)}};R(k,L=>{r()==="logs"?L(T):L(C,!1)},m)}};R(S,k=>{r()==="settings"?k(E):k(x,!1)},b)}};R(g,S=>{r()==="dashboard"?S(h):S(A,!1)})}J((S,b)=>{v=de(l,1,"svelte-1us6uc8",null,v,S),F(o,n[r()].title),_=de(u,1,"description svelte-1us6uc8",null,_,b),F(f,n[r()].description)},[()=>({hide:r()==="dashboard"}),()=>({hide:r()==="dashboard"})],Fe),w(e,s)}var Rl=N('<div class="error-message svelte-ksqk3p"> </div>'),Nl=N('<div class="initializing svelte-ksqk3p"><div class="loading-spinner svelte-ksqk3p"></div> <p class="svelte-ksqk3p"><!></p> <!></div>');function Ll(e,t){Le(t,!1);let r=Ge(t,"onStatusChange",8,f=>{}),n=B(!1),s=B("checking"),i=B(null);AbortSignal.timeout||(AbortSignal.timeout=function(c){const g=new AbortController;return setTimeout(()=>g.abort(),c),g.signal});async function l(){try{const f=new URL(window.location.href),c=`${f.protocol}//${f.host}`,g=new AbortController,h=setTimeout(()=>g.abort(),5e3),A=await fetch(`${c}/api/v2/server/status`,{method:"GET",signal:g.signal});return clearTimeout(h),A.status===404?(d(s,"offline"),d(i,"Server endpoint not found. The server may not support this API."),!0):A.ok||A.status===401||A.status===403?(d(s,"online"),!0):(d(s,"error"),d(i,`Server error: ${A.status} ${A.statusText}`),!1)}catch(f){return f.name==="AbortError"?(d(s,"offline"),d(i,"Connection timed out. The server may be slow or unreachable.")):f.message.includes("certificate")||f.message.includes("SSL")||f.message.includes("ERR_CERT")?(d(s,"cert-error"),d(i,"Certificate error. The server may be using an invalid or self-signed certificate. Try accepting the certificate in your browser.")):f.message.includes("Failed to fetch")||f.message.includes("NetworkError")?(d(s,"unreachable"),d(i,"Server not found. The server may be down or the URL may be incorrect.")):(d(s,"offline"),d(i,f.message||"Cannot connect to server")),!1}}ot(async()=>{if(pn(),await l())try{await Jt()}catch(c){console.warn("Auth check failed:",c)}r()({status:a(s),error:a(i)}),d(n,!0)}),Xe();var v=Nt(),o=Ke(v);{var u=f=>{var c=Nt(),g=Ke(c);an(g,t,"default",{}),w(f,c)},_=f=>{var c=Nl(),g=y(p(c),2),h=p(g);{var A=x=>{var k=se("Connecting to server...");w(x,k)},S=(x,k)=>{{var m=C=>{var L=se("Initializing application...");w(C,L)},T=(C,L)=>{{var M=X=>{var ae=se("Cannot connect to server");w(X,ae)},te=(X,ae)=>{{var ie=G=>{var ee=se("Server error");w(G,ee)},Z=(G,ee)=>{{var I=H=>{var q=se("Certificate error");w(H,q)},V=(H,q)=>{{var $=Y=>{var P=se("Server not found");w(Y,P)};R(H,Y=>{a(s)==="unreachable"&&Y($)},q)}};R(G,H=>{a(s)==="cert-error"?H(I):H(V,!1)},ee)}};R(X,G=>{a(s)==="error"?G(ie):G(Z,!1)},ae)}};R(C,X=>{a(s)==="offline"?X(M):X(te,!1)},L)}};R(x,C=>{a(s)==="online"?C(m):C(T,!1)},k)}};R(h,x=>{a(s)==="checking"?x(A):x(S,!1)})}var b=y(g,2);{var E=x=>{var k=Rl(),m=p(k);J(()=>F(m,a(i))),w(x,k)};R(b,x=>{a(i)&&x(E)})}w(f,c)};R(o,f=>{a(n)?f(u):f(_,!1)})}w(e,v),Be()}var Bl=N('<div class="backend-item svelte-1ygmrwf"><label class="backend-option svelte-1ygmrwf"><input type="radio" name="backend" class="svelte-1ygmrwf"> <div class="backend-details svelte-1ygmrwf"><span class="backend-name svelte-1ygmrwf"> </span> <span class="backend-url svelte-1ygmrwf"> </span></div> <span><!></span></label></div>'),zl=N('<div class="backend-dropdown svelte-1ygmrwf"><div class="dropdown-header svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Select Backend</h3> <button class="close-btn svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="backend-list svelte-1ygmrwf"></div> <div class="dropdown-actions svelte-1ygmrwf"><button class="test-btn svelte-1ygmrwf"> </button> <button class="switch-btn svelte-1ygmrwf">Switch Server</button></div></div>'),Dl=N(' <a target="_blank" rel="noopener">Check Backend</a>',1),Pl=N('<div class="error-message svelte-1ygmrwf"><!></div>'),Ml=N(`<div class="new-backend-form svelte-1ygmrwf"><h3 class="svelte-1ygmrwf">Add New Server</h3> <p class="svelte-1ygmrwf">The current server doesn't have the expected login endpoint or is unreachable. Add a new server with the correct authentication endpoint.</p> <div class="form-group svelte-1ygmrwf"><label for="new-backend-id" class="svelte-1ygmrwf">Server Name</label> <input type="text" id="new-backend-id" placeholder="e.g., production" class="svelte-1ygmrwf"></div> <div class="form-group svelte-1ygmrwf"><label for="new-backend-url" class="svelte-1ygmrwf">Server URL</label> <input type="text" id="new-backend-url" placeholder="e.g., https://api.example.com" class="svelte-1ygmrwf"></div> <div class="backend-form-actions svelte-1ygmrwf"><button class="cancel-btn svelte-1ygmrwf">Cancel</button> <button class="add-backend-btn svelte-1ygmrwf">Add Server</button></div></div>`),Ul=Wt('<svg class="loading-spinner svelte-1ygmrwf" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg> Logging in...',1),jl=N('<form><div class="form-group svelte-1ygmrwf"><label for="username" class="svelte-1ygmrwf">Username</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-1ygmrwf"></div></div> <div class="form-group svelte-1ygmrwf"><label for="password" class="svelte-1ygmrwf">Password</label> <div class="input-wrapper svelte-1ygmrwf"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon svelte-1ygmrwf"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-1ygmrwf"></div></div> <button type="submit" class="login-button svelte-1ygmrwf"><!></button></form>'),Fl=N('<div class="login-page svelte-1ygmrwf"><div class="login-container svelte-1ygmrwf"><div class="login-card svelte-1ygmrwf"><div class="login-header svelte-1ygmrwf"><h2 class="svelte-1ygmrwf">Backend Login Required</h2> <div class="server-selector svelte-1ygmrwf"><div class="server-info svelte-1ygmrwf"><span class="server-label svelte-1ygmrwf">Server:</span> <span class="server-url svelte-1ygmrwf"> </span> <span><!></span> <button class="change-server-btn svelte-1ygmrwf" title="Change server"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></button></div> <!></div></div> <!> <!></div></div></div>');function Vl(e,t){Le(t,!1);const[r,n]=fn(),s=()=>un(xe,"$backendConfig",r),i=B(),l=B(),v=B(),o=B(),u=B(),_=[];let f=B(""),c=B(""),g=B(""),h=B(!1),A=B([]),S=B(""),b=B({}),E=B(!1),x=B(!1),k=B(!1),m=B(""),T=B(""),C,L;ot(()=>(C=De.subscribe(z=>{z.authError&&(d(g,z.authError),z.authError==="endpoint not found"&&d(k,!0)),d(h,z.isAuthenticating)}),L=xe.subscribe(z=>{d(A,Object.keys(z.backends)),d(S,z.active),a(A).forEach(U=>{U in a(b)||ct(b,a(b)[U]={status:"unknown",lastChecked:null,error:null})})}),M(a(S)),()=>{C&&C(),L&&L()}));async function M(z){d(x,!0),ct(b,a(b)[z]={status:"checking",lastChecked:new Date,error:null}),d(b,{...a(b)});try{const U=ht(xe),O=U.backends[z].url==="/"?"":U.backends[z].url,W=new AbortController,D=setTimeout(()=>W.abort(),5e3),j=await fetch(`${O}/api/v2/server/status`,{method:"GET",signal:W.signal});clearTimeout(D),j.ok?ct(b,a(b)[z]={status:"online",lastChecked:new Date,error:null}):j.status===401?ct(b,a(b)[z]={status:"online",lastChecked:new Date,authRequired:!0,error:null}):ct(b,a(b)[z]={status:"offline",lastChecked:new Date,error:`Server responded with ${j.status} ${j.statusText}`})}catch(U){let O="error",W="Failed to connect to the server",D=!1;const j=a(l).startsWith("https://");U.name==="AbortError"?W="Connection timed out. The server may be slow or unreachable.":j?(O="cert-error",D=!0,W="There was an error connecting to the remote Backend. If using a self-signed certificate, please visit the server URL to accept the certificate."):W="Server not found. The server may be down or the URL may be incorrect.",ct(b,a(b)[z]={status:O,lastChecked:new Date,error:W,certificateHint:D,backendUrl:a(l)})}finally{d(x,!1),d(b,{...a(b)})}}async function te(){if(d(g,""),d(h,!0),!a(f)||!a(c)){d(g,"Username and password are required"),d(h,!1);return}try{const z=await Qs(a(f),a(c))}catch(z){d(g,z.message||"Login failed")}finally{d(h,!1)}}async function X(){await ur(a(S)),M(a(S)),d(E,!1),d(g,""),d(k,!1)}function ae(){d(E,!a(E))}async function ie(){!a(m)||!a(T)||(dn(a(m),a(T)),d(S,a(m)),await ur(a(m)),M(a(m)),d(k,!1),d(m,""),d(T,""),d(g,""))}ut(()=>s(),()=>{d(i,s().backends[s().active])}),ut(()=>a(i),()=>{var z;d(l,((z=a(i))==null?void 0:z.url)||"/")}),ut(()=>a(l),()=>{d(v,a(l)==="/"?window.location.origin:a(l))}),ut(()=>(a(b),a(S)),()=>{var z;d(o,((z=a(b)[a(S)])==null?void 0:z.status)||"unknown")}),ut(()=>(a(b),a(S)),()=>{var z;d(u,(z=a(b)[a(S)])==null?void 0:z.error)}),Yr(),Xe();var Z=Fl(),G=p(Z),ee=p(G),I=p(ee),V=y(p(I),2),H=p(V),q=y(p(H),2),$=p(q),Y=y(q,2),P=p(Y);{var fe=z=>{var U=se("🟢");w(z,U)},he=(z,U)=>{{var O=D=>{var j=se("🔴");w(D,j)},W=(D,j)=>{{var ne=ce=>{var oe=se("⚠️");w(ce,oe)},ge=(ce,oe)=>{{var le=Q=>{var re=se("🔒");w(Q,re)},me=Q=>{var re=se("⚪");w(Q,re)};R(ce,Q=>{a(o)==="cert-error"?Q(le):Q(me,!1)},oe)}};R(D,ce=>{a(o)==="error"||a(o)==="unreachable"?ce(ne):ce(ge,!1)},j)}};R(z,D=>{a(o)==="offline"?D(O):D(W,!1)},U)}};R(P,z=>{a(o)==="online"?z(fe):z(he,!1)})}var we=y(H,2);{var ke=z=>{var U=zl(),O=p(U),W=y(p(O),2),D=y(O,2);$e(D,5,()=>a(A),Ve,(oe,le)=>{var me=Bl(),Q=p(me),re=p(Q),be,Oe=y(re,2),ye=p(Oe),Mt=p(ye),gn=y(ye,2),_n=p(gn),na=y(Oe,2),bn=p(na);{var mn=Je=>{var bt=se("🟢");w(Je,bt)},yn=(Je,bt)=>{{var wn=mt=>{var yt=se("🔴");w(mt,yt)},kn=(mt,yt)=>{{var xn=wt=>{var kt=se("⚠️");w(wt,kt)},Sn=(wt,kt)=>{{var Yt=xt=>{var St=se("🔒");w(xt,St)},En=xt=>{var St=se("⚪");w(xt,St)};R(wt,xt=>{var St;((St=a(b)[a(le)])==null?void 0:St.status)==="cert-error"?xt(Yt):xt(En,!1)},kt)}};R(mt,wt=>{var kt,Yt;((kt=a(b)[a(le)])==null?void 0:kt.status)==="error"||((Yt=a(b)[a(le)])==null?void 0:Yt.status)==="unreachable"?wt(xn):wt(Sn,!1)},yt)}};R(Je,mt=>{var yt;((yt=a(b)[a(le)])==null?void 0:yt.status)==="offline"?mt(wn):mt(kn,!1)},bt)}};R(bn,Je=>{var bt;((bt=a(b)[a(le)])==null?void 0:bt.status)==="online"?Je(mn):Je(yn,!1)})}J(()=>{var Je;be!==(be=a(le))&&(re.value=(re.__value=a(le))??""),F(Mt,a(le)),F(_n,s().backends[a(le)].url),de(na,1,`status-indicator ${((Je=a(b)[a(le)])==null?void 0:Je.status)||"unknown"}`,"svelte-1ygmrwf")}),on(_,[],re,()=>(a(le),a(S)),Je=>d(S,Je)),w(oe,me)});var j=y(D,2),ne=p(j),ge=p(ne),ce=y(ne,2);J(()=>{ne.disabled=a(x),F(ge,a(x)?"Testing...":"Test Connection"),ce.disabled=a(S)===s().active}),K("click",W,()=>d(E,!1)),K("click",ne,()=>M(a(S))),K("click",ce,X),w(z,U)};R(we,z=>{a(E)&&z(ke)})}var _e=y(I,2);{var Se=z=>{var U=Pl(),O=p(U);{var W=j=>{var ne=se("The selected server doesn't have the expected login endpoint.");w(j,ne)},D=(j,ne)=>{{var ge=oe=>{var le=Dl(),me=Ke(le),Q=y(me);J(()=>{F(me,`${a(u)??""} `),Ne(Q,"href",a(b)[a(S)].backendUrl)}),w(oe,le)},ce=(oe,le)=>{{var me=re=>{var be=se();J(()=>F(be,a(u))),w(re,be)},Q=re=>{var be=se();J(()=>F(be,a(g))),w(re,be)};R(oe,re=>{a(u)?re(me):re(Q,!1)},le)}};R(j,oe=>{a(o)==="cert-error"?oe(ge):oe(ce,!1)},ne)}};R(O,j=>{a(g)==="endpoint not found"?j(W):j(D,!1)})}w(z,U)};R(_e,z=>{(a(g)||a(u))&&z(Se)})}var Ee=y(_e,2);{var Ae=z=>{var U=Ml(),O=y(p(U),4),W=y(p(O),2),D=y(O,2),j=y(p(D),2),ne=y(D,2),ge=p(ne),ce=y(ge,2);J(()=>{W.disabled=a(h),j.disabled=a(h),ge.disabled=a(h),ce.disabled=a(h)||!a(m)||!a(T)}),Tt(W,()=>a(m),oe=>d(m,oe)),Tt(j,()=>a(T),oe=>d(T,oe)),K("click",ge,()=>d(k,!1)),K("click",ce,ie),w(z,U)},Ue=z=>{var U=jl(),O=p(U),W=y(p(O),2),D=y(p(W),2),j=y(O,2),ne=y(p(j),2),ge=y(p(ne),2),ce=y(j,2),oe=p(ce);{var le=Q=>{var re=Ul();w(Q,re)},me=Q=>{var re=se("Login");w(Q,re)};R(oe,Q=>{a(h)?Q(le):Q(me,!1)})}J(()=>{D.disabled=a(h),ge.disabled=a(h),ce.disabled=a(h)||a(o)==="unreachable"||a(o)==="cert-error"}),Tt(D,()=>a(f),Q=>d(f,Q)),Tt(ge,()=>a(c),Q=>d(c,Q)),K("submit",U,Js(te)),w(z,U)};R(Ee,z=>{a(k)?z(Ae):z(Ue,!1)})}J(()=>{F($,a(v)),de(Y,1,`status-indicator ${a(o)??""}`,"svelte-1ygmrwf")}),K("click",H,ae),w(e,Z),Be(),n()}var $l=N('<div class="loading-container svelte-1fcf5wk"><div class="loading-spinner svelte-1fcf5wk"></div> <p class="svelte-1fcf5wk">Checking authentication...</p></div>'),Gl=N('<div class="error-details svelte-1fcf5wk"> </div>'),Hl=N('<div class="server-error-container svelte-1fcf5wk"><div><!></div> <h2 class="svelte-1fcf5wk">Server Unavailable</h2> <p class="error-message svelte-1fcf5wk"><!></p> <!> <button class="retry-button svelte-1fcf5wk">Retry Connection</button></div>');function Wl(e,t){Le(t,!1);const[r,n]=fn(),s=()=>un(De,"$authState",r);let i=Ge(t,"checkAuth",8,!0),l=Ge(t,"serverStatus",8,"online"),v=Ge(t,"serverError",8,null),o=B(!0),u;ot(async()=>{if(i()&&l()==="online"){u=De.subscribe(h=>{d(o,h.isAuthenticating)});try{await Jt()}catch(h){console.error("Auth check failed:",h),d(o,!1)}}else d(o,!1)}),ta(()=>{u&&u()}),Xe();var _=Nt(),f=Ke(_);{var c=h=>{var A=$l();w(h,A)},g=(h,A)=>{{var S=E=>{var x=Hl(),k=p(x),m=p(k);{var T=G=>{var ee=se("🔴");w(G,ee)},C=G=>{var ee=se("⚠️");w(G,ee)};R(m,G=>{l()==="offline"?G(T):G(C,!1)})}var L=y(k,4),M=p(L);{var te=G=>{var ee=se("Cannot connect to the server. Please check your connection or try again later.");w(G,ee)},X=G=>{var ee=se("There was an error connecting to the server.");w(G,ee)};R(M,G=>{l()==="offline"?G(te):G(X,!1)})}var ae=y(L,2);{var ie=G=>{var ee=Gl(),I=p(ee);J(()=>F(I,v())),w(G,ee)};R(ae,G=>{v()&&G(ie)})}var Z=y(ae,2);J(()=>de(k,1,`status-icon ${l()??""}`,"svelte-1fcf5wk")),K("click",Z,()=>window.location.reload()),w(E,x)},b=(E,x)=>{{var k=T=>{Vl(T,{})},m=T=>{var C=Nt(),L=Ke(C);an(L,t,"default",{}),w(T,C)};R(E,T=>{!s().isAuthenticated&&i()?T(k):T(m,!1)},x)}};R(h,E=>{l()==="offline"||l()==="error"?E(S):E(b,!1)},A)}};R(f,h=>{a(o)?h(c):h(g,!1)})}w(e,_),Be(),n()}var Jl=N('<div class="app-container svelte-136oog4"><!> <div class="main-container svelte-136oog4"><!> <!></div></div>');function Yl(e){let t=B("dashboard");const r=[{id:"dashboard",name:"Dashboard",icon:"grid"},{id:"settings",name:"Settings",icon:"settings"},{id:"logs",name:"Logs",icon:"file-text"},{id:"console",name:"Console",icon:"terminal"}];function n(v){d(t,v)}let s=B("checking"),i=B(null);function l(v){d(s,v.status),d(i,v.error)}Ll(e,{onStatusChange:l,children:(v,o)=>{Wl(v,{get serverStatus(){return a(s)},get serverError(){return a(i)},children:(u,_)=>{var f=Jl(),c=p(f);ci(c,{views:r,get activeView(){return a(t)},setActiveView:n});var g=y(c,2),h=p(g);fi(h,{views:r,get activeView(){return a(t)},setActiveView:n});var A=y(h,2);Il(A,{get activeView(){return a(t)}}),w(u,f)},$$slots:{default:!0}})},$$slots:{default:!0}})}qs(Yl,{target:document.getElementById("app")});
