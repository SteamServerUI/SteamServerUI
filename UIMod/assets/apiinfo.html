<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REST API Information</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" type="image/x-icon" href="/static/assets/favicon.ico">
</head>
<body>
    <div id="space-background"></div>
    <header>
        <img src="/static/assets/stationeers.png" alt="Stationeers Banner" id="banner">
    </header>
    <main>
        <h1>About the Server API</h1>
            
        <div class="api-overview">
            <p>This server provides a complete REST API alongside the HTML interface. All UI actions map to API endpoints, allowing full programmatic control.</p>
            <p class="highlight-text">Check out the Github Wiki for more information about the API and how to use it.</p>
        </div>
        
        <div class="api-section">
            <h2>Available Endpoints</h2>
            <div class="endpoint-container">

                <div class="endpoint">
                    <h3>UI Pages</h3>
                    <ul class="api-list">
                        <li>
                            <div class="method get">GET</div>
                            <a href="/" class="endpoint-link">/</a>
                            <div class="endpoint-desc">Main dashboard</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/config" class="endpoint-link">/config</a>
                            <div class="endpoint-desc">Configuration page</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/setup" class="endpoint-link">/setup</a>
                            <div class="endpoint-desc">Configuration Wizzard</div>
                        </li>
                    </ul>
                </div>
                

                <div class="endpoint">
                    <h3>More UI Pages</h3>
                    <ul class="api-list">
                        <li>
                            <div class="method get">GET</div>
                            <a href="/detectionmanager" class="endpoint-link">/detectionmanager</a>
                            <div class="endpoint-desc">Detection rules manager</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/login" class="endpoint-link">/login</a>
                            <div class="endpoint-desc">Login page</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/changeuser" class="endpoint-link">/changeuser</a>
                            <div class="endpoint-desc">Add user / Change Password page</div>
                        </li>
                    </ul>
                </div>

                <div class="endpoint">
                    <h3>Save Management</h3>
                    <ul class="api-list">
                        <li>
                            <div class="method get">GET</div>
                            <a href="/api/v2/backups" class="endpoint-link">/api/v2/backups</a>
                            <div class="endpoint-desc">List available save files</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/api/v2/backups?limit=5" class="endpoint-link">/api/v2/backups?limit=5</a>
                            <div class="endpoint-desc">List limited number of save files</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/api/v2/backups?mode=classic" class="endpoint-link">/api/v2/backups?mode=classic</a>
                            <div class="endpoint-desc">List saves in classic format for UI</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <span class="endpoint-link">/api/v2/backups/restore?index=123</span>
                            <div class="endpoint-desc">Restore from specified save index</div>
                        </li>
                    </ul>
                </div>
                
                <div class="endpoint">
                    <h3>Server Control</h3>
                    <ul class="api-list">
                        <li>
                            <div class="method get">GET</div>
                            <a href="/start" class="endpoint-link">/start</a>
                            <div class="endpoint-desc">Start the game server</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/stop" class="endpoint-link">/stop</a>
                            <div class="endpoint-desc">Stop the game server</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/api/v2/server/start" class="endpoint-link">/api/v2/server/start</a>
                            <div class="endpoint-desc">The same as /start</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/api/v2/server/stop" class="endpoint-link">/api/v2/server/stop</a>
                            <div class="endpoint-desc">The same as /stop</div>
                        </li>
                    </ul>
                </div>

                <div class="endpoint">
                    <h3>Authentication</h3>
                    <ul class="api-list">
                        <li>
                            <div class="method post">POST</div>
                            <a href="/auth/login" class="endpoint-link">/auth/login</a>
                            <div class="endpoint-desc">Get authentication token (JSON body with username/password)</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/auth/logout" class="endpoint-link">/auth/logout</a>
                            <div class="endpoint-desc">Logout and invalidate token</div>
                        </li>
                        <li>
                            <div class="method post">POST</div>
                            <span class="endpoint-link">/api/v2/auth/adduser</span>
                            <div class="endpoint-desc">Add a new user or change password (JSON body)</div>
                        </li>
                    </ul>
                </div>

                <div class="endpoint">
                    <h3>Custom Detection Rules</h3>
                    <ul class="api-list">
                        <li>
                            <div class="method get">GET</div>
                            <a href="/api/v2/custom-detections" class="endpoint-link">/api/v2/custom-detections</a>
                            <div class="endpoint-desc">Get all custom detection rules</div>
                        </li>
                        <li>
                            <div class="method post">POST</div>
                            <span class="endpoint-link">/api/v2/custom-detections</span>
                            <div class="endpoint-desc">Create new detection rule (keyword or regex)</div>
                        </li>
                        <li>
                            <div class="method delete">DELETE</div>
                            <span class="endpoint-link">/api/v2/custom-detections/delete/?id=uuid</span>
                            <div class="endpoint-desc">Delete a detection rule by ID</div>
                        </li>
                    </ul>
                </div>

                <div class="endpoint">
                    <h3>Configuration</h3>
                    <ul class="api-list">
                        <li>
                            <div class="method post">POST</div>
                            <span class="endpoint-link">/saveconfigasjson</span>
                            <div class="endpoint-desc">Save server configuration (Form data, legacy)</div>
                        </li>
                        <li>
                            <div class="method post">POST</div>
                            <span class="endpoint-link">/api/v2/saveconfig</span>
                            <div class="endpoint-desc">Save server configuration (JSON body)</div>
                        </li>
                    </ul>
                </div>

                <div class="endpoint">
                    <h3>Information Streams</h3>
                    <ul class="api-list">
                        <li>
                            <div class="method get">GET</div>
                            <a href="/console" class="endpoint-link">/console</a>
                            <div class="endpoint-desc">Server console output stream (SSE)</div>
                        </li>
                        <li>
                            <div class="method get">GET</div>
                            <a href="/events" class="endpoint-link">/events</a>
                            <div class="endpoint-desc">Server events stream (SSE)</div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="form-actions">
            <button onclick="window.location.href = '/'">Back to Dashboard</button>
        </div>
    </main>
    <footer>
        <div class="copyright">Copyright &copy; 2025 <a href="https://github.com/jacksonthemaster">JacksonTheMaster.</a> Licensed under <a href="https://github.com/jacksonthemaster/StationeersServerUI/blob/main/LICENSE">MIT License</a>.</div>
    </footer>
</body>
</html>